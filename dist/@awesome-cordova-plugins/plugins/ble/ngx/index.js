import { __extends } from "tslib";
import { Injectable } from '@angular/core';
import { AwesomeCordovaNativePlugin, cordova } from '@awesome-cordova-plugins/core';
import { Observable } from 'rxjs';
var BLE = /** @class */ (function (_super) {
    __extends(BLE, _super);
    function BLE() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    BLE.prototype.scan = function (services, seconds) { return cordova(this, "scan", { "observable": true }, arguments); };
    BLE.prototype.startScan = function (services) { return cordova(this, "startScan", { "observable": true, "clearFunction": "stopScan", "clearWithArgs": false }, arguments); };
    BLE.prototype.startScanWithOptions = function (services, options) { return cordova(this, "startScanWithOptions", { "observable": true, "clearFunction": "stopScan", "clearWithArgs": false }, arguments); };
    BLE.prototype.stopScan = function () { return cordova(this, "stopScan", {}, arguments); };
    BLE.prototype.setPin = function (pin) { return cordova(this, "setPin", { "observable": true }, arguments); };
    BLE.prototype.connect = function (deviceId) { return cordova(this, "connect", { "observable": true, "clearFunction": "disconnect", "clearWithArgs": true }, arguments); };
    BLE.prototype.autoConnect = function (deviceId, connectCallback, disconnectCallback) { return cordova(this, "autoConnect", { "sync": true }, arguments); };
    BLE.prototype.requestMtu = function (deviceId, mtuSize) { return cordova(this, "requestMtu", {}, arguments); };
    BLE.prototype.refreshDeviceCache = function (deviceId, timeoutMillis) { return cordova(this, "refreshDeviceCache", {}, arguments); };
    BLE.prototype.disconnect = function (deviceId) { return cordova(this, "disconnect", {}, arguments); };
    BLE.prototype.read = function (deviceId, serviceUUID, characteristicUUID) { return cordova(this, "read", {}, arguments); };
    BLE.prototype.write = function (deviceId, serviceUUID, characteristicUUID, value) { return cordova(this, "write", {}, arguments); };
    BLE.prototype.writeWithoutResponse = function (deviceId, serviceUUID, characteristicUUID, value) { return cordova(this, "writeWithoutResponse", {}, arguments); };
    BLE.prototype.startNotification = function (deviceId, serviceUUID, characteristicUUID) { return cordova(this, "startNotification", { "observable": true, "destruct": true, "clearFunction": "stopNotification", "clearWithArgs": true }, arguments); };
    BLE.prototype.stopNotification = function (deviceId, serviceUUID, characteristicUUID) { return cordova(this, "stopNotification", {}, arguments); };
    BLE.prototype.isConnected = function (deviceId) { return cordova(this, "isConnected", {}, arguments); };
    BLE.prototype.isEnabled = function () { return cordova(this, "isEnabled", {}, arguments); };
    BLE.prototype.startStateNotifications = function () { return cordova(this, "startStateNotifications", { "observable": true, "clearFunction": "stopStateNotifications", "clearWithArgs": false }, arguments); };
    BLE.prototype.stopStateNotifications = function () { return cordova(this, "stopStateNotifications", {}, arguments); };
    BLE.prototype.showBluetoothSettings = function () { return cordova(this, "showBluetoothSettings", {}, arguments); };
    BLE.prototype.enable = function () { return cordova(this, "enable", {}, arguments); };
    BLE.prototype.readRSSI = function (deviceId) { return cordova(this, "readRSSI", {}, arguments); };
    BLE.prototype.connectedPeripheralsWithServices = function (services) { return cordova(this, "connectedPeripheralsWithServices", {}, arguments); };
    BLE.prototype.peripheralsWithIdentifiers = function (uuids) { return cordova(this, "peripheralsWithIdentifiers", {}, arguments); };
    BLE.prototype.bondedDevices = function () { return cordova(this, "bondedDevices", {}, arguments); };
    BLE.prototype.isLocationEnabled = function () { return cordova(this, "isLocationEnabled", {}, arguments); };
    BLE.pluginName = "BLE";
    BLE.plugin = "cordova-plugin-ble-central";
    BLE.pluginRef = "ble";
    BLE.repo = "https://github.com/don/cordova-plugin-ble-central";
    BLE.platforms = ["Android", "iOS"];
    BLE.decorators = [
        { type: Injectable }
    ];
    return BLE;
}(AwesomeCordovaNativePlugin));
export { BLE };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvQGF3ZXNvbWUtY29yZG92YS1wbHVnaW5zL3BsdWdpbnMvYmxlL25neC9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzQyxPQUFPLHVDQUErQyxNQUFNLCtCQUErQixDQUFDO0FBQzVGLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxNQUFNLENBQUM7O0lBcUxULHVCQUEwQjs7OztJQWlCakQsa0JBQUksYUFBQyxRQUFrQixFQUFFLE9BQWU7SUF5QnhDLHVCQUFTLGFBQUMsUUFBa0I7SUFnQjVCLGtDQUFvQixhQUFDLFFBQWtCLEVBQUUsT0FBdUI7SUFtQmhFLHNCQUFRO0lBc0JSLG9CQUFNLGFBQUMsR0FBVztJQXdCbEIscUJBQU8sYUFBQyxRQUFnQjtJQWdDeEIseUJBQVcsYUFBQyxRQUFnQixFQUFFLGVBQW9CLEVBQUUsa0JBQXVCO0lBcUIzRSx3QkFBVSxhQUFDLFFBQWdCLEVBQUUsT0FBZTtJQXVCNUMsZ0NBQWtCLGFBQUMsUUFBZ0IsRUFBRSxhQUFxQjtJQWlCMUQsd0JBQVUsYUFBQyxRQUFnQjtJQWEzQixrQkFBSSxhQUFDLFFBQWdCLEVBQUUsV0FBbUIsRUFBRSxrQkFBMEI7SUFrQ3RFLG1CQUFLLGFBQUMsUUFBZ0IsRUFBRSxXQUFtQixFQUFFLGtCQUEwQixFQUFFLEtBQWtCO0lBYzNGLGtDQUFvQixhQUNsQixRQUFnQixFQUNoQixXQUFtQixFQUNuQixrQkFBMEIsRUFDMUIsS0FBa0I7SUEyQnBCLCtCQUFpQixhQUFDLFFBQWdCLEVBQUUsV0FBbUIsRUFBRSxrQkFBMEI7SUFhbkYsOEJBQWdCLGFBQUMsUUFBZ0IsRUFBRSxXQUFtQixFQUFFLGtCQUEwQjtJQWtCbEYseUJBQVcsYUFBQyxRQUFnQjtJQVU1Qix1QkFBUztJQW9CVCxxQ0FBdUI7SUFVdkIsb0NBQXNCO0lBVXRCLG1DQUFxQjtJQVVyQixvQkFBTTtJQVdOLHNCQUFRLGFBQUMsUUFBZ0I7SUFhekIsOENBQWdDLGFBQUMsUUFBa0I7SUFZbkQsd0NBQTBCLGFBQUMsS0FBZTtJQVcxQywyQkFBYTtJQVdiLCtCQUFpQjs7Ozs7OztnQkExY2xCLFVBQVU7O2NBdExYO0VBdUx5QiwwQkFBMEI7U0FBdEMsR0FBRyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQ29yZG92YSwgQXdlc29tZUNvcmRvdmFOYXRpdmVQbHVnaW4sIFBsdWdpbiB9IGZyb20gJ0Bhd2Vzb21lLWNvcmRvdmEtcGx1Z2lucy9jb3JlJztcclxuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBCTEVTY2FuT3B0aW9ucyB7XHJcbiAgLyoqIHRydWUgaWYgZHVwbGljYXRlIGRldmljZXMgc2hvdWxkIGJlIHJlcG9ydGVkLCBmYWxzZSAoZGVmYXVsdCkgaWYgZGV2aWNlcyBzaG91bGQgb25seSBiZSByZXBvcnRlZCBvbmNlLiAgKi9cclxuICByZXBvcnREdXBsaWNhdGVzPzogYm9vbGVhbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBuYW1lIEJMRVxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVGhpcyBwbHVnaW4gZW5hYmxlcyBjb21tdW5pY2F0aW9uIGJldHdlZW4gYSBwaG9uZSBhbmQgQmx1ZXRvb3RoIExvdyBFbmVyZ3kgKEJMRSkgcGVyaXBoZXJhbHMuXHJcbiAqXHJcbiAqIFRoZSBwbHVnaW4gcHJvdmlkZXMgYSBzaW1wbGUgSmF2YVNjcmlwdCBBUEkgZm9yIGlPUyBhbmQgQW5kcm9pZC5cclxuICpcclxuICogLSBTY2FuIGZvciBwZXJpcGhlcmFsc1xyXG4gKiAtIENvbm5lY3QgdG8gYSBwZXJpcGhlcmFsXHJcbiAqIC0gUmVhZCB0aGUgdmFsdWUgb2YgYSBjaGFyYWN0ZXJpc3RpY1xyXG4gKiAtIFdyaXRlIG5ldyB2YWx1ZSB0byBhIGNoYXJhY3RlcmlzdGljXHJcbiAqIC0gR2V0IG5vdGlmaWVkIHdoZW4gY2hhcmFjdGVyaXN0aWMncyB2YWx1ZSBjaGFuZ2VzXHJcbiAqXHJcbiAqIEFkdmVydGlzaW5nIGluZm9ybWF0aW9uIGlzIHJldHVybmVkIHdoZW4gc2Nhbm5pbmcgZm9yIHBlcmlwaGVyYWxzLiBTZXJ2aWNlLCBjaGFyYWN0ZXJpc3RpYywgYW5kIHByb3BlcnR5IGluZm8gaXMgcmV0dXJuZWQgd2hlbiBjb25uZWN0aW5nIHRvIGEgcGVyaXBoZXJhbC4gQWxsIGFjY2VzcyBpcyB2aWEgc2VydmljZSBhbmQgY2hhcmFjdGVyaXN0aWMgVVVJRHMuIFRoZSBwbHVnaW4gbWFuYWdlcyBoYW5kbGVzIGludGVybmFsbHkuXHJcbiAqXHJcbiAqIFNpbXVsdGFuZW91cyBjb25uZWN0aW9ucyB0byBtdWx0aXBsZSBwZXJpcGhlcmFscyBhcmUgc3VwcG9ydGVkLlxyXG4gKiBAdXNhZ2VcclxuICpcclxuICogYGBgdHlwZXNjcmlwdFxyXG4gKlxyXG4gKiBpbXBvcnQgeyBCTEUgfSBmcm9tICdAYXdlc29tZS1jb3Jkb3ZhLXBsdWdpbnMvYmxlL25neCc7XHJcbiAqXHJcbiAqIGNvbnN0cnVjdG9yKHByaXZhdGUgYmxlOiBCTEUpIHsgfVxyXG4gKlxyXG4gKiBgYGBcclxuICpcclxuICogIyMgUGVyaXBoZXJhbCBEYXRhXHJcbiAqXHJcbiAqIFBlcmlwaGVyYWwgRGF0YSBpcyBwYXNzZWQgdG8gdGhlIHN1Y2Nlc3MgY2FsbGJhY2sgd2hlbiBzY2FubmluZyBhbmQgY29ubmVjdGluZy4gTGltaXRlZCBkYXRhIGlzIHBhc3NlZCB3aGVuIHNjYW5uaW5nLlxyXG4gKlxyXG4gKiBgYGB0eXBlc2NyaXB0XHJcbiAqICAge1xyXG4gKiAgICAgICAnbmFtZSc6ICdCYXR0ZXJ5IERlbW8nLFxyXG4gKiAgICAgICAnaWQnOiAnMjA6RkY6RDA6RkY6RDE6QzAnLFxyXG4gKiAgICAgICAnYWR2ZXJ0aXNpbmcnOiBbMiwxLDYsMywzLDE1LDI0LDgsOSw2Niw5NywxMTYsMTE2LDEwMSwxMTQsMTIxXSxcclxuICogICAgICAgJ3Jzc2knOiAtNTVcclxuICogICB9XHJcbiAqIGBgYFxyXG4gKiBBZnRlciBjb25uZWN0aW5nLCB0aGUgcGVyaXBoZXJhbCBvYmplY3QgYWxzbyBpbmNsdWRlcyBzZXJ2aWNlLCBjaGFyYWN0ZXJpc3RpYyBhbmQgZGVzY3JpcHRvciBpbmZvcm1hdGlvbi5cclxuICpcclxuICogYGBgdHlwZXNjcmlwdFxyXG4gKiAgIHtcclxuICogICAgICAgJ25hbWUnOiAnQmF0dGVyeSBEZW1vJyxcclxuICogICAgICAgJ2lkJzogJzIwOkZGOkQwOkZGOkQxOkMwJyxcclxuICogICAgICAgJ2FkdmVydGlzaW5nJzogWzIsMSw2LDMsMywxNSwyNCw4LDksNjYsOTcsMTE2LDExNiwxMDEsMTE0LDEyMV0sXHJcbiAqICAgICAgICdyc3NpJzogLTU1LFxyXG4gKiAgICAgICAnc2VydmljZXMnOiBbXHJcbiAqICAgICAgICAgICAnMTgwMCcsXHJcbiAqICAgICAgICAgICAnMTgwMScsXHJcbiAqICAgICAgICAgICAnMTgwZidcclxuICogICAgICAgXSxcclxuICogICAgICAgJ2NoYXJhY3RlcmlzdGljcyc6IFtcclxuICogICAgICAgICAgIHtcclxuICogICAgICAgICAgICAgICAnc2VydmljZSc6ICcxODAwJyxcclxuICogICAgICAgICAgICAgICAnY2hhcmFjdGVyaXN0aWMnOiAnMmEwMCcsXHJcbiAqICAgICAgICAgICAgICAgJ3Byb3BlcnRpZXMnOiBbXHJcbiAqICAgICAgICAgICAgICAgICAgICdSZWFkJ1xyXG4gKiAgICAgICAgICAgICAgIF1cclxuICogICAgICAgICAgIH0sXHJcbiAqICAgICAgICAgICB7XHJcbiAqICAgICAgICAgICAgICAgJ3NlcnZpY2UnOiAnMTgwMCcsXHJcbiAqICAgICAgICAgICAgICAgJ2NoYXJhY3RlcmlzdGljJzogJzJhMDEnLFxyXG4gKiAgICAgICAgICAgICAgICdwcm9wZXJ0aWVzJzogW1xyXG4gKiAgICAgICAgICAgICAgICAgICAnUmVhZCdcclxuICogICAgICAgICAgICAgICBdXHJcbiAqICAgICAgICAgICB9LFxyXG4gKiAgICAgICAgICAge1xyXG4gKiAgICAgICAgICAgICAgICdzZXJ2aWNlJzogJzE4MDEnLFxyXG4gKiAgICAgICAgICAgICAgICdjaGFyYWN0ZXJpc3RpYyc6ICcyYTA1JyxcclxuICogICAgICAgICAgICAgICAncHJvcGVydGllcyc6IFtcclxuICogICAgICAgICAgICAgICAgICAgJ1JlYWQnXHJcbiAqICAgICAgICAgICAgICAgXVxyXG4gKiAgICAgICAgICAgfSxcclxuICogICAgICAgICAgIHtcclxuICogICAgICAgICAgICAgICAnc2VydmljZSc6ICcxODBmJyxcclxuICogICAgICAgICAgICAgICAnY2hhcmFjdGVyaXN0aWMnOiAnMmExOScsXHJcbiAqICAgICAgICAgICAgICAgJ3Byb3BlcnRpZXMnOiBbXHJcbiAqICAgICAgICAgICAgICAgICAgICdSZWFkJ1xyXG4gKiAgICAgICAgICAgICAgIF0sXHJcbiAqICAgICAgICAgICAgICAgJ2Rlc2NyaXB0b3JzJzogW1xyXG4gKiAgICAgICAgICAgICAgICAgICB7XHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAndXVpZCc6ICcyOTAxJ1xyXG4gKiAgICAgICAgICAgICAgICAgICB9LFxyXG4gKiAgICAgICAgICAgICAgICAgICB7XHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAndXVpZCc6ICcyOTA0J1xyXG4gKiAgICAgICAgICAgICAgICAgICB9XHJcbiAqICAgICAgICAgICAgICAgXVxyXG4gKiAgICAgICAgICAgfVxyXG4gKiAgICAgICBdXHJcbiAqICAgfVxyXG4gKiBgYGBcclxuICpcclxuICogIyMgQWR2ZXJ0aXNpbmcgRGF0YVxyXG4gKiBCbHVldG9vdGggYWR2ZXJ0aXNpbmcgZGF0YSBpcyByZXR1cm5lZCBpbiB3aGVuIHNjYW5uaW5nIGZvciBkZXZpY2VzLiBUaGUgZm9ybWF0IHZhcmllcyBkZXBlbmRpbmcgb24geW91ciBwbGF0Zm9ybS4gT24gQW5kcm9pZCBhZHZlcnRpc2luZyBkYXRhIHdpbGwgYmUgdGhlIHJhdyBhZHZlcnRpc2luZyBieXRlcy4gaU9TIGRvZXMgbm90IGFsbG93IGFjY2VzcyB0byByYXcgYWR2ZXJ0aXNpbmcgZGF0YSwgc28gYSBkaWN0aW9uYXJ5IG9mIGRhdGEgaXMgcmV0dXJuZWQuXHJcbiAqXHJcbiAqIFRoZSBhZHZlcnRpc2luZyBpbmZvcm1hdGlvbiBmb3IgYm90aCBBbmRyb2lkIGFuZCBpT1MgYXBwZWFycyB0byBiZSBhIGNvbWJpbmF0aW9uIG9mIGFkdmVydGlzaW5nIGRhdGEgYW5kIHNjYW4gcmVzcG9uc2UgZGF0YS5cclxuICpcclxuICogIyMjIEFuZHJvaWRcclxuICpcclxuICogYGBgdHlwZXNjcmlwdFxyXG4gKiAgIHtcclxuICogICAgICAgJ25hbWUnOiAnZGVtbycsXHJcbiAqICAgICAgICdpZCc6ICcwMDoxQTo3RDpEQTo3MToxMycsXHJcbiAqICAgICAgICdhZHZlcnRpc2luZyc6IEFycmF5QnVmZmVyLFxyXG4gKiAgICAgICdyc3NpJzogLTM3XHJcbiAqICB9XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBDb252ZXJ0IHRoZSBhZHZlcnRpc2luZyBpbmZvIHRvIGEgVWludDhBcnJheSBmb3IgcHJvY2Vzc2luZy4gYHZhciBhZERhdGEgPSBuZXcgVWludDhBcnJheShwZXJpcGhlcmFsLmFkdmVydGlzaW5nKWBcclxuICpcclxuICogIyMjIGlPU1xyXG4gKlxyXG4gKiBOb3RlIHRoYXQgaU9TIHVzZXMgdGhlIHN0cmluZyB2YWx1ZSBvZiB0aGUgY29uc3RhbnRzIGZvciB0aGUgW0FkdmVydGlzZW1lbnQgRGF0YSBSZXRyaWV2YWwgS2V5c10oaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvaW9zL2RvY3VtZW50YXRpb24vQ29yZUJsdWV0b290aC9SZWZlcmVuY2UvQ0JDZW50cmFsTWFuYWdlckRlbGVnYXRlX1Byb3RvY29sL2luZGV4Lmh0bWwjLy9hcHBsZV9yZWYvZG9jL2NvbnN0YW50X2dyb3VwL0FkdmVydGlzZW1lbnRfRGF0YV9SZXRyaWV2YWxfS2V5cykuIFRoaXMgd2lsbCBsaWtlbHkgY2hhbmdlIGluIHRoZSBmdXR1cmUuXHJcbiAqXHJcbiAqIGBgYHR5cGVzY3JpcHRcclxuICogICB7XHJcbiAqICAgICAgICduYW1lJzogJ2RlbW8nLFxyXG4gKiAgICAgICAnaWQnOiAnRDg0NzlBNEYtNzUxNy1CQ0QzLTkxQjUtMzMwMkIyRjgxODAyJyxcclxuICogICAgICAgJ2FkdmVydGlzaW5nJzoge1xyXG4gKiAgICAgICAgICAgJ2tDQkFkdkRhdGFDaGFubmVsJzogMzcsXHJcbiAqICAgICAgICAgICAna0NCQWR2RGF0YVNlcnZpY2VEYXRhJzoge1xyXG4gKiAgICAgICAgICAgICAgICdGRUQ4Jzoge1xyXG4gKiAgICAgICAgICAgICAgICAgICAnYnl0ZUxlbmd0aCc6IDcgLy8gZGF0YSBub3Qgc2hvd25cclxuICogICAgICAgICAgICAgICB9XHJcbiAqICAgICAgICAgICB9LFxyXG4gKiAgICAgICAgICAgJ2tDQkFkdkRhdGFMb2NhbE5hbWUnOiAnZGVtbycsXHJcbiAqICAgICAgICAgICAna0NCQWR2RGF0YVNlcnZpY2VVVUlEcyc6IFsnRkVEOCddLFxyXG4gKiAgICAgICAgICAgJ2tDQkFkdkRhdGFNYW51ZmFjdHVyZXJEYXRhJzoge1xyXG4gKiAgICAgICAgICAgICAgICdieXRlTGVuZ3RoJzogNyAgLy8gZGF0YSBub3Qgc2hvd25cclxuICogICAgICAgICAgIH0sXHJcbiAqICAgICAgICAgICAna0NCQWR2RGF0YVR4UG93ZXJMZXZlbCc6IDMyLFxyXG4gKiAgICAgICAgICAgJ2tDQkFkdkRhdGFJc0Nvbm5lY3RhYmxlJzogdHJ1ZVxyXG4gKiAgICAgICB9LFxyXG4gKiAgICAgICAncnNzaSc6IC01M1xyXG4gKiAgIH1cclxuICogYGBgXHJcbiAqXHJcbiAqICMjIFR5cGVkIEFycmF5c1xyXG4gKlxyXG4gKiBUaGlzIHBsdWdpbiB1c2VzIHR5cGVkIEFycmF5cyBvciBBcnJheUJ1ZmZlcnMgZm9yIHNlbmRpbmcgYW5kIHJlY2VpdmluZyBkYXRhLlxyXG4gKlxyXG4gKiBUaGlzIG1lYW5zIHRoYXQgeW91IG5lZWQgY29udmVydCB5b3VyIGRhdGEgdG8gQXJyYXlCdWZmZXJzIGJlZm9yZSBzZW5kaW5nIGFuZCBmcm9tIEFycmF5QnVmZmVycyB3aGVuIHJlY2VpdmluZy5cclxuICpcclxuICogYGBgdHlwZXNjcmlwdFxyXG4gKiAgIC8vIEFTQ0lJIG9ubHlcclxuICogICBmdW5jdGlvbiBzdHJpbmdUb0J5dGVzKHN0cmluZykge1xyXG4gKiAgICAgIHZhciBhcnJheSA9IG5ldyBVaW50OEFycmF5KHN0cmluZy5sZW5ndGgpO1xyXG4gKiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gc3RyaW5nLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gKiAgICAgICAgICBhcnJheVtpXSA9IHN0cmluZy5jaGFyQ29kZUF0KGkpO1xyXG4gKiAgICAgICB9XHJcbiAqICAgICAgIHJldHVybiBhcnJheS5idWZmZXI7XHJcbiAqICAgfVxyXG4gKlxyXG4gKiAgIC8vIEFTQ0lJIG9ubHlcclxuICogICBmdW5jdGlvbiBieXRlc1RvU3RyaW5nKGJ1ZmZlcikge1xyXG4gKiAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBuZXcgVWludDhBcnJheShidWZmZXIpKTtcclxuICogICB9XHJcbiAqIGBgYFxyXG4gKiBZb3UgY2FuIHJlYWQgbW9yZSBhYm91dCB0eXBlZCBhcnJheXMgaW4gdGhlc2UgYXJ0aWNsZXMgb24gW01ETl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9UeXBlZF9hcnJheXMpIGFuZCBbSFRNTDUgUm9ja3NdKGh0dHA6Ly93d3cuaHRtbDVyb2Nrcy5jb20vZW4vdHV0b3JpYWxzL3dlYmdsL3R5cGVkX2FycmF5cy8pLlxyXG4gKlxyXG4gKiAjIyBVVUlEc1xyXG4gKlxyXG4gKiBVVUlEcyBhcmUgYWx3YXlzIHN0cmluZ3MgYW5kIG5vdCBudW1iZXJzLiBTb21lIDE2LWJpdCBVVUlEcywgc3VjaCBhcyAnMjIyMCcgbG9vayBsaWtlIGludGVnZXJzLCBidXQgdGhleSdyZSBub3QuIChUaGUgaW50ZWdlciAyMjIwIGlzIDB4OEFDIGluIGhleC4pIFRoaXMgaXNuJ3QgYSBwcm9ibGVtIHdpdGggMTI4IGJpdCBVVUlEcyBzaW5jZSB0aGV5IGxvb2sgbGlrZSBzdHJpbmdzIDgyYjllNmUxLTU5M2EtNDU2Zi1iZTliLTkyMTUxNjBlYmNhYy4gQWxsIDE2LWJpdCBVVUlEcyBzaG91bGQgYWxzbyBiZSBwYXNzZWQgdG8gbWV0aG9kcyBhcyBzdHJpbmdzLlxyXG4gKiBAaW50ZXJmYWNlc1xyXG4gKiBCTEVTY2FuT3B0aW9uc1xyXG4gKi9cclxuQFBsdWdpbih7XHJcbiAgcGx1Z2luTmFtZTogJ0JMRScsXHJcbiAgcGx1Z2luOiAnY29yZG92YS1wbHVnaW4tYmxlLWNlbnRyYWwnLFxyXG4gIHBsdWdpblJlZjogJ2JsZScsXHJcbiAgcmVwbzogJ2h0dHBzOi8vZ2l0aHViLmNvbS9kb24vY29yZG92YS1wbHVnaW4tYmxlLWNlbnRyYWwnLFxyXG4gIHBsYXRmb3JtczogWydBbmRyb2lkJywgJ2lPUyddLFxyXG59KVxyXG5ASW5qZWN0YWJsZSgpXHJcbmV4cG9ydCBjbGFzcyBCTEUgZXh0ZW5kcyBBd2Vzb21lQ29yZG92YU5hdGl2ZVBsdWdpbiB7XHJcbiAgLyoqXHJcbiAgICogU2NhbiBhbmQgZGlzY292ZXIgQkxFIHBlcmlwaGVyYWxzIGZvciB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiB0aW1lLlxyXG4gICAqXHJcbiAgICogQHVzYWdlXHJcbiAgICogYGBgXHJcbiAgICogQkxFLnNjYW4oW10sIDUpLnN1YnNjcmliZShkZXZpY2UgPT4ge1xyXG4gICAqICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoZGV2aWNlKSk7XHJcbiAgICogfSk7XHJcbiAgICogYGBgXHJcbiAgICogQHBhcmFtIHtzdHJpbmdbXX0gc2VydmljZXMgIExpc3Qgb2Ygc2VydmljZSBVVUlEcyB0byBkaXNjb3Zlciwgb3IgYFtdYCB0byBmaW5kIGFsbCBkZXZpY2VzXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNlY29uZHMgIE51bWJlciBvZiBzZWNvbmRzIHRvIHJ1biBkaXNjb3ZlcnlcclxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxhbnk+fSBSZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBub3RpZmllcyBvZiBlYWNoIHBlcmlwaGVyYWwgdGhhdCBpcyBkaXNjb3ZlcmVkIGR1cmluZyB0aGUgc3BlY2lmaWVkIHRpbWUuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoe1xyXG4gICAgb2JzZXJ2YWJsZTogdHJ1ZSxcclxuICB9KVxyXG4gIHNjYW4oc2VydmljZXM6IHN0cmluZ1tdLCBzZWNvbmRzOiBudW1iZXIpOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2NhbiBhbmQgZGlzY292ZXIgQkxFIHBlcmlwaGVyYWxzIHVudGlsIGBzdG9wU2NhbmAgaXMgY2FsbGVkLlxyXG4gICAqXHJcbiAgICogQHVzYWdlXHJcbiAgICogYGBgXHJcbiAgICogQkxFLnN0YXJ0U2NhbihbXSkuc3Vic2NyaWJlKGRldmljZSA9PiB7XHJcbiAgICogICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShkZXZpY2UpKTtcclxuICAgKiB9KTtcclxuICAgKlxyXG4gICAqIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAqICAgQkxFLnN0b3BTY2FuKCk7XHJcbiAgICogfSwgNTAwMCk7XHJcbiAgICogYGBgXHJcbiAgICogQHBhcmFtIHtzdHJpbmdbXX0gc2VydmljZXMgIExpc3Qgb2Ygc2VydmljZSBVVUlEcyB0byBkaXNjb3Zlciwgb3IgYFtdYCB0byBmaW5kIGFsbCBkZXZpY2VzXHJcbiAgICogQHJldHVybnMge09ic2VydmFibGU8YW55Pn0gUmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgbm90aWZpZXMgb2YgZWFjaCBwZXJpcGhlcmFsIGRpc2NvdmVyZWQuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoe1xyXG4gICAgb2JzZXJ2YWJsZTogdHJ1ZSxcclxuICAgIGNsZWFyRnVuY3Rpb246ICdzdG9wU2NhbicsXHJcbiAgICBjbGVhcldpdGhBcmdzOiBmYWxzZSxcclxuICB9KVxyXG4gIHN0YXJ0U2NhbihzZXJ2aWNlczogc3RyaW5nW10pOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2NhbnMgZm9yIEJMRSBkZXZpY2VzLiBUaGlzIGZ1bmN0aW9uIG9wZXJhdGVzIHNpbWlsYXJseSB0byB0aGUgYHN0YXJ0U2NhbmAgZnVuY3Rpb24sIGJ1dCBhbGxvd3MgeW91IHRvIHNwZWNpZnkgZXh0cmEgb3B0aW9ucyAobGlrZSBhbGxvd2luZyBkdXBsaWNhdGUgZGV2aWNlIHJlcG9ydHMpLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmdbXX0gc2VydmljZXMgIExpc3Qgb2Ygc2VydmljZSBVVUlEcyB0byBkaXNjb3Zlciwgb3IgYFtdYCB0byBmaW5kIGFsbCBkZXZpY2VzXHJcbiAgICogQHBhcmFtIHtCTEVTY2FuT3B0aW9uc30gb3B0aW9ucyBPcHRpb25zXHJcbiAgICogQHJldHVybnMge09ic2VydmFibGU8YW55Pn0gUmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgbm90aWZpZXMgb2YgZWFjaCBwZXJpcGhlcmFsIGRpc2NvdmVyZWQuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoe1xyXG4gICAgb2JzZXJ2YWJsZTogdHJ1ZSxcclxuICAgIGNsZWFyRnVuY3Rpb246ICdzdG9wU2NhbicsXHJcbiAgICBjbGVhcldpdGhBcmdzOiBmYWxzZSxcclxuICB9KVxyXG4gIHN0YXJ0U2NhbldpdGhPcHRpb25zKHNlcnZpY2VzOiBzdHJpbmdbXSwgb3B0aW9uczogQkxFU2Nhbk9wdGlvbnMpOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU3RvcCBhIHNjYW4gc3RhcnRlZCBieSBgc3RhcnRTY2FuYC5cclxuICAgKlxyXG4gICAqIEB1c2FnZVxyXG4gICAqIGBgYFxyXG4gICAqIEJMRS5zdGFydFNjYW4oW10pLnN1YnNjcmliZShkZXZpY2UgPT4ge1xyXG4gICAqICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoZGV2aWNlKSk7XHJcbiAgICogfSk7XHJcbiAgICogc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICogICBCTEUuc3RvcFNjYW4oKS50aGVuKCgpID0+IHsgY29uc29sZS5sb2coJ3NjYW4gc3RvcHBlZCcpOyB9KTtcclxuICAgKiB9LCA1MDAwKTtcclxuICAgKiBgYGBcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKClcclxuICBzdG9wU2NhbigpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IGRldmljZSBwaW4uXHJcbiAgICpcclxuICAgKiBAdXNhZ2VcclxuICAgKiBgYGBcclxuICAgKiAgIEJMRS5zZXRQaW4ocGluKS5zdWJzY3JpYmUoc3VjY2VzcyA9PiB7XHJcbiAgICogICAgIGNvbnNvbGUubG9nKHN1Y2Nlc3MpO1xyXG4gICAqICAgfSxcclxuICAgKiAgIGZhaWx1cmUgPT4ge1xyXG4gICAqICAgICBjb25zb2xlLmxvZygnZmFpbHVyZScpO1xyXG4gICAqICAgfSk7XHJcbiAgICogYGBgXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBpbiBQaW4gb2YgdGhlIGRldmljZSBhcyBhIHN0cmluZ1xyXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPGFueT59IFJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IG5vdGlmaWVzIG9mIHN1Y2Nlc3MvZmFpbHVyZS5cclxuICAgKi9cclxuICBAQ29yZG92YSh7XHJcbiAgICBvYnNlcnZhYmxlOiB0cnVlLFxyXG4gIH0pXHJcbiAgc2V0UGluKHBpbjogc3RyaW5nKTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbm5lY3QgdG8gYSBwZXJpcGhlcmFsLlxyXG4gICAqXHJcbiAgICogQHVzYWdlXHJcbiAgICogYGBgXHJcbiAgICogICBCTEUuY29ubmVjdCgnMTI6MzQ6NTY6Nzg6OUE6QkMnKS5zdWJzY3JpYmUocGVyaXBoZXJhbERhdGEgPT4ge1xyXG4gICAqICAgICBjb25zb2xlLmxvZyhwZXJpcGhlcmFsRGF0YSk7XHJcbiAgICogICB9LFxyXG4gICAqICAgcGVyaXBoZXJhbERhdGEgPT4ge1xyXG4gICAqICAgICBjb25zb2xlLmxvZygnZGlzY29ubmVjdGVkJyk7XHJcbiAgICogICB9KTtcclxuICAgKiBgYGBcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGV2aWNlSWQgVVVJRCBvciBNQUMgYWRkcmVzcyBvZiB0aGUgcGVyaXBoZXJhbFxyXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPGFueT59IFJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IG5vdGlmaWVzIG9mIGNvbm5lY3QvZGlzY29ubmVjdC5cclxuICAgKi9cclxuICBAQ29yZG92YSh7XHJcbiAgICBvYnNlcnZhYmxlOiB0cnVlLFxyXG4gICAgY2xlYXJGdW5jdGlvbjogJ2Rpc2Nvbm5lY3QnLFxyXG4gICAgY2xlYXJXaXRoQXJnczogdHJ1ZSxcclxuICB9KVxyXG4gIGNvbm5lY3QoZGV2aWNlSWQ6IHN0cmluZyk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFc3RhYmxpc2ggYW4gYXV0b21hdGljIGNvbm5lY3Rpb24gdG8gYSBwZXJpcGhlcmFsLiBUaGUgcGhvbmUgd2lsbCBhdXRvbWF0aWNhbGx5IGNvbm5lY3QgdG8gdGhlIEJsdWV0b290aCBwZXJpcGhlcmFsXHJcbiAgICogd2hlbmV2ZXIgaXQgaXMgaW4gcmFuZ2UuIFRoZSBhdXRvQ29ubmVjdCBmdW5jdGlvbiB1c2VzIGNhbGxiYWNrcyBpbnN0ZWFkIG9mIG9ic2VydmFibGVzIGJlY2F1c2UgY29ubmVjdCBhbmRcclxuICAgKiBkaXNjb25uZWN0IGNhbiBlYWNoIGJlIGNhbGxlZCBtYW55IHRpbWVzIGFzIGEgZGV2aWNlcyBjb25uZWN0cyBhbmQgZGlzY29ubmVjdHMuXHJcbiAgICpcclxuICAgKiBPbiBBbmRyb2lkIHlvdSBjYW4gcGFzcyBhIE1BQyBhZGRyZXNzIGRpcmVjdGx5IHRvIGF1dG9Db25uZWN0LiBXaXRoIGlPUywgeW91IG5lZWQgdG8gZ2V0IGEgZGV2aWNlIGlkIGJ5IHNjYW5uaW5nLFxyXG4gICAqIGNhbGxpbmcgYmxlLnBlcmlwaGVyYWxzV2l0aElkZW50aWZpZXJzLCBvciBjYWxsaW5nIGJsZS5jb25uZWN0ZWRQZXJpcGhlcmFsc1dpdGhTZXJ2aWNlcy5cclxuICAgKlxyXG4gICAqIEB1c2FnZVxyXG4gICAqIGBgYFxyXG4gICAqICBzb21lRnVuY3Rpb24oKSB7XHJcbiAgICogICAgdGhpcy5ibGUuYXV0b0Nvbm5lY3QoZGV2aWNlSWQsIG9uQ29ubmVjdGVkLmJpbmQodGhpcyksIG9uRGlzY29ubmVjdGVkLmJpbmQodGhpcykpO1xyXG4gICAqICB9XHJcbiAgICpcclxuICAgKiAgb25Db25uZWN0ZWQocGVyaXBoZXJhbCkge1xyXG4gICAqICAgIGNvbnNvbGUubG9nKGBDb25uZWN0ZWQgdG8gJHtwZXJpcGhlcmFsLmlkfWApbFxyXG4gICAqICB9XHJcbiAgICpcclxuICAgKiAgb25EaXNjb25uZWN0ZWQocGVyaXBoZXJhbCkge1xyXG4gICAqICAgIGNvbnNvbGUubG9nKGBEaXNjb25uZWN0ZWQgZnJvbSAke3BlcmlwaGVyYWwuaWR9YClsXHJcbiAgICogIH1cclxuICAgKlxyXG4gICAqIGBgYFxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkZXZpY2VJZCBVVUlEIG9yIE1BQyBhZGRyZXNzIG9mIHRoZSBwZXJpcGhlcmFsXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29ubmVjdENhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIHdpdGggcGVyaXBoZXJhbCBkYXRhIHdoZW4gdGhlIGRldmljZXMgY29ubmVjdHNcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBkaXNjb25uZWN0Q2FsbGJhY2sgIGZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIHdpdGggcGVyaXBoZXJhbCBkYXRhIHdoZW4gdGhlIGRldmljZXMgZGlzY29ubmVjdHNcclxuICAgKi9cclxuICBAQ29yZG92YSh7IHN5bmM6IHRydWUgfSlcclxuICBhdXRvQ29ubmVjdChkZXZpY2VJZDogc3RyaW5nLCBjb25uZWN0Q2FsbGJhY2s6IGFueSwgZGlzY29ubmVjdENhbGxiYWNrOiBhbnkpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlcXVlc3QgTVRVIHNpemUuXHJcbiAgICogTWF5IGJlIHVzZWQgdG8gZml4IHRoZSBFcnJvciAxNCBcIlVubGlrZWx5XCIgb24gd3JpdGUgcmVxdWVzdHMgd2l0aCBtb3JlIHRoYW4gMjAgYnl0ZXMuXHJcbiAgICpcclxuICAgKiBAdXNhZ2VcclxuICAgKiBgYGBcclxuICAgKiAgIEJMRS5yZXF1ZXN0TXR1KCcxMjozNDo1Njo3ODo5QTpCQycsIDUxMikudGhlbigoKSA9PiB7XHJcbiAgICogICAgIGNvbnNvbGUubG9nKCdNVFUgU2l6ZSBBY2NlcHRlZCcpO1xyXG4gICAqICAgfSwgZXJyb3IgPT4ge1xyXG4gICAqICAgICBjb25zb2xlLmxvZygnTVRVIFNpemUgRmFpbGVkJyk7XHJcbiAgICogICB9KTtcclxuICAgKiBgYGBcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGV2aWNlSWQgVVVJRCBvciBNQUMgYWRkcmVzcyBvZiB0aGUgcGVyaXBoZXJhbFxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtdHVTaXplIFRoZSBuZXcgTVRVIHNpemUuICgyMyAtIDUxNywgZGVmYXVsdCBpcyB1c3VhbGx5IDIzLiBNYXggcmVjb21tZW5kZWQ6IDUxMilcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fSBSZXR1cm5zIGEgUHJvbWlzZS5cclxuICAgKi9cclxuICBAQ29yZG92YSgpXHJcbiAgcmVxdWVzdE10dShkZXZpY2VJZDogc3RyaW5nLCBtdHVTaXplOiBudW1iZXIpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVmcmVzaCBEZXZpY2UgQ2FjaGVcclxuICAgKiBUaGlzIG1ldGhvZCBtYXkgZml4IGEgaXNzdWUgb2Ygb2xkIGNhY2hlZCBzZXJ2aWNlcyBhbmQgY2hhcmFjdGVyaXN0aWNzLlxyXG4gICAqIE5PVEUgU2luY2UgdGhpcyB1c2VzIGFuIHVuZG9jdW1lbnRlZCBBUEkgaXQncyBub3QgZ3VhcmFudGVlZCB0byB3b3JrLlxyXG4gICAqIElmIHlvdSBjaG9vc2UgYSB0b28gbG93IGRlbGF5IHRpbWUgKHRpbWVvdXRNaWxsaXMpIHRoZSBtZXRob2QgY291bGQgZmFpbC5cclxuICAgKlxyXG4gICAqIEB1c2FnZVxyXG4gICAqIGBgYFxyXG4gICAqICAgQkxFLnJlZnJlc2hEZXZpY2VDYWNoZSgnMTI6MzQ6NTY6Nzg6OUE6QkMnLCAxMDAwMCkudGhlbihkaXNjb3ZlcmVkU2VydmljZXMgPT4ge1xyXG4gICAqICAgICBjb25zb2xlLmxvZygnVGhlIG5ldyBkaXNjb3ZlcmVkIHNlcnZpY2VzIGFmdGVyIHRoZSBjbGVhbjogJywgZGlzY292ZXJlZFNlcnZpY2VzKTtcclxuICAgKiAgIH0sIGVycm9yID0+IHtcclxuICAgKiAgICAgY29uc29sZS5sb2coJ1JlZnJlc2ggZGV2aWNlIGNhY2hlIGZhaWxlZC4nKTtcclxuICAgKiAgIH0pO1xyXG4gICAqIGBgYFxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkZXZpY2VJZCBVVUlEIG9yIE1BQyBhZGRyZXNzIG9mIHRoZSBwZXJpcGhlcmFsXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWVvdXRNaWxsaXMgRGVsYXkgaW4gbWlsbGlzZWNvbmRzIGFmdGVyIHJlZnJlc2ggYmVmb3JlIGRpc2NvdmVyaW5nIHNlcnZpY2VzLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59IFJldHVybnMgYSBQcm9taXNlLlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKClcclxuICByZWZyZXNoRGV2aWNlQ2FjaGUoZGV2aWNlSWQ6IHN0cmluZywgdGltZW91dE1pbGxpczogbnVtYmVyKTogUHJvbWlzZTxhbnk+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERpc2Nvbm5lY3QgZnJvbSBhIHBlcmlwaGVyYWwuXHJcbiAgICpcclxuICAgKiBAdXNhZ2VcclxuICAgKiBgYGBcclxuICAgKiAgIEJMRS5kaXNjb25uZWN0KCcxMjozNDo1Njo3ODo5QTpCQycpLnRoZW4oKCkgPT4ge1xyXG4gICAqICAgICBjb25zb2xlLmxvZygnRGlzY29ubmVjdGVkJyk7XHJcbiAgICogICB9KTtcclxuICAgKiBgYGBcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGV2aWNlSWQgIFVVSUQgb3IgTUFDIGFkZHJlc3Mgb2YgdGhlIHBlcmlwaGVyYWxcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fSBSZXR1cm5zIGEgUHJvbWlzZVxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKClcclxuICBkaXNjb25uZWN0KGRldmljZUlkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVhZCB0aGUgdmFsdWUgb2YgYSBjaGFyYWN0ZXJpc3RpYy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkZXZpY2VJZCAgVVVJRCBvciBNQUMgYWRkcmVzcyBvZiB0aGUgcGVyaXBoZXJhbFxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZXJ2aWNlVVVJRCAgVVVJRCBvZiB0aGUgQkxFIHNlcnZpY2VcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2hhcmFjdGVyaXN0aWNVVUlEICBVVUlEIG9mIHRoZSBCTEUgY2hhcmFjdGVyaXN0aWNcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fSBSZXR1cm5zIGEgUHJvbWlzZVxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKClcclxuICByZWFkKGRldmljZUlkOiBzdHJpbmcsIHNlcnZpY2VVVUlEOiBzdHJpbmcsIGNoYXJhY3RlcmlzdGljVVVJRDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFdyaXRlIHRoZSB2YWx1ZSBvZiBhIGNoYXJhY3RlcmlzdGljLlxyXG4gICAqXHJcbiAgICogQHVzYWdlXHJcbiAgICogYGBgXHJcbiAgICogLy8gc2VuZCAxIGJ5dGUgdG8gc3dpdGNoIGEgbGlnaHQgb25cclxuICAgKiB2YXIgZGF0YSA9IG5ldyBVaW50OEFycmF5KDEpO1xyXG4gICAqIGRhdGFbMF0gPSAxO1xyXG4gICAqIEJMRS53cml0ZShkZXZpY2VfaWQsICdGRjEwJywgJ0ZGMTEnLCBkYXRhLmJ1ZmZlcik7XHJcbiAgICpcclxuICAgKiAvLyBzZW5kIGEgMyBieXRlIHZhbHVlIHdpdGggUkdCIGNvbG9yXHJcbiAgICogdmFyIGRhdGEgPSBuZXcgVWludDhBcnJheSgzKTtcclxuICAgKiBkYXRhWzBdID0gMHhGRjsgIC8vIHJlZFxyXG4gICAqIGRhdGFbMF0gPSAweDAwOyAvLyBncmVlblxyXG4gICAqIGRhdGFbMF0gPSAweEZGOyAvLyBibHVlXHJcbiAgICogQkxFLndyaXRlKGRldmljZV9pZCwgJ2NjYzAnLCAnY2NjMScsIGRhdGEuYnVmZmVyKTtcclxuICAgKlxyXG4gICAqIC8vIHNlbmQgYSAzMiBiaXQgaW50ZWdlclxyXG4gICAqIHZhciBkYXRhID0gbmV3IFVpbnQzMkFycmF5KDEpO1xyXG4gICAqIGRhdGFbMF0gPSBjb3VudGVySW5wdXQudmFsdWU7XHJcbiAgICogQkxFLndyaXRlKGRldmljZV9pZCwgU0VSVklDRSwgQ0hBUkFDVEVSSVNUSUMsIGRhdGEuYnVmZmVyKTtcclxuICAgKlxyXG4gICAqIGBgYFxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkZXZpY2VJZCAgVVVJRCBvciBNQUMgYWRkcmVzcyBvZiB0aGUgcGVyaXBoZXJhbFxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZXJ2aWNlVVVJRCAgVVVJRCBvZiB0aGUgQkxFIHNlcnZpY2VcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2hhcmFjdGVyaXN0aWNVVUlEICBVVUlEIG9mIHRoZSBCTEUgY2hhcmFjdGVyaXN0aWNcclxuICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfSB2YWx1ZSAgRGF0YSB0byB3cml0ZSB0byB0aGUgY2hhcmFjdGVyaXN0aWMsIGFzIGFuIEFycmF5QnVmZmVyLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59IFJldHVybnMgYSBQcm9taXNlXHJcbiAgICovXHJcbiAgQENvcmRvdmEoKVxyXG4gIHdyaXRlKGRldmljZUlkOiBzdHJpbmcsIHNlcnZpY2VVVUlEOiBzdHJpbmcsIGNoYXJhY3RlcmlzdGljVVVJRDogc3RyaW5nLCB2YWx1ZTogQXJyYXlCdWZmZXIpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogV3JpdGUgdGhlIHZhbHVlIG9mIGEgY2hhcmFjdGVyaXN0aWMgd2l0aG91dCB3YWl0aW5nIGZvciBjb25maXJtYXRpb24gZnJvbSB0aGUgcGVyaXBoZXJhbC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkZXZpY2VJZCAgVVVJRCBvciBNQUMgYWRkcmVzcyBvZiB0aGUgcGVyaXBoZXJhbFxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZXJ2aWNlVVVJRCAgVVVJRCBvZiB0aGUgQkxFIHNlcnZpY2VcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2hhcmFjdGVyaXN0aWNVVUlEICBVVUlEIG9mIHRoZSBCTEUgY2hhcmFjdGVyaXN0aWNcclxuICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfSB2YWx1ZSAgRGF0YSB0byB3cml0ZSB0byB0aGUgY2hhcmFjdGVyaXN0aWMsIGFzIGFuIEFycmF5QnVmZmVyLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59IFJldHVybnMgYSBQcm9taXNlXHJcbiAgICovXHJcbiAgQENvcmRvdmEoKVxyXG4gIHdyaXRlV2l0aG91dFJlc3BvbnNlKFxyXG4gICAgZGV2aWNlSWQ6IHN0cmluZyxcclxuICAgIHNlcnZpY2VVVUlEOiBzdHJpbmcsXHJcbiAgICBjaGFyYWN0ZXJpc3RpY1VVSUQ6IHN0cmluZyxcclxuICAgIHZhbHVlOiBBcnJheUJ1ZmZlclxyXG4gICk6IFByb21pc2U8YW55PiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWdpc3RlciB0byBiZSBub3RpZmllZCB3aGVuIHRoZSB2YWx1ZSBvZiBhIGNoYXJhY3RlcmlzdGljIGNoYW5nZXMuXHJcbiAgICpcclxuICAgKiBAdXNhZ2VcclxuICAgKiBgYGBcclxuICAgKiBCTEUuc3RhcnROb3RpZmljYXRpb24oZGV2aWNlX2lkLCAnRkYxMCcsICdGRjExJykuc3Vic2NyaWJlKGJ1ZmZlciA9PiB7XHJcbiAgICogICBjb25zb2xlLmxvZyhTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIG5ldyBVaW50OEFycmF5KGJ1ZmZlcikpO1xyXG4gICAqIH0pO1xyXG4gICAqIGBgYFxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkZXZpY2VJZCAgVVVJRCBvciBNQUMgYWRkcmVzcyBvZiB0aGUgcGVyaXBoZXJhbFxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZXJ2aWNlVVVJRCAgVVVJRCBvZiB0aGUgQkxFIHNlcnZpY2VcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2hhcmFjdGVyaXN0aWNVVUlEICBVVUlEIG9mIHRoZSBCTEUgY2hhcmFjdGVyaXN0aWNcclxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxhbnk+fSBSZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBub3RpZmllcyBvZiBjaGFyYWN0ZXJpc3RpYyBjaGFuZ2VzLlxyXG4gICAqIFRoZSBvYnNlcnZlciBlbWl0IGFuIGFycmF5IHdpdGggZGF0YSBhdCBpbmRleCAwIGFuZCBzZXF1ZW5jZSBvcmRlciBhdCBpbmRleCAxLlxyXG4gICAqIFRoZSBzZXF1ZW5jZSBvcmRlciBpcyBhbHdheXMgdW5kZWZpbmVkIG9uIGlPUy4gT24gYW5kcm9pZCBpdCBsZWF2ZSB0aGUgY2xpZW50IHRvIGNoZWNrIHRoZSBzZXF1ZW5jZSBvcmRlciBhbmQgcmVvcmRlciBpZiBuZWVkZWRcclxuICAgKi9cclxuICBAQ29yZG92YSh7XHJcbiAgICBvYnNlcnZhYmxlOiB0cnVlLFxyXG4gICAgZGVzdHJ1Y3Q6IHRydWUsXHJcbiAgICBjbGVhckZ1bmN0aW9uOiAnc3RvcE5vdGlmaWNhdGlvbicsXHJcbiAgICBjbGVhcldpdGhBcmdzOiB0cnVlLFxyXG4gIH0pXHJcbiAgc3RhcnROb3RpZmljYXRpb24oZGV2aWNlSWQ6IHN0cmluZywgc2VydmljZVVVSUQ6IHN0cmluZywgY2hhcmFjdGVyaXN0aWNVVUlEOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU3RvcCBiZWluZyBub3RpZmllZCB3aGVuIHRoZSB2YWx1ZSBvZiBhIGNoYXJhY3RlcmlzdGljIGNoYW5nZXMuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGV2aWNlSWQgIFVVSUQgb3IgTUFDIGFkZHJlc3Mgb2YgdGhlIHBlcmlwaGVyYWxcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2VydmljZVVVSUQgIFVVSUQgb2YgdGhlIEJMRSBzZXJ2aWNlXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNoYXJhY3RlcmlzdGljVVVJRCAgVVVJRCBvZiB0aGUgQkxFIGNoYXJhY3RlcmlzdGljXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cclxuICAgKi9cclxuICBAQ29yZG92YSgpXHJcbiAgc3RvcE5vdGlmaWNhdGlvbihkZXZpY2VJZDogc3RyaW5nLCBzZXJ2aWNlVVVJRDogc3RyaW5nLCBjaGFyYWN0ZXJpc3RpY1VVSUQ6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXBvcnQgdGhlIGNvbm5lY3Rpb24gc3RhdHVzLlxyXG4gICAqXHJcbiAgICogQHVzYWdlXHJcbiAgICogYGBgXHJcbiAgICogQkxFLmlzQ29ubmVjdGVkKCdGRkNBMEIwOS1DQjFELTREQzAtQTFFRi0zMUFGRDNFREZCNTMnKS50aGVuKFxyXG4gICAqICAgKCkgPT4geyBjb25zb2xlLmxvZygnY29ubmVjdGVkJyk7IH0sXHJcbiAgICogICAoKSA9PiB7IGNvbnNvbGUubG9nKCdub3QgY29ubmVjdGVkJyk7IH1cclxuICAgKiApO1xyXG4gICAqIGBgYFxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkZXZpY2VJZCAgVVVJRCBvciBNQUMgYWRkcmVzcyBvZiB0aGUgcGVyaXBoZXJhbFxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XHJcbiAgICovXHJcbiAgQENvcmRvdmEoKVxyXG4gIGlzQ29ubmVjdGVkKGRldmljZUlkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVwb3J0IGlmIGJsdWV0b290aCBpcyBlbmFibGVkLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgaWYgQmx1ZXRvb3RoIGlzIGVuYWJsZWQsIGFuZCByZWplY3RzIGlmIGRpc2FibGVkLlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKClcclxuICBpc0VuYWJsZWQoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWdpc3RlciB0byBiZSBub3RpZmllZCB3aGVuIEJsdWV0b290aCBzdGF0ZSBjaGFuZ2VzIG9uIHRoZSBkZXZpY2UuXHJcbiAgICpcclxuICAgKiBAdXNhZ2VcclxuICAgKiBgYGBcclxuICAgKiBCTEUuc3RhcnRTdGF0ZU5vdGlmaWNhdGlvbnMoKS5zdWJzY3JpYmUoc3RhdGUgPT4ge1xyXG4gICAqICAgY29uc29sZS5sb2coXCJCbHVldG9vdGggaXMgXCIgKyBzdGF0ZSk7XHJcbiAgICogfSk7XHJcbiAgICogYGBgXHJcbiAgICogQHJldHVybnMge09ic2VydmFibGU8YW55Pn0gUmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgbm90aWZpZXMgd2hlbiB0aGUgQmx1ZXRvb3RoIGlzIGVuYWJsZWQgb3IgZGlzYWJsZWQgb24gdGhlIGRldmljZS5cclxuICAgKi9cclxuICBAQ29yZG92YSh7XHJcbiAgICBvYnNlcnZhYmxlOiB0cnVlLFxyXG4gICAgY2xlYXJGdW5jdGlvbjogJ3N0b3BTdGF0ZU5vdGlmaWNhdGlvbnMnLFxyXG4gICAgY2xlYXJXaXRoQXJnczogZmFsc2UsXHJcbiAgfSlcclxuICBzdGFydFN0YXRlTm90aWZpY2F0aW9ucygpOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU3RvcCBzdGF0ZSBub3RpZmljYXRpb25zLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cclxuICAgKi9cclxuICBAQ29yZG92YSgpXHJcbiAgc3RvcFN0YXRlTm90aWZpY2F0aW9ucygpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogT3BlbiBTeXN0ZW0gQmx1ZXRvb3RoIHNldHRpbmdzIChBbmRyb2lkIG9ubHkpLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cclxuICAgKi9cclxuICBAQ29yZG92YSgpXHJcbiAgc2hvd0JsdWV0b290aFNldHRpbmdzKCk6IFByb21pc2U8YW55PiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFbmFibGUgQmx1ZXRvb3RoIG9uIHRoZSBkZXZpY2UgKEFuZHJvaWQgb25seSkuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKClcclxuICBlbmFibGUoKTogUHJvbWlzZTxhbnk+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlYWQgdGhlIFJTU0kgdmFsdWUgb24gdGhlIGRldmljZSBjb25uZWN0aW9uLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRldmljZUlkICBVVUlEIG9yIE1BQyBhZGRyZXNzIG9mIHRoZSBwZXJpcGhlcmFsXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cclxuICAgKi9cclxuICBAQ29yZG92YSgpXHJcbiAgcmVhZFJTU0koZGV2aWNlSWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXRyaWV2ZXMgYSBsaXN0IG9mIHRoZSBwZXJpcGhlcmFscyAoY29udGFpbmluZyBhbnkgb2YgdGhlIHNwZWNpZmllZCBzZXJ2aWNlcylcclxuICAgKiBjdXJyZW50bHkgY29ubmVjdGVkIHRvIHRoZSBzeXN0ZW0uIFRoZSBwZXJpcGhlcmFsIGxpc3QgaXMgc2VudCB0byB0aGUgc3VjY2VzcyBjYWxsYmFjay5cclxuICAgKiBpT1Mgb25seVxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmdbXX0gc2VydmljZXMgTGlzdCBvZiBzZXJ2aWNlcyB0byBkaXNjb3ZlclxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59IFJldHVybnMgYSBwcm9taXNlIHdpdGggYSBsaXN0IG9mIHBlcmlwaGVyYWwgb2JqZWN0c1xyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKClcclxuICBjb25uZWN0ZWRQZXJpcGhlcmFsc1dpdGhTZXJ2aWNlcyhzZXJ2aWNlczogc3RyaW5nW10pOiBQcm9taXNlPGFueVtdPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBGaW5kIHRoZSBjb25uZWN0ZWQgcGVyaXBoZXJhbHMgb2ZmZXJpbmcgdGhlIGxpc3RlZCBzZXJ2aWNlIFVVSURzLlxyXG4gICAqIGlPUyBvbmx5XHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ1tdfSB1dWlkcyBMaXN0IG9mIHBlcmlwaGVyYWwgVVVJRHNcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aXRoIGEgbGlzdCBvZiBwZXJpcGhlcmFsIG9iamVjdHNcclxuICAgKi9cclxuICBAQ29yZG92YSgpXHJcbiAgcGVyaXBoZXJhbHNXaXRoSWRlbnRpZmllcnModXVpZHM6IHN0cmluZ1tdKTogUHJvbWlzZTxhbnlbXT4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRmluZCB0aGUgYm9uZGVkIGRldmljZXNcclxuICAgKiBBbmRyb2lkIG9ubHlcclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59IFJldHVybnMgYSBwcm9taXNlIHdpdGggYSBsaXN0IG9mIHBlcmlwaGVyYWwgb2JqZWN0c1xyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKClcclxuICBib25kZWREZXZpY2VzKCk6IFByb21pc2U8YW55W10+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlcG9ydHMgaWYgbG9jYXRpb24gc2VydmljZXMgYXJlIGVuYWJsZWQuXHJcbiAgICogQW5kcm9pZCBvbmx5XHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cclxuICAgKi9cclxuICBAQ29yZG92YSgpXHJcbiAgaXNMb2NhdGlvbkVuYWJsZWQoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG59XHJcbiJdfQ==