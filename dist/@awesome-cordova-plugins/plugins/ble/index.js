var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
import { AwesomeCordovaNativePlugin, cordova } from '@awesome-cordova-plugins/core';
import { Observable } from 'rxjs';
var BLEOriginal = /** @class */ (function (_super) {
    __extends(BLEOriginal, _super);
    function BLEOriginal() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    BLEOriginal.prototype.scan = function (services, seconds) { return cordova(this, "scan", { "observable": true }, arguments); };
    BLEOriginal.prototype.startScan = function (services) { return cordova(this, "startScan", { "observable": true, "clearFunction": "stopScan", "clearWithArgs": false }, arguments); };
    BLEOriginal.prototype.startScanWithOptions = function (services, options) { return cordova(this, "startScanWithOptions", { "observable": true, "clearFunction": "stopScan", "clearWithArgs": false }, arguments); };
    BLEOriginal.prototype.stopScan = function () { return cordova(this, "stopScan", {}, arguments); };
    BLEOriginal.prototype.setPin = function (pin) { return cordova(this, "setPin", { "observable": true }, arguments); };
    BLEOriginal.prototype.connect = function (deviceId) { return cordova(this, "connect", { "observable": true, "clearFunction": "disconnect", "clearWithArgs": true }, arguments); };
    BLEOriginal.prototype.autoConnect = function (deviceId, connectCallback, disconnectCallback) { return cordova(this, "autoConnect", { "sync": true }, arguments); };
    BLEOriginal.prototype.requestMtu = function (deviceId, mtuSize) { return cordova(this, "requestMtu", {}, arguments); };
    BLEOriginal.prototype.refreshDeviceCache = function (deviceId, timeoutMillis) { return cordova(this, "refreshDeviceCache", {}, arguments); };
    BLEOriginal.prototype.disconnect = function (deviceId) { return cordova(this, "disconnect", {}, arguments); };
    BLEOriginal.prototype.read = function (deviceId, serviceUUID, characteristicUUID) { return cordova(this, "read", {}, arguments); };
    BLEOriginal.prototype.write = function (deviceId, serviceUUID, characteristicUUID, value) { return cordova(this, "write", {}, arguments); };
    BLEOriginal.prototype.writeWithoutResponse = function (deviceId, serviceUUID, characteristicUUID, value) { return cordova(this, "writeWithoutResponse", {}, arguments); };
    BLEOriginal.prototype.startNotification = function (deviceId, serviceUUID, characteristicUUID) { return cordova(this, "startNotification", { "observable": true, "destruct": true, "clearFunction": "stopNotification", "clearWithArgs": true }, arguments); };
    BLEOriginal.prototype.stopNotification = function (deviceId, serviceUUID, characteristicUUID) { return cordova(this, "stopNotification", {}, arguments); };
    BLEOriginal.prototype.isConnected = function (deviceId) { return cordova(this, "isConnected", {}, arguments); };
    BLEOriginal.prototype.isEnabled = function () { return cordova(this, "isEnabled", {}, arguments); };
    BLEOriginal.prototype.startStateNotifications = function () { return cordova(this, "startStateNotifications", { "observable": true, "clearFunction": "stopStateNotifications", "clearWithArgs": false }, arguments); };
    BLEOriginal.prototype.stopStateNotifications = function () { return cordova(this, "stopStateNotifications", {}, arguments); };
    BLEOriginal.prototype.showBluetoothSettings = function () { return cordova(this, "showBluetoothSettings", {}, arguments); };
    BLEOriginal.prototype.enable = function () { return cordova(this, "enable", {}, arguments); };
    BLEOriginal.prototype.readRSSI = function (deviceId) { return cordova(this, "readRSSI", {}, arguments); };
    BLEOriginal.prototype.connectedPeripheralsWithServices = function (services) { return cordova(this, "connectedPeripheralsWithServices", {}, arguments); };
    BLEOriginal.prototype.peripheralsWithIdentifiers = function (uuids) { return cordova(this, "peripheralsWithIdentifiers", {}, arguments); };
    BLEOriginal.prototype.bondedDevices = function () { return cordova(this, "bondedDevices", {}, arguments); };
    BLEOriginal.prototype.isLocationEnabled = function () { return cordova(this, "isLocationEnabled", {}, arguments); };
    BLEOriginal.pluginName = "BLE";
    BLEOriginal.plugin = "cordova-plugin-ble-central";
    BLEOriginal.pluginRef = "ble";
    BLEOriginal.repo = "https://github.com/don/cordova-plugin-ble-central";
    BLEOriginal.platforms = ["Android", "iOS"];
    return BLEOriginal;
}(AwesomeCordovaNativePlugin));
var BLE = new BLEOriginal();
export { BLE };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvQGF3ZXNvbWUtY29yZG92YS1wbHVnaW5zL3BsdWdpbnMvYmxlL2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFDQSxPQUFPLHVDQUErQyxNQUFNLCtCQUErQixDQUFDO0FBQzVGLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxNQUFNLENBQUM7O0lBcUxULHVCQUEwQjs7OztJQWlCakQsa0JBQUksYUFBQyxRQUFrQixFQUFFLE9BQWU7SUF5QnhDLHVCQUFTLGFBQUMsUUFBa0I7SUFnQjVCLGtDQUFvQixhQUFDLFFBQWtCLEVBQUUsT0FBdUI7SUFtQmhFLHNCQUFRO0lBc0JSLG9CQUFNLGFBQUMsR0FBVztJQXdCbEIscUJBQU8sYUFBQyxRQUFnQjtJQWdDeEIseUJBQVcsYUFBQyxRQUFnQixFQUFFLGVBQW9CLEVBQUUsa0JBQXVCO0lBcUIzRSx3QkFBVSxhQUFDLFFBQWdCLEVBQUUsT0FBZTtJQXVCNUMsZ0NBQWtCLGFBQUMsUUFBZ0IsRUFBRSxhQUFxQjtJQWlCMUQsd0JBQVUsYUFBQyxRQUFnQjtJQWEzQixrQkFBSSxhQUFDLFFBQWdCLEVBQUUsV0FBbUIsRUFBRSxrQkFBMEI7SUFrQ3RFLG1CQUFLLGFBQUMsUUFBZ0IsRUFBRSxXQUFtQixFQUFFLGtCQUEwQixFQUFFLEtBQWtCO0lBYzNGLGtDQUFvQixhQUNsQixRQUFnQixFQUNoQixXQUFtQixFQUNuQixrQkFBMEIsRUFDMUIsS0FBa0I7SUEyQnBCLCtCQUFpQixhQUFDLFFBQWdCLEVBQUUsV0FBbUIsRUFBRSxrQkFBMEI7SUFhbkYsOEJBQWdCLGFBQUMsUUFBZ0IsRUFBRSxXQUFtQixFQUFFLGtCQUEwQjtJQWtCbEYseUJBQVcsYUFBQyxRQUFnQjtJQVU1Qix1QkFBUztJQW9CVCxxQ0FBdUI7SUFVdkIsb0NBQXNCO0lBVXRCLG1DQUFxQjtJQVVyQixvQkFBTTtJQVdOLHNCQUFRLGFBQUMsUUFBZ0I7SUFhekIsOENBQWdDLGFBQUMsUUFBa0I7SUFZbkQsd0NBQTBCLGFBQUMsS0FBZTtJQVcxQywyQkFBYTtJQVdiLCtCQUFpQjs7Ozs7O2NBaG9CbkI7RUF1THlCLDBCQUEwQjtTQUF0QyxHQUFHIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBDb3Jkb3ZhLCBBd2Vzb21lQ29yZG92YU5hdGl2ZVBsdWdpbiwgUGx1Z2luIH0gZnJvbSAnQGF3ZXNvbWUtY29yZG92YS1wbHVnaW5zL2NvcmUnO1xyXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEJMRVNjYW5PcHRpb25zIHtcclxuICAvKiogdHJ1ZSBpZiBkdXBsaWNhdGUgZGV2aWNlcyBzaG91bGQgYmUgcmVwb3J0ZWQsIGZhbHNlIChkZWZhdWx0KSBpZiBkZXZpY2VzIHNob3VsZCBvbmx5IGJlIHJlcG9ydGVkIG9uY2UuICAqL1xyXG4gIHJlcG9ydER1cGxpY2F0ZXM/OiBib29sZWFuO1xyXG59XHJcblxyXG4vKipcclxuICogQG5hbWUgQkxFXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBUaGlzIHBsdWdpbiBlbmFibGVzIGNvbW11bmljYXRpb24gYmV0d2VlbiBhIHBob25lIGFuZCBCbHVldG9vdGggTG93IEVuZXJneSAoQkxFKSBwZXJpcGhlcmFscy5cclxuICpcclxuICogVGhlIHBsdWdpbiBwcm92aWRlcyBhIHNpbXBsZSBKYXZhU2NyaXB0IEFQSSBmb3IgaU9TIGFuZCBBbmRyb2lkLlxyXG4gKlxyXG4gKiAtIFNjYW4gZm9yIHBlcmlwaGVyYWxzXHJcbiAqIC0gQ29ubmVjdCB0byBhIHBlcmlwaGVyYWxcclxuICogLSBSZWFkIHRoZSB2YWx1ZSBvZiBhIGNoYXJhY3RlcmlzdGljXHJcbiAqIC0gV3JpdGUgbmV3IHZhbHVlIHRvIGEgY2hhcmFjdGVyaXN0aWNcclxuICogLSBHZXQgbm90aWZpZWQgd2hlbiBjaGFyYWN0ZXJpc3RpYydzIHZhbHVlIGNoYW5nZXNcclxuICpcclxuICogQWR2ZXJ0aXNpbmcgaW5mb3JtYXRpb24gaXMgcmV0dXJuZWQgd2hlbiBzY2FubmluZyBmb3IgcGVyaXBoZXJhbHMuIFNlcnZpY2UsIGNoYXJhY3RlcmlzdGljLCBhbmQgcHJvcGVydHkgaW5mbyBpcyByZXR1cm5lZCB3aGVuIGNvbm5lY3RpbmcgdG8gYSBwZXJpcGhlcmFsLiBBbGwgYWNjZXNzIGlzIHZpYSBzZXJ2aWNlIGFuZCBjaGFyYWN0ZXJpc3RpYyBVVUlEcy4gVGhlIHBsdWdpbiBtYW5hZ2VzIGhhbmRsZXMgaW50ZXJuYWxseS5cclxuICpcclxuICogU2ltdWx0YW5lb3VzIGNvbm5lY3Rpb25zIHRvIG11bHRpcGxlIHBlcmlwaGVyYWxzIGFyZSBzdXBwb3J0ZWQuXHJcbiAqIEB1c2FnZVxyXG4gKlxyXG4gKiBgYGB0eXBlc2NyaXB0XHJcbiAqXHJcbiAqIGltcG9ydCB7IEJMRSB9IGZyb20gJ0Bhd2Vzb21lLWNvcmRvdmEtcGx1Z2lucy9ibGUvbmd4JztcclxuICpcclxuICogY29uc3RydWN0b3IocHJpdmF0ZSBibGU6IEJMRSkgeyB9XHJcbiAqXHJcbiAqIGBgYFxyXG4gKlxyXG4gKiAjIyBQZXJpcGhlcmFsIERhdGFcclxuICpcclxuICogUGVyaXBoZXJhbCBEYXRhIGlzIHBhc3NlZCB0byB0aGUgc3VjY2VzcyBjYWxsYmFjayB3aGVuIHNjYW5uaW5nIGFuZCBjb25uZWN0aW5nLiBMaW1pdGVkIGRhdGEgaXMgcGFzc2VkIHdoZW4gc2Nhbm5pbmcuXHJcbiAqXHJcbiAqIGBgYHR5cGVzY3JpcHRcclxuICogICB7XHJcbiAqICAgICAgICduYW1lJzogJ0JhdHRlcnkgRGVtbycsXHJcbiAqICAgICAgICdpZCc6ICcyMDpGRjpEMDpGRjpEMTpDMCcsXHJcbiAqICAgICAgICdhZHZlcnRpc2luZyc6IFsyLDEsNiwzLDMsMTUsMjQsOCw5LDY2LDk3LDExNiwxMTYsMTAxLDExNCwxMjFdLFxyXG4gKiAgICAgICAncnNzaSc6IC01NVxyXG4gKiAgIH1cclxuICogYGBgXHJcbiAqIEFmdGVyIGNvbm5lY3RpbmcsIHRoZSBwZXJpcGhlcmFsIG9iamVjdCBhbHNvIGluY2x1ZGVzIHNlcnZpY2UsIGNoYXJhY3RlcmlzdGljIGFuZCBkZXNjcmlwdG9yIGluZm9ybWF0aW9uLlxyXG4gKlxyXG4gKiBgYGB0eXBlc2NyaXB0XHJcbiAqICAge1xyXG4gKiAgICAgICAnbmFtZSc6ICdCYXR0ZXJ5IERlbW8nLFxyXG4gKiAgICAgICAnaWQnOiAnMjA6RkY6RDA6RkY6RDE6QzAnLFxyXG4gKiAgICAgICAnYWR2ZXJ0aXNpbmcnOiBbMiwxLDYsMywzLDE1LDI0LDgsOSw2Niw5NywxMTYsMTE2LDEwMSwxMTQsMTIxXSxcclxuICogICAgICAgJ3Jzc2knOiAtNTUsXHJcbiAqICAgICAgICdzZXJ2aWNlcyc6IFtcclxuICogICAgICAgICAgICcxODAwJyxcclxuICogICAgICAgICAgICcxODAxJyxcclxuICogICAgICAgICAgICcxODBmJ1xyXG4gKiAgICAgICBdLFxyXG4gKiAgICAgICAnY2hhcmFjdGVyaXN0aWNzJzogW1xyXG4gKiAgICAgICAgICAge1xyXG4gKiAgICAgICAgICAgICAgICdzZXJ2aWNlJzogJzE4MDAnLFxyXG4gKiAgICAgICAgICAgICAgICdjaGFyYWN0ZXJpc3RpYyc6ICcyYTAwJyxcclxuICogICAgICAgICAgICAgICAncHJvcGVydGllcyc6IFtcclxuICogICAgICAgICAgICAgICAgICAgJ1JlYWQnXHJcbiAqICAgICAgICAgICAgICAgXVxyXG4gKiAgICAgICAgICAgfSxcclxuICogICAgICAgICAgIHtcclxuICogICAgICAgICAgICAgICAnc2VydmljZSc6ICcxODAwJyxcclxuICogICAgICAgICAgICAgICAnY2hhcmFjdGVyaXN0aWMnOiAnMmEwMScsXHJcbiAqICAgICAgICAgICAgICAgJ3Byb3BlcnRpZXMnOiBbXHJcbiAqICAgICAgICAgICAgICAgICAgICdSZWFkJ1xyXG4gKiAgICAgICAgICAgICAgIF1cclxuICogICAgICAgICAgIH0sXHJcbiAqICAgICAgICAgICB7XHJcbiAqICAgICAgICAgICAgICAgJ3NlcnZpY2UnOiAnMTgwMScsXHJcbiAqICAgICAgICAgICAgICAgJ2NoYXJhY3RlcmlzdGljJzogJzJhMDUnLFxyXG4gKiAgICAgICAgICAgICAgICdwcm9wZXJ0aWVzJzogW1xyXG4gKiAgICAgICAgICAgICAgICAgICAnUmVhZCdcclxuICogICAgICAgICAgICAgICBdXHJcbiAqICAgICAgICAgICB9LFxyXG4gKiAgICAgICAgICAge1xyXG4gKiAgICAgICAgICAgICAgICdzZXJ2aWNlJzogJzE4MGYnLFxyXG4gKiAgICAgICAgICAgICAgICdjaGFyYWN0ZXJpc3RpYyc6ICcyYTE5JyxcclxuICogICAgICAgICAgICAgICAncHJvcGVydGllcyc6IFtcclxuICogICAgICAgICAgICAgICAgICAgJ1JlYWQnXHJcbiAqICAgICAgICAgICAgICAgXSxcclxuICogICAgICAgICAgICAgICAnZGVzY3JpcHRvcnMnOiBbXHJcbiAqICAgICAgICAgICAgICAgICAgIHtcclxuICogICAgICAgICAgICAgICAgICAgICAgICd1dWlkJzogJzI5MDEnXHJcbiAqICAgICAgICAgICAgICAgICAgIH0sXHJcbiAqICAgICAgICAgICAgICAgICAgIHtcclxuICogICAgICAgICAgICAgICAgICAgICAgICd1dWlkJzogJzI5MDQnXHJcbiAqICAgICAgICAgICAgICAgICAgIH1cclxuICogICAgICAgICAgICAgICBdXHJcbiAqICAgICAgICAgICB9XHJcbiAqICAgICAgIF1cclxuICogICB9XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiAjIyBBZHZlcnRpc2luZyBEYXRhXHJcbiAqIEJsdWV0b290aCBhZHZlcnRpc2luZyBkYXRhIGlzIHJldHVybmVkIGluIHdoZW4gc2Nhbm5pbmcgZm9yIGRldmljZXMuIFRoZSBmb3JtYXQgdmFyaWVzIGRlcGVuZGluZyBvbiB5b3VyIHBsYXRmb3JtLiBPbiBBbmRyb2lkIGFkdmVydGlzaW5nIGRhdGEgd2lsbCBiZSB0aGUgcmF3IGFkdmVydGlzaW5nIGJ5dGVzLiBpT1MgZG9lcyBub3QgYWxsb3cgYWNjZXNzIHRvIHJhdyBhZHZlcnRpc2luZyBkYXRhLCBzbyBhIGRpY3Rpb25hcnkgb2YgZGF0YSBpcyByZXR1cm5lZC5cclxuICpcclxuICogVGhlIGFkdmVydGlzaW5nIGluZm9ybWF0aW9uIGZvciBib3RoIEFuZHJvaWQgYW5kIGlPUyBhcHBlYXJzIHRvIGJlIGEgY29tYmluYXRpb24gb2YgYWR2ZXJ0aXNpbmcgZGF0YSBhbmQgc2NhbiByZXNwb25zZSBkYXRhLlxyXG4gKlxyXG4gKiAjIyMgQW5kcm9pZFxyXG4gKlxyXG4gKiBgYGB0eXBlc2NyaXB0XHJcbiAqICAge1xyXG4gKiAgICAgICAnbmFtZSc6ICdkZW1vJyxcclxuICogICAgICAgJ2lkJzogJzAwOjFBOjdEOkRBOjcxOjEzJyxcclxuICogICAgICAgJ2FkdmVydGlzaW5nJzogQXJyYXlCdWZmZXIsXHJcbiAqICAgICAgJ3Jzc2knOiAtMzdcclxuICogIH1cclxuICogYGBgXHJcbiAqXHJcbiAqIENvbnZlcnQgdGhlIGFkdmVydGlzaW5nIGluZm8gdG8gYSBVaW50OEFycmF5IGZvciBwcm9jZXNzaW5nLiBgdmFyIGFkRGF0YSA9IG5ldyBVaW50OEFycmF5KHBlcmlwaGVyYWwuYWR2ZXJ0aXNpbmcpYFxyXG4gKlxyXG4gKiAjIyMgaU9TXHJcbiAqXHJcbiAqIE5vdGUgdGhhdCBpT1MgdXNlcyB0aGUgc3RyaW5nIHZhbHVlIG9mIHRoZSBjb25zdGFudHMgZm9yIHRoZSBbQWR2ZXJ0aXNlbWVudCBEYXRhIFJldHJpZXZhbCBLZXlzXShodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vbGlicmFyeS9pb3MvZG9jdW1lbnRhdGlvbi9Db3JlQmx1ZXRvb3RoL1JlZmVyZW5jZS9DQkNlbnRyYWxNYW5hZ2VyRGVsZWdhdGVfUHJvdG9jb2wvaW5kZXguaHRtbCMvL2FwcGxlX3JlZi9kb2MvY29uc3RhbnRfZ3JvdXAvQWR2ZXJ0aXNlbWVudF9EYXRhX1JldHJpZXZhbF9LZXlzKS4gVGhpcyB3aWxsIGxpa2VseSBjaGFuZ2UgaW4gdGhlIGZ1dHVyZS5cclxuICpcclxuICogYGBgdHlwZXNjcmlwdFxyXG4gKiAgIHtcclxuICogICAgICAgJ25hbWUnOiAnZGVtbycsXHJcbiAqICAgICAgICdpZCc6ICdEODQ3OUE0Ri03NTE3LUJDRDMtOTFCNS0zMzAyQjJGODE4MDInLFxyXG4gKiAgICAgICAnYWR2ZXJ0aXNpbmcnOiB7XHJcbiAqICAgICAgICAgICAna0NCQWR2RGF0YUNoYW5uZWwnOiAzNyxcclxuICogICAgICAgICAgICdrQ0JBZHZEYXRhU2VydmljZURhdGEnOiB7XHJcbiAqICAgICAgICAgICAgICAgJ0ZFRDgnOiB7XHJcbiAqICAgICAgICAgICAgICAgICAgICdieXRlTGVuZ3RoJzogNyAvLyBkYXRhIG5vdCBzaG93blxyXG4gKiAgICAgICAgICAgICAgIH1cclxuICogICAgICAgICAgIH0sXHJcbiAqICAgICAgICAgICAna0NCQWR2RGF0YUxvY2FsTmFtZSc6ICdkZW1vJyxcclxuICogICAgICAgICAgICdrQ0JBZHZEYXRhU2VydmljZVVVSURzJzogWydGRUQ4J10sXHJcbiAqICAgICAgICAgICAna0NCQWR2RGF0YU1hbnVmYWN0dXJlckRhdGEnOiB7XHJcbiAqICAgICAgICAgICAgICAgJ2J5dGVMZW5ndGgnOiA3ICAvLyBkYXRhIG5vdCBzaG93blxyXG4gKiAgICAgICAgICAgfSxcclxuICogICAgICAgICAgICdrQ0JBZHZEYXRhVHhQb3dlckxldmVsJzogMzIsXHJcbiAqICAgICAgICAgICAna0NCQWR2RGF0YUlzQ29ubmVjdGFibGUnOiB0cnVlXHJcbiAqICAgICAgIH0sXHJcbiAqICAgICAgICdyc3NpJzogLTUzXHJcbiAqICAgfVxyXG4gKiBgYGBcclxuICpcclxuICogIyMgVHlwZWQgQXJyYXlzXHJcbiAqXHJcbiAqIFRoaXMgcGx1Z2luIHVzZXMgdHlwZWQgQXJyYXlzIG9yIEFycmF5QnVmZmVycyBmb3Igc2VuZGluZyBhbmQgcmVjZWl2aW5nIGRhdGEuXHJcbiAqXHJcbiAqIFRoaXMgbWVhbnMgdGhhdCB5b3UgbmVlZCBjb252ZXJ0IHlvdXIgZGF0YSB0byBBcnJheUJ1ZmZlcnMgYmVmb3JlIHNlbmRpbmcgYW5kIGZyb20gQXJyYXlCdWZmZXJzIHdoZW4gcmVjZWl2aW5nLlxyXG4gKlxyXG4gKiBgYGB0eXBlc2NyaXB0XHJcbiAqICAgLy8gQVNDSUkgb25seVxyXG4gKiAgIGZ1bmN0aW9uIHN0cmluZ1RvQnl0ZXMoc3RyaW5nKSB7XHJcbiAqICAgICAgdmFyIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoc3RyaW5nLmxlbmd0aCk7XHJcbiAqICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBzdHJpbmcubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAqICAgICAgICAgIGFycmF5W2ldID0gc3RyaW5nLmNoYXJDb2RlQXQoaSk7XHJcbiAqICAgICAgIH1cclxuICogICAgICAgcmV0dXJuIGFycmF5LmJ1ZmZlcjtcclxuICogICB9XHJcbiAqXHJcbiAqICAgLy8gQVNDSUkgb25seVxyXG4gKiAgIGZ1bmN0aW9uIGJ5dGVzVG9TdHJpbmcoYnVmZmVyKSB7XHJcbiAqICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIG5ldyBVaW50OEFycmF5KGJ1ZmZlcikpO1xyXG4gKiAgIH1cclxuICogYGBgXHJcbiAqIFlvdSBjYW4gcmVhZCBtb3JlIGFib3V0IHR5cGVkIGFycmF5cyBpbiB0aGVzZSBhcnRpY2xlcyBvbiBbTUROXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1R5cGVkX2FycmF5cykgYW5kIFtIVE1MNSBSb2Nrc10oaHR0cDovL3d3dy5odG1sNXJvY2tzLmNvbS9lbi90dXRvcmlhbHMvd2ViZ2wvdHlwZWRfYXJyYXlzLykuXHJcbiAqXHJcbiAqICMjIFVVSURzXHJcbiAqXHJcbiAqIFVVSURzIGFyZSBhbHdheXMgc3RyaW5ncyBhbmQgbm90IG51bWJlcnMuIFNvbWUgMTYtYml0IFVVSURzLCBzdWNoIGFzICcyMjIwJyBsb29rIGxpa2UgaW50ZWdlcnMsIGJ1dCB0aGV5J3JlIG5vdC4gKFRoZSBpbnRlZ2VyIDIyMjAgaXMgMHg4QUMgaW4gaGV4LikgVGhpcyBpc24ndCBhIHByb2JsZW0gd2l0aCAxMjggYml0IFVVSURzIHNpbmNlIHRoZXkgbG9vayBsaWtlIHN0cmluZ3MgODJiOWU2ZTEtNTkzYS00NTZmLWJlOWItOTIxNTE2MGViY2FjLiBBbGwgMTYtYml0IFVVSURzIHNob3VsZCBhbHNvIGJlIHBhc3NlZCB0byBtZXRob2RzIGFzIHN0cmluZ3MuXHJcbiAqIEBpbnRlcmZhY2VzXHJcbiAqIEJMRVNjYW5PcHRpb25zXHJcbiAqL1xyXG5AUGx1Z2luKHtcclxuICBwbHVnaW5OYW1lOiAnQkxFJyxcclxuICBwbHVnaW46ICdjb3Jkb3ZhLXBsdWdpbi1ibGUtY2VudHJhbCcsXHJcbiAgcGx1Z2luUmVmOiAnYmxlJyxcclxuICByZXBvOiAnaHR0cHM6Ly9naXRodWIuY29tL2Rvbi9jb3Jkb3ZhLXBsdWdpbi1ibGUtY2VudHJhbCcsXHJcbiAgcGxhdGZvcm1zOiBbJ0FuZHJvaWQnLCAnaU9TJ10sXHJcbn0pXHJcbkBJbmplY3RhYmxlKClcclxuZXhwb3J0IGNsYXNzIEJMRSBleHRlbmRzIEF3ZXNvbWVDb3Jkb3ZhTmF0aXZlUGx1Z2luIHtcclxuICAvKipcclxuICAgKiBTY2FuIGFuZCBkaXNjb3ZlciBCTEUgcGVyaXBoZXJhbHMgZm9yIHRoZSBzcGVjaWZpZWQgYW1vdW50IG9mIHRpbWUuXHJcbiAgICpcclxuICAgKiBAdXNhZ2VcclxuICAgKiBgYGBcclxuICAgKiBCTEUuc2NhbihbXSwgNSkuc3Vic2NyaWJlKGRldmljZSA9PiB7XHJcbiAgICogICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShkZXZpY2UpKTtcclxuICAgKiB9KTtcclxuICAgKiBgYGBcclxuICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBzZXJ2aWNlcyAgTGlzdCBvZiBzZXJ2aWNlIFVVSURzIHRvIGRpc2NvdmVyLCBvciBgW11gIHRvIGZpbmQgYWxsIGRldmljZXNcclxuICAgKiBAcGFyYW0ge251bWJlcn0gc2Vjb25kcyAgTnVtYmVyIG9mIHNlY29uZHMgdG8gcnVuIGRpc2NvdmVyeVxyXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPGFueT59IFJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IG5vdGlmaWVzIG9mIGVhY2ggcGVyaXBoZXJhbCB0aGF0IGlzIGRpc2NvdmVyZWQgZHVyaW5nIHRoZSBzcGVjaWZpZWQgdGltZS5cclxuICAgKi9cclxuICBAQ29yZG92YSh7XHJcbiAgICBvYnNlcnZhYmxlOiB0cnVlLFxyXG4gIH0pXHJcbiAgc2NhbihzZXJ2aWNlczogc3RyaW5nW10sIHNlY29uZHM6IG51bWJlcik6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTY2FuIGFuZCBkaXNjb3ZlciBCTEUgcGVyaXBoZXJhbHMgdW50aWwgYHN0b3BTY2FuYCBpcyBjYWxsZWQuXHJcbiAgICpcclxuICAgKiBAdXNhZ2VcclxuICAgKiBgYGBcclxuICAgKiBCTEUuc3RhcnRTY2FuKFtdKS5zdWJzY3JpYmUoZGV2aWNlID0+IHtcclxuICAgKiAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGRldmljZSkpO1xyXG4gICAqIH0pO1xyXG4gICAqXHJcbiAgICogc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICogICBCTEUuc3RvcFNjYW4oKTtcclxuICAgKiB9LCA1MDAwKTtcclxuICAgKiBgYGBcclxuICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBzZXJ2aWNlcyAgTGlzdCBvZiBzZXJ2aWNlIFVVSURzIHRvIGRpc2NvdmVyLCBvciBgW11gIHRvIGZpbmQgYWxsIGRldmljZXNcclxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxhbnk+fSBSZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBub3RpZmllcyBvZiBlYWNoIHBlcmlwaGVyYWwgZGlzY292ZXJlZC5cclxuICAgKi9cclxuICBAQ29yZG92YSh7XHJcbiAgICBvYnNlcnZhYmxlOiB0cnVlLFxyXG4gICAgY2xlYXJGdW5jdGlvbjogJ3N0b3BTY2FuJyxcclxuICAgIGNsZWFyV2l0aEFyZ3M6IGZhbHNlLFxyXG4gIH0pXHJcbiAgc3RhcnRTY2FuKHNlcnZpY2VzOiBzdHJpbmdbXSk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTY2FucyBmb3IgQkxFIGRldmljZXMuIFRoaXMgZnVuY3Rpb24gb3BlcmF0ZXMgc2ltaWxhcmx5IHRvIHRoZSBgc3RhcnRTY2FuYCBmdW5jdGlvbiwgYnV0IGFsbG93cyB5b3UgdG8gc3BlY2lmeSBleHRyYSBvcHRpb25zIChsaWtlIGFsbG93aW5nIGR1cGxpY2F0ZSBkZXZpY2UgcmVwb3J0cykuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBzZXJ2aWNlcyAgTGlzdCBvZiBzZXJ2aWNlIFVVSURzIHRvIGRpc2NvdmVyLCBvciBgW11gIHRvIGZpbmQgYWxsIGRldmljZXNcclxuICAgKiBAcGFyYW0ge0JMRVNjYW5PcHRpb25zfSBvcHRpb25zIE9wdGlvbnNcclxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxhbnk+fSBSZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBub3RpZmllcyBvZiBlYWNoIHBlcmlwaGVyYWwgZGlzY292ZXJlZC5cclxuICAgKi9cclxuICBAQ29yZG92YSh7XHJcbiAgICBvYnNlcnZhYmxlOiB0cnVlLFxyXG4gICAgY2xlYXJGdW5jdGlvbjogJ3N0b3BTY2FuJyxcclxuICAgIGNsZWFyV2l0aEFyZ3M6IGZhbHNlLFxyXG4gIH0pXHJcbiAgc3RhcnRTY2FuV2l0aE9wdGlvbnMoc2VydmljZXM6IHN0cmluZ1tdLCBvcHRpb25zOiBCTEVTY2FuT3B0aW9ucyk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTdG9wIGEgc2NhbiBzdGFydGVkIGJ5IGBzdGFydFNjYW5gLlxyXG4gICAqXHJcbiAgICogQHVzYWdlXHJcbiAgICogYGBgXHJcbiAgICogQkxFLnN0YXJ0U2NhbihbXSkuc3Vic2NyaWJlKGRldmljZSA9PiB7XHJcbiAgICogICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShkZXZpY2UpKTtcclxuICAgKiB9KTtcclxuICAgKiBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgKiAgIEJMRS5zdG9wU2NhbigpLnRoZW4oKCkgPT4geyBjb25zb2xlLmxvZygnc2NhbiBzdG9wcGVkJyk7IH0pO1xyXG4gICAqIH0sIDUwMDApO1xyXG4gICAqIGBgYFxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XHJcbiAgICovXHJcbiAgQENvcmRvdmEoKVxyXG4gIHN0b3BTY2FuKCk6IFByb21pc2U8YW55PiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgZGV2aWNlIHBpbi5cclxuICAgKlxyXG4gICAqIEB1c2FnZVxyXG4gICAqIGBgYFxyXG4gICAqICAgQkxFLnNldFBpbihwaW4pLnN1YnNjcmliZShzdWNjZXNzID0+IHtcclxuICAgKiAgICAgY29uc29sZS5sb2coc3VjY2Vzcyk7XHJcbiAgICogICB9LFxyXG4gICAqICAgZmFpbHVyZSA9PiB7XHJcbiAgICogICAgIGNvbnNvbGUubG9nKCdmYWlsdXJlJyk7XHJcbiAgICogICB9KTtcclxuICAgKiBgYGBcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGluIFBpbiBvZiB0aGUgZGV2aWNlIGFzIGEgc3RyaW5nXHJcbiAgICogQHJldHVybnMge09ic2VydmFibGU8YW55Pn0gUmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgbm90aWZpZXMgb2Ygc3VjY2Vzcy9mYWlsdXJlLlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHtcclxuICAgIG9ic2VydmFibGU6IHRydWUsXHJcbiAgfSlcclxuICBzZXRQaW4ocGluOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29ubmVjdCB0byBhIHBlcmlwaGVyYWwuXHJcbiAgICpcclxuICAgKiBAdXNhZ2VcclxuICAgKiBgYGBcclxuICAgKiAgIEJMRS5jb25uZWN0KCcxMjozNDo1Njo3ODo5QTpCQycpLnN1YnNjcmliZShwZXJpcGhlcmFsRGF0YSA9PiB7XHJcbiAgICogICAgIGNvbnNvbGUubG9nKHBlcmlwaGVyYWxEYXRhKTtcclxuICAgKiAgIH0sXHJcbiAgICogICBwZXJpcGhlcmFsRGF0YSA9PiB7XHJcbiAgICogICAgIGNvbnNvbGUubG9nKCdkaXNjb25uZWN0ZWQnKTtcclxuICAgKiAgIH0pO1xyXG4gICAqIGBgYFxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkZXZpY2VJZCBVVUlEIG9yIE1BQyBhZGRyZXNzIG9mIHRoZSBwZXJpcGhlcmFsXHJcbiAgICogQHJldHVybnMge09ic2VydmFibGU8YW55Pn0gUmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgbm90aWZpZXMgb2YgY29ubmVjdC9kaXNjb25uZWN0LlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHtcclxuICAgIG9ic2VydmFibGU6IHRydWUsXHJcbiAgICBjbGVhckZ1bmN0aW9uOiAnZGlzY29ubmVjdCcsXHJcbiAgICBjbGVhcldpdGhBcmdzOiB0cnVlLFxyXG4gIH0pXHJcbiAgY29ubmVjdChkZXZpY2VJZDogc3RyaW5nKTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEVzdGFibGlzaCBhbiBhdXRvbWF0aWMgY29ubmVjdGlvbiB0byBhIHBlcmlwaGVyYWwuIFRoZSBwaG9uZSB3aWxsIGF1dG9tYXRpY2FsbHkgY29ubmVjdCB0byB0aGUgQmx1ZXRvb3RoIHBlcmlwaGVyYWxcclxuICAgKiB3aGVuZXZlciBpdCBpcyBpbiByYW5nZS4gVGhlIGF1dG9Db25uZWN0IGZ1bmN0aW9uIHVzZXMgY2FsbGJhY2tzIGluc3RlYWQgb2Ygb2JzZXJ2YWJsZXMgYmVjYXVzZSBjb25uZWN0IGFuZFxyXG4gICAqIGRpc2Nvbm5lY3QgY2FuIGVhY2ggYmUgY2FsbGVkIG1hbnkgdGltZXMgYXMgYSBkZXZpY2VzIGNvbm5lY3RzIGFuZCBkaXNjb25uZWN0cy5cclxuICAgKlxyXG4gICAqIE9uIEFuZHJvaWQgeW91IGNhbiBwYXNzIGEgTUFDIGFkZHJlc3MgZGlyZWN0bHkgdG8gYXV0b0Nvbm5lY3QuIFdpdGggaU9TLCB5b3UgbmVlZCB0byBnZXQgYSBkZXZpY2UgaWQgYnkgc2Nhbm5pbmcsXHJcbiAgICogY2FsbGluZyBibGUucGVyaXBoZXJhbHNXaXRoSWRlbnRpZmllcnMsIG9yIGNhbGxpbmcgYmxlLmNvbm5lY3RlZFBlcmlwaGVyYWxzV2l0aFNlcnZpY2VzLlxyXG4gICAqXHJcbiAgICogQHVzYWdlXHJcbiAgICogYGBgXHJcbiAgICogIHNvbWVGdW5jdGlvbigpIHtcclxuICAgKiAgICB0aGlzLmJsZS5hdXRvQ29ubmVjdChkZXZpY2VJZCwgb25Db25uZWN0ZWQuYmluZCh0aGlzKSwgb25EaXNjb25uZWN0ZWQuYmluZCh0aGlzKSk7XHJcbiAgICogIH1cclxuICAgKlxyXG4gICAqICBvbkNvbm5lY3RlZChwZXJpcGhlcmFsKSB7XHJcbiAgICogICAgY29uc29sZS5sb2coYENvbm5lY3RlZCB0byAke3BlcmlwaGVyYWwuaWR9YClsXHJcbiAgICogIH1cclxuICAgKlxyXG4gICAqICBvbkRpc2Nvbm5lY3RlZChwZXJpcGhlcmFsKSB7XHJcbiAgICogICAgY29uc29sZS5sb2coYERpc2Nvbm5lY3RlZCBmcm9tICR7cGVyaXBoZXJhbC5pZH1gKWxcclxuICAgKiAgfVxyXG4gICAqXHJcbiAgICogYGBgXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRldmljZUlkIFVVSUQgb3IgTUFDIGFkZHJlc3Mgb2YgdGhlIHBlcmlwaGVyYWxcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb25uZWN0Q2FsbGJhY2sgZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2l0aCBwZXJpcGhlcmFsIGRhdGEgd2hlbiB0aGUgZGV2aWNlcyBjb25uZWN0c1xyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGRpc2Nvbm5lY3RDYWxsYmFjayAgZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2l0aCBwZXJpcGhlcmFsIGRhdGEgd2hlbiB0aGUgZGV2aWNlcyBkaXNjb25uZWN0c1xyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxyXG4gIGF1dG9Db25uZWN0KGRldmljZUlkOiBzdHJpbmcsIGNvbm5lY3RDYWxsYmFjazogYW55LCBkaXNjb25uZWN0Q2FsbGJhY2s6IGFueSkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVxdWVzdCBNVFUgc2l6ZS5cclxuICAgKiBNYXkgYmUgdXNlZCB0byBmaXggdGhlIEVycm9yIDE0IFwiVW5saWtlbHlcIiBvbiB3cml0ZSByZXF1ZXN0cyB3aXRoIG1vcmUgdGhhbiAyMCBieXRlcy5cclxuICAgKlxyXG4gICAqIEB1c2FnZVxyXG4gICAqIGBgYFxyXG4gICAqICAgQkxFLnJlcXVlc3RNdHUoJzEyOjM0OjU2Ojc4OjlBOkJDJywgNTEyKS50aGVuKCgpID0+IHtcclxuICAgKiAgICAgY29uc29sZS5sb2coJ01UVSBTaXplIEFjY2VwdGVkJyk7XHJcbiAgICogICB9LCBlcnJvciA9PiB7XHJcbiAgICogICAgIGNvbnNvbGUubG9nKCdNVFUgU2l6ZSBGYWlsZWQnKTtcclxuICAgKiAgIH0pO1xyXG4gICAqIGBgYFxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkZXZpY2VJZCBVVUlEIG9yIE1BQyBhZGRyZXNzIG9mIHRoZSBwZXJpcGhlcmFsXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IG10dVNpemUgVGhlIG5ldyBNVFUgc2l6ZS4gKDIzIC0gNTE3LCBkZWZhdWx0IGlzIHVzdWFsbHkgMjMuIE1heCByZWNvbW1lbmRlZDogNTEyKVxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59IFJldHVybnMgYSBQcm9taXNlLlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKClcclxuICByZXF1ZXN0TXR1KGRldmljZUlkOiBzdHJpbmcsIG10dVNpemU6IG51bWJlcik6IFByb21pc2U8YW55PiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWZyZXNoIERldmljZSBDYWNoZVxyXG4gICAqIFRoaXMgbWV0aG9kIG1heSBmaXggYSBpc3N1ZSBvZiBvbGQgY2FjaGVkIHNlcnZpY2VzIGFuZCBjaGFyYWN0ZXJpc3RpY3MuXHJcbiAgICogTk9URSBTaW5jZSB0aGlzIHVzZXMgYW4gdW5kb2N1bWVudGVkIEFQSSBpdCdzIG5vdCBndWFyYW50ZWVkIHRvIHdvcmsuXHJcbiAgICogSWYgeW91IGNob29zZSBhIHRvbyBsb3cgZGVsYXkgdGltZSAodGltZW91dE1pbGxpcykgdGhlIG1ldGhvZCBjb3VsZCBmYWlsLlxyXG4gICAqXHJcbiAgICogQHVzYWdlXHJcbiAgICogYGBgXHJcbiAgICogICBCTEUucmVmcmVzaERldmljZUNhY2hlKCcxMjozNDo1Njo3ODo5QTpCQycsIDEwMDAwKS50aGVuKGRpc2NvdmVyZWRTZXJ2aWNlcyA9PiB7XHJcbiAgICogICAgIGNvbnNvbGUubG9nKCdUaGUgbmV3IGRpc2NvdmVyZWQgc2VydmljZXMgYWZ0ZXIgdGhlIGNsZWFuOiAnLCBkaXNjb3ZlcmVkU2VydmljZXMpO1xyXG4gICAqICAgfSwgZXJyb3IgPT4ge1xyXG4gICAqICAgICBjb25zb2xlLmxvZygnUmVmcmVzaCBkZXZpY2UgY2FjaGUgZmFpbGVkLicpO1xyXG4gICAqICAgfSk7XHJcbiAgICogYGBgXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRldmljZUlkIFVVSUQgb3IgTUFDIGFkZHJlc3Mgb2YgdGhlIHBlcmlwaGVyYWxcclxuICAgKiBAcGFyYW0ge251bWJlcn0gdGltZW91dE1pbGxpcyBEZWxheSBpbiBtaWxsaXNlY29uZHMgYWZ0ZXIgcmVmcmVzaCBiZWZvcmUgZGlzY292ZXJpbmcgc2VydmljZXMuXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn0gUmV0dXJucyBhIFByb21pc2UuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoKVxyXG4gIHJlZnJlc2hEZXZpY2VDYWNoZShkZXZpY2VJZDogc3RyaW5nLCB0aW1lb3V0TWlsbGlzOiBudW1iZXIpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGlzY29ubmVjdCBmcm9tIGEgcGVyaXBoZXJhbC5cclxuICAgKlxyXG4gICAqIEB1c2FnZVxyXG4gICAqIGBgYFxyXG4gICAqICAgQkxFLmRpc2Nvbm5lY3QoJzEyOjM0OjU2Ojc4OjlBOkJDJykudGhlbigoKSA9PiB7XHJcbiAgICogICAgIGNvbnNvbGUubG9nKCdEaXNjb25uZWN0ZWQnKTtcclxuICAgKiAgIH0pO1xyXG4gICAqIGBgYFxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkZXZpY2VJZCAgVVVJRCBvciBNQUMgYWRkcmVzcyBvZiB0aGUgcGVyaXBoZXJhbFxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59IFJldHVybnMgYSBQcm9taXNlXHJcbiAgICovXHJcbiAgQENvcmRvdmEoKVxyXG4gIGRpc2Nvbm5lY3QoZGV2aWNlSWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWFkIHRoZSB2YWx1ZSBvZiBhIGNoYXJhY3RlcmlzdGljLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRldmljZUlkICBVVUlEIG9yIE1BQyBhZGRyZXNzIG9mIHRoZSBwZXJpcGhlcmFsXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlcnZpY2VVVUlEICBVVUlEIG9mIHRoZSBCTEUgc2VydmljZVxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaGFyYWN0ZXJpc3RpY1VVSUQgIFVVSUQgb2YgdGhlIEJMRSBjaGFyYWN0ZXJpc3RpY1xyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59IFJldHVybnMgYSBQcm9taXNlXHJcbiAgICovXHJcbiAgQENvcmRvdmEoKVxyXG4gIHJlYWQoZGV2aWNlSWQ6IHN0cmluZywgc2VydmljZVVVSUQ6IHN0cmluZywgY2hhcmFjdGVyaXN0aWNVVUlEOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogV3JpdGUgdGhlIHZhbHVlIG9mIGEgY2hhcmFjdGVyaXN0aWMuXHJcbiAgICpcclxuICAgKiBAdXNhZ2VcclxuICAgKiBgYGBcclxuICAgKiAvLyBzZW5kIDEgYnl0ZSB0byBzd2l0Y2ggYSBsaWdodCBvblxyXG4gICAqIHZhciBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoMSk7XHJcbiAgICogZGF0YVswXSA9IDE7XHJcbiAgICogQkxFLndyaXRlKGRldmljZV9pZCwgJ0ZGMTAnLCAnRkYxMScsIGRhdGEuYnVmZmVyKTtcclxuICAgKlxyXG4gICAqIC8vIHNlbmQgYSAzIGJ5dGUgdmFsdWUgd2l0aCBSR0IgY29sb3JcclxuICAgKiB2YXIgZGF0YSA9IG5ldyBVaW50OEFycmF5KDMpO1xyXG4gICAqIGRhdGFbMF0gPSAweEZGOyAgLy8gcmVkXHJcbiAgICogZGF0YVswXSA9IDB4MDA7IC8vIGdyZWVuXHJcbiAgICogZGF0YVswXSA9IDB4RkY7IC8vIGJsdWVcclxuICAgKiBCTEUud3JpdGUoZGV2aWNlX2lkLCAnY2NjMCcsICdjY2MxJywgZGF0YS5idWZmZXIpO1xyXG4gICAqXHJcbiAgICogLy8gc2VuZCBhIDMyIGJpdCBpbnRlZ2VyXHJcbiAgICogdmFyIGRhdGEgPSBuZXcgVWludDMyQXJyYXkoMSk7XHJcbiAgICogZGF0YVswXSA9IGNvdW50ZXJJbnB1dC52YWx1ZTtcclxuICAgKiBCTEUud3JpdGUoZGV2aWNlX2lkLCBTRVJWSUNFLCBDSEFSQUNURVJJU1RJQywgZGF0YS5idWZmZXIpO1xyXG4gICAqXHJcbiAgICogYGBgXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRldmljZUlkICBVVUlEIG9yIE1BQyBhZGRyZXNzIG9mIHRoZSBwZXJpcGhlcmFsXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlcnZpY2VVVUlEICBVVUlEIG9mIHRoZSBCTEUgc2VydmljZVxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaGFyYWN0ZXJpc3RpY1VVSUQgIFVVSUQgb2YgdGhlIEJMRSBjaGFyYWN0ZXJpc3RpY1xyXG4gICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IHZhbHVlICBEYXRhIHRvIHdyaXRlIHRvIHRoZSBjaGFyYWN0ZXJpc3RpYywgYXMgYW4gQXJyYXlCdWZmZXIuXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn0gUmV0dXJucyBhIFByb21pc2VcclxuICAgKi9cclxuICBAQ29yZG92YSgpXHJcbiAgd3JpdGUoZGV2aWNlSWQ6IHN0cmluZywgc2VydmljZVVVSUQ6IHN0cmluZywgY2hhcmFjdGVyaXN0aWNVVUlEOiBzdHJpbmcsIHZhbHVlOiBBcnJheUJ1ZmZlcik6IFByb21pc2U8YW55PiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBXcml0ZSB0aGUgdmFsdWUgb2YgYSBjaGFyYWN0ZXJpc3RpYyB3aXRob3V0IHdhaXRpbmcgZm9yIGNvbmZpcm1hdGlvbiBmcm9tIHRoZSBwZXJpcGhlcmFsLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRldmljZUlkICBVVUlEIG9yIE1BQyBhZGRyZXNzIG9mIHRoZSBwZXJpcGhlcmFsXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlcnZpY2VVVUlEICBVVUlEIG9mIHRoZSBCTEUgc2VydmljZVxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaGFyYWN0ZXJpc3RpY1VVSUQgIFVVSUQgb2YgdGhlIEJMRSBjaGFyYWN0ZXJpc3RpY1xyXG4gICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IHZhbHVlICBEYXRhIHRvIHdyaXRlIHRvIHRoZSBjaGFyYWN0ZXJpc3RpYywgYXMgYW4gQXJyYXlCdWZmZXIuXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn0gUmV0dXJucyBhIFByb21pc2VcclxuICAgKi9cclxuICBAQ29yZG92YSgpXHJcbiAgd3JpdGVXaXRob3V0UmVzcG9uc2UoXHJcbiAgICBkZXZpY2VJZDogc3RyaW5nLFxyXG4gICAgc2VydmljZVVVSUQ6IHN0cmluZyxcclxuICAgIGNoYXJhY3RlcmlzdGljVVVJRDogc3RyaW5nLFxyXG4gICAgdmFsdWU6IEFycmF5QnVmZmVyXHJcbiAgKTogUHJvbWlzZTxhbnk+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlZ2lzdGVyIHRvIGJlIG5vdGlmaWVkIHdoZW4gdGhlIHZhbHVlIG9mIGEgY2hhcmFjdGVyaXN0aWMgY2hhbmdlcy5cclxuICAgKlxyXG4gICAqIEB1c2FnZVxyXG4gICAqIGBgYFxyXG4gICAqIEJMRS5zdGFydE5vdGlmaWNhdGlvbihkZXZpY2VfaWQsICdGRjEwJywgJ0ZGMTEnKS5zdWJzY3JpYmUoYnVmZmVyID0+IHtcclxuICAgKiAgIGNvbnNvbGUubG9nKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKSk7XHJcbiAgICogfSk7XHJcbiAgICogYGBgXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRldmljZUlkICBVVUlEIG9yIE1BQyBhZGRyZXNzIG9mIHRoZSBwZXJpcGhlcmFsXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlcnZpY2VVVUlEICBVVUlEIG9mIHRoZSBCTEUgc2VydmljZVxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaGFyYWN0ZXJpc3RpY1VVSUQgIFVVSUQgb2YgdGhlIEJMRSBjaGFyYWN0ZXJpc3RpY1xyXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPGFueT59IFJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IG5vdGlmaWVzIG9mIGNoYXJhY3RlcmlzdGljIGNoYW5nZXMuXHJcbiAgICogVGhlIG9ic2VydmVyIGVtaXQgYW4gYXJyYXkgd2l0aCBkYXRhIGF0IGluZGV4IDAgYW5kIHNlcXVlbmNlIG9yZGVyIGF0IGluZGV4IDEuXHJcbiAgICogVGhlIHNlcXVlbmNlIG9yZGVyIGlzIGFsd2F5cyB1bmRlZmluZWQgb24gaU9TLiBPbiBhbmRyb2lkIGl0IGxlYXZlIHRoZSBjbGllbnQgdG8gY2hlY2sgdGhlIHNlcXVlbmNlIG9yZGVyIGFuZCByZW9yZGVyIGlmIG5lZWRlZFxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHtcclxuICAgIG9ic2VydmFibGU6IHRydWUsXHJcbiAgICBkZXN0cnVjdDogdHJ1ZSxcclxuICAgIGNsZWFyRnVuY3Rpb246ICdzdG9wTm90aWZpY2F0aW9uJyxcclxuICAgIGNsZWFyV2l0aEFyZ3M6IHRydWUsXHJcbiAgfSlcclxuICBzdGFydE5vdGlmaWNhdGlvbihkZXZpY2VJZDogc3RyaW5nLCBzZXJ2aWNlVVVJRDogc3RyaW5nLCBjaGFyYWN0ZXJpc3RpY1VVSUQ6IHN0cmluZyk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTdG9wIGJlaW5nIG5vdGlmaWVkIHdoZW4gdGhlIHZhbHVlIG9mIGEgY2hhcmFjdGVyaXN0aWMgY2hhbmdlcy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkZXZpY2VJZCAgVVVJRCBvciBNQUMgYWRkcmVzcyBvZiB0aGUgcGVyaXBoZXJhbFxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZXJ2aWNlVVVJRCAgVVVJRCBvZiB0aGUgQkxFIHNlcnZpY2VcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2hhcmFjdGVyaXN0aWNVVUlEICBVVUlEIG9mIHRoZSBCTEUgY2hhcmFjdGVyaXN0aWNcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKClcclxuICBzdG9wTm90aWZpY2F0aW9uKGRldmljZUlkOiBzdHJpbmcsIHNlcnZpY2VVVUlEOiBzdHJpbmcsIGNoYXJhY3RlcmlzdGljVVVJRDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlcG9ydCB0aGUgY29ubmVjdGlvbiBzdGF0dXMuXHJcbiAgICpcclxuICAgKiBAdXNhZ2VcclxuICAgKiBgYGBcclxuICAgKiBCTEUuaXNDb25uZWN0ZWQoJ0ZGQ0EwQjA5LUNCMUQtNERDMC1BMUVGLTMxQUZEM0VERkI1MycpLnRoZW4oXHJcbiAgICogICAoKSA9PiB7IGNvbnNvbGUubG9nKCdjb25uZWN0ZWQnKTsgfSxcclxuICAgKiAgICgpID0+IHsgY29uc29sZS5sb2coJ25vdCBjb25uZWN0ZWQnKTsgfVxyXG4gICAqICk7XHJcbiAgICogYGBgXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRldmljZUlkICBVVUlEIG9yIE1BQyBhZGRyZXNzIG9mIHRoZSBwZXJpcGhlcmFsXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cclxuICAgKi9cclxuICBAQ29yZG92YSgpXHJcbiAgaXNDb25uZWN0ZWQoZGV2aWNlSWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXBvcnQgaWYgYmx1ZXRvb3RoIGlzIGVuYWJsZWQuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIFByb21pc2UgdGhhdCByZXNvbHZlcyBpZiBCbHVldG9vdGggaXMgZW5hYmxlZCwgYW5kIHJlamVjdHMgaWYgZGlzYWJsZWQuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoKVxyXG4gIGlzRW5hYmxlZCgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlZ2lzdGVyIHRvIGJlIG5vdGlmaWVkIHdoZW4gQmx1ZXRvb3RoIHN0YXRlIGNoYW5nZXMgb24gdGhlIGRldmljZS5cclxuICAgKlxyXG4gICAqIEB1c2FnZVxyXG4gICAqIGBgYFxyXG4gICAqIEJMRS5zdGFydFN0YXRlTm90aWZpY2F0aW9ucygpLnN1YnNjcmliZShzdGF0ZSA9PiB7XHJcbiAgICogICBjb25zb2xlLmxvZyhcIkJsdWV0b290aCBpcyBcIiArIHN0YXRlKTtcclxuICAgKiB9KTtcclxuICAgKiBgYGBcclxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxhbnk+fSBSZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBub3RpZmllcyB3aGVuIHRoZSBCbHVldG9vdGggaXMgZW5hYmxlZCBvciBkaXNhYmxlZCBvbiB0aGUgZGV2aWNlLlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHtcclxuICAgIG9ic2VydmFibGU6IHRydWUsXHJcbiAgICBjbGVhckZ1bmN0aW9uOiAnc3RvcFN0YXRlTm90aWZpY2F0aW9ucycsXHJcbiAgICBjbGVhcldpdGhBcmdzOiBmYWxzZSxcclxuICB9KVxyXG4gIHN0YXJ0U3RhdGVOb3RpZmljYXRpb25zKCk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTdG9wIHN0YXRlIG5vdGlmaWNhdGlvbnMuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKClcclxuICBzdG9wU3RhdGVOb3RpZmljYXRpb25zKCk6IFByb21pc2U8YW55PiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBPcGVuIFN5c3RlbSBCbHVldG9vdGggc2V0dGluZ3MgKEFuZHJvaWQgb25seSkuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKClcclxuICBzaG93Qmx1ZXRvb3RoU2V0dGluZ3MoKTogUHJvbWlzZTxhbnk+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEVuYWJsZSBCbHVldG9vdGggb24gdGhlIGRldmljZSAoQW5kcm9pZCBvbmx5KS5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XHJcbiAgICovXHJcbiAgQENvcmRvdmEoKVxyXG4gIGVuYWJsZSgpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVhZCB0aGUgUlNTSSB2YWx1ZSBvbiB0aGUgZGV2aWNlIGNvbm5lY3Rpb24uXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGV2aWNlSWQgIFVVSUQgb3IgTUFDIGFkZHJlc3Mgb2YgdGhlIHBlcmlwaGVyYWxcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKClcclxuICByZWFkUlNTSShkZXZpY2VJZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHJpZXZlcyBhIGxpc3Qgb2YgdGhlIHBlcmlwaGVyYWxzIChjb250YWluaW5nIGFueSBvZiB0aGUgc3BlY2lmaWVkIHNlcnZpY2VzKVxyXG4gICAqIGN1cnJlbnRseSBjb25uZWN0ZWQgdG8gdGhlIHN5c3RlbS4gVGhlIHBlcmlwaGVyYWwgbGlzdCBpcyBzZW50IHRvIHRoZSBzdWNjZXNzIGNhbGxiYWNrLlxyXG4gICAqIGlPUyBvbmx5XHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBzZXJ2aWNlcyBMaXN0IG9mIHNlcnZpY2VzIHRvIGRpc2NvdmVyXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn0gUmV0dXJucyBhIHByb21pc2Ugd2l0aCBhIGxpc3Qgb2YgcGVyaXBoZXJhbCBvYmplY3RzXHJcbiAgICovXHJcbiAgQENvcmRvdmEoKVxyXG4gIGNvbm5lY3RlZFBlcmlwaGVyYWxzV2l0aFNlcnZpY2VzKHNlcnZpY2VzOiBzdHJpbmdbXSk6IFByb21pc2U8YW55W10+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEZpbmQgdGhlIGNvbm5lY3RlZCBwZXJpcGhlcmFscyBvZmZlcmluZyB0aGUgbGlzdGVkIHNlcnZpY2UgVVVJRHMuXHJcbiAgICogaU9TIG9ubHlcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nW119IHV1aWRzIExpc3Qgb2YgcGVyaXBoZXJhbCBVVUlEc1xyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59IFJldHVybnMgYSBwcm9taXNlIHdpdGggYSBsaXN0IG9mIHBlcmlwaGVyYWwgb2JqZWN0c1xyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKClcclxuICBwZXJpcGhlcmFsc1dpdGhJZGVudGlmaWVycyh1dWlkczogc3RyaW5nW10pOiBQcm9taXNlPGFueVtdPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBGaW5kIHRoZSBib25kZWQgZGV2aWNlc1xyXG4gICAqIEFuZHJvaWQgb25seVxyXG4gICAqXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn0gUmV0dXJucyBhIHByb21pc2Ugd2l0aCBhIGxpc3Qgb2YgcGVyaXBoZXJhbCBvYmplY3RzXHJcbiAgICovXHJcbiAgQENvcmRvdmEoKVxyXG4gIGJvbmRlZERldmljZXMoKTogUHJvbWlzZTxhbnlbXT4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVwb3J0cyBpZiBsb2NhdGlvbiBzZXJ2aWNlcyBhcmUgZW5hYmxlZC5cclxuICAgKiBBbmRyb2lkIG9ubHlcclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKClcclxuICBpc0xvY2F0aW9uRW5hYmxlZCgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcbn1cclxuIl19