import { __extends } from "tslib";
import { Injectable } from '@angular/core';
import { AwesomeCordovaNativePlugin, cordova } from '@awesome-cordova-plugins/core';
var MetrixConfig = /** @class */ (function () {
    function MetrixConfig(appId) {
        this.secretId = null;
        this.info1 = null;
        this.info2 = null;
        this.info3 = null;
        this.info4 = null;
        this.defaultTrackerToken = null;
        this.shouldLaunchDeeplink = false;
        this.firebaseAppId = null;
        this.firebaseProjectId = null;
        this.firebaseApiKey = null;
        this.isLocationListeningEnable = false;
        this.eventUploadThreshold = null;
        this.eventUploadMaxBatchSize = null;
        this.eventMaxCount = null;
        this.eventUploadPeriodMillis = null;
        this.sessionTimeoutMillis = null;
        this.store = null;
        this.userIdListener = null;
        this.sessionIdListener = null;
        this.attributionChangeListener = null;
        this.deeplinkResponseListener = null;
        this.appId = appId;
    }
    MetrixConfig.prototype.setDefaultTracker = function (defaultTrackerToken) {
        this.defaultTrackerToken = defaultTrackerToken;
    };
    MetrixConfig.prototype.setFirebaseId = function (firebaseAppId, firebaseProjectId, firebaseApiKey) {
        this.firebaseAppId = firebaseAppId;
        this.firebaseProjectId = firebaseProjectId;
        this.firebaseApiKey = firebaseApiKey;
    };
    MetrixConfig.prototype.setAppSecret = function (secretId, info1, info2, info3, info4) {
        this.secretId = secretId;
        this.info1 = info1;
        this.info2 = info2;
        this.info3 = info3;
        this.info4 = info4;
    };
    MetrixConfig.prototype.setShouldLaunchDeeplink = function (shouldLaunchDeeplink) {
        this.shouldLaunchDeeplink = shouldLaunchDeeplink;
    };
    MetrixConfig.prototype.setOnAttributionChangeListener = function (attributionChangeListener) {
        this.attributionChangeListener = attributionChangeListener;
    };
    MetrixConfig.prototype.setOnDeeplinkResponseListener = function (deeplinkResponseListener) {
        this.deeplinkResponseListener = deeplinkResponseListener;
    };
    MetrixConfig.prototype.setOnReceiveUserIdListener = function (userIdListener) {
        this.userIdListener = userIdListener;
    };
    MetrixConfig.prototype.setOnSessionIdListener = function (sessionIdListener) {
        this.sessionIdListener = sessionIdListener;
    };
    MetrixConfig.prototype.setLocationListening = function (isLocationListeningEnable) {
        this.isLocationListeningEnable = isLocationListeningEnable;
    };
    MetrixConfig.prototype.setEventUploadThreshold = function (threshold) {
        this.eventUploadThreshold = threshold;
    };
    MetrixConfig.prototype.setEventUploadMaxBatchSize = function (size) {
        this.eventUploadMaxBatchSize = size;
    };
    MetrixConfig.prototype.setEventMaxCount = function (count) {
        this.eventMaxCount = count;
    };
    MetrixConfig.prototype.setEventUploadPeriodMillis = function (period) {
        this.eventUploadPeriodMillis = period;
    };
    MetrixConfig.prototype.setSessionTimeoutMillis = function (timeout) {
        this.sessionTimeoutMillis = timeout;
    };
    MetrixConfig.prototype.setStore = function (store) {
        this.store = store;
    };
    MetrixConfig.prototype.getAttributionChangeListener = function () {
        return this.attributionChangeListener;
    };
    MetrixConfig.prototype.getDeeplinkResponseListener = function () {
        return this.deeplinkResponseListener;
    };
    MetrixConfig.prototype.getOnReceiveUserIdListener = function () {
        return this.userIdListener;
    };
    MetrixConfig.prototype.getOnSessionIdListener = function () {
        return this.sessionIdListener;
    };
    MetrixConfig.prototype.hasAttributionChangeListener = function () {
        return this.attributionChangeListener !== null;
    };
    MetrixConfig.prototype.hasDeeplinkResponseListener = function () {
        return this.deeplinkResponseListener !== null;
    };
    MetrixConfig.prototype.hasUserIdListener = function () {
        return this.userIdListener !== null;
    };
    MetrixConfig.prototype.hasSessionIdListener = function () {
        return this.sessionIdListener !== null;
    };
    return MetrixConfig;
}());
export { MetrixConfig };
export var MetrixAttributionStatus;
(function (MetrixAttributionStatus) {
    MetrixAttributionStatus["Attributed"] = "ATTRIBUTED";
    MetrixAttributionStatus["NotAttributedYet"] = "NOT_ATTRIBUTED_YET";
    MetrixAttributionStatus["AttributionNotNeeded"] = "ATTRIBUTION_NOT_NEEDED";
    MetrixAttributionStatus["Unknown"] = "UNKNOWN";
})(MetrixAttributionStatus || (MetrixAttributionStatus = {}));
var Metrix = /** @class */ (function (_super) {
    __extends(Metrix, _super);
    function Metrix() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Metrix.prototype.create = function (config) { return cordova(this, "create", { "sync": true }, arguments); };
    Metrix.prototype.getSessionNum = function () { return cordova(this, "getSessionNum", {}, arguments); };
    Metrix.prototype.newEvent = function (slug, attributes) { return cordova(this, "newEvent", { "sync": true }, arguments); };
    Metrix.prototype.addUserAttributes = function (attributes) { return cordova(this, "addUserAttributes", { "sync": true }, arguments); };
    Metrix.prototype.newRevenue = function (slug, amount, currency, orderId) { return cordova(this, "newRevenue", { "sync": true }, arguments); };
    Metrix.prototype.appWillOpenUrl = function (url) { return cordova(this, "appWillOpenUrl", { "sync": true }, arguments); };
    Metrix.pluginName = "Metrix";
    Metrix.plugin = "ir.metrix.sdk";
    Metrix.pluginRef = "Metrix";
    Metrix.repo = "https://github.com/metrixorg/MetrixSDK-CordovaPlugin";
    Metrix.platforms = ["Android"];
    Metrix.decorators = [
        { type: Injectable }
    ];
    return Metrix;
}(AwesomeCordovaNativePlugin));
export { Metrix };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvQGF3ZXNvbWUtY29yZG92YS1wbHVnaW5zL3BsdWdpbnMvbWV0cml4L25neC9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzQyxPQUFPLHVDQUErQyxNQUFNLCtCQUErQixDQUFDOztJQTJCMUYsc0JBQVksS0FBYTtRQXZCakIsYUFBUSxHQUFXLElBQUksQ0FBQztRQUN4QixVQUFLLEdBQVcsSUFBSSxDQUFDO1FBQ3JCLFVBQUssR0FBVyxJQUFJLENBQUM7UUFDckIsVUFBSyxHQUFXLElBQUksQ0FBQztRQUNyQixVQUFLLEdBQVcsSUFBSSxDQUFDO1FBQ3JCLHdCQUFtQixHQUFXLElBQUksQ0FBQztRQUNuQyx5QkFBb0IsR0FBRyxLQUFLLENBQUM7UUFDN0Isa0JBQWEsR0FBVyxJQUFJLENBQUM7UUFDN0Isc0JBQWlCLEdBQVcsSUFBSSxDQUFDO1FBQ2pDLG1CQUFjLEdBQVcsSUFBSSxDQUFDO1FBQzlCLDhCQUF5QixHQUFHLEtBQUssQ0FBQztRQUNsQyx5QkFBb0IsR0FBVyxJQUFJLENBQUM7UUFDcEMsNEJBQXVCLEdBQVcsSUFBSSxDQUFDO1FBQ3ZDLGtCQUFhLEdBQVcsSUFBSSxDQUFDO1FBQzdCLDRCQUF1QixHQUFXLElBQUksQ0FBQztRQUN2Qyx5QkFBb0IsR0FBVyxJQUFJLENBQUM7UUFDcEMsVUFBSyxHQUFXLElBQUksQ0FBQztRQUVyQixtQkFBYyxHQUE2QixJQUFJLENBQUM7UUFDaEQsc0JBQWlCLEdBQWdDLElBQUksQ0FBQztRQUN0RCw4QkFBeUIsR0FBNkMsSUFBSSxDQUFDO1FBQzNFLDZCQUF3QixHQUEwQixJQUFJLENBQUM7UUFHN0QsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7SUFDckIsQ0FBQztJQUVELHdDQUFpQixHQUFqQixVQUFrQixt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SUFBSSxDQUFDO0lBQ2hELENBQUM7SUFFTyx3Q0FBaUIsR0FBekI7UUFDRSxPQUFPLElBQUksQ0FBQyxjQUFjLEtBQUssSUFBSSxDQUFDO0lBQ3RDLENBQUM7SUFFTywyQ0FBb0IsR0FBNUI7UUFDRSxPQUFPLElBQUksQ0FBQyxpQkFBaUIsS0FBSyxJQUFJLENBQUM7SUFDekMsQ0FBQzt1QkFoSUg7OztBQTJJQSxNQUFNLENBQU4sSUFBWSx1QkFLWDtBQUxELFdBQVksdUJBQXVCO0lBQ2pDLG9EQUF5QixDQUFBO0lBQ3pCLGtFQUF1QyxDQUFBO0lBQ3ZDLDBFQUErQyxDQUFBO0lBQy9DLDhDQUFtQixDQUFBO0FBQ3JCLENBQUMsRUFMVyx1QkFBdUIsS0FBdkIsdUJBQXVCLFFBS2xDOztJQW9DMkIsMEJBQTBCOzs7O0lBT3BELHVCQUFNLGFBQUMsTUFBb0I7SUFRM0IsOEJBQWE7SUFXYix5QkFBUSxhQUFDLElBQVksRUFBRSxVQUF5QztJQVFoRSxrQ0FBaUIsYUFBQyxVQUF3QztJQVcxRCwyQkFBVSxhQUFDLElBQVksRUFBRSxNQUFjLEVBQUUsUUFBaUIsRUFBRSxPQUFnQjtJQVE1RSwrQkFBYyxhQUFDLEdBQVc7Ozs7Ozs7Z0JBdEQzQixVQUFVOztpQkFuTFg7RUFvTDRCLDBCQUEwQjtTQUF6QyxNQUFNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBDb3Jkb3ZhLCBBd2Vzb21lQ29yZG92YU5hdGl2ZVBsdWdpbiwgUGx1Z2luIH0gZnJvbSAnQGF3ZXNvbWUtY29yZG92YS1wbHVnaW5zL2NvcmUnO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1ldHJpeENvbmZpZyB7XHJcbiAgcHJpdmF0ZSBhcHBJZDogc3RyaW5nO1xyXG4gIHByaXZhdGUgc2VjcmV0SWQ6IG51bWJlciA9IG51bGw7XHJcbiAgcHJpdmF0ZSBpbmZvMTogbnVtYmVyID0gbnVsbDtcclxuICBwcml2YXRlIGluZm8yOiBudW1iZXIgPSBudWxsO1xyXG4gIHByaXZhdGUgaW5mbzM6IG51bWJlciA9IG51bGw7XHJcbiAgcHJpdmF0ZSBpbmZvNDogbnVtYmVyID0gbnVsbDtcclxuICBwcml2YXRlIGRlZmF1bHRUcmFja2VyVG9rZW46IHN0cmluZyA9IG51bGw7XHJcbiAgcHJpdmF0ZSBzaG91bGRMYXVuY2hEZWVwbGluayA9IGZhbHNlO1xyXG4gIHByaXZhdGUgZmlyZWJhc2VBcHBJZDogc3RyaW5nID0gbnVsbDtcclxuICBwcml2YXRlIGZpcmViYXNlUHJvamVjdElkOiBzdHJpbmcgPSBudWxsO1xyXG4gIHByaXZhdGUgZmlyZWJhc2VBcGlLZXk6IHN0cmluZyA9IG51bGw7XHJcbiAgcHJpdmF0ZSBpc0xvY2F0aW9uTGlzdGVuaW5nRW5hYmxlID0gZmFsc2U7XHJcbiAgcHJpdmF0ZSBldmVudFVwbG9hZFRocmVzaG9sZDogbnVtYmVyID0gbnVsbDtcclxuICBwcml2YXRlIGV2ZW50VXBsb2FkTWF4QmF0Y2hTaXplOiBudW1iZXIgPSBudWxsO1xyXG4gIHByaXZhdGUgZXZlbnRNYXhDb3VudDogbnVtYmVyID0gbnVsbDtcclxuICBwcml2YXRlIGV2ZW50VXBsb2FkUGVyaW9kTWlsbGlzOiBudW1iZXIgPSBudWxsO1xyXG4gIHByaXZhdGUgc2Vzc2lvblRpbWVvdXRNaWxsaXM6IG51bWJlciA9IG51bGw7XHJcbiAgcHJpdmF0ZSBzdG9yZTogc3RyaW5nID0gbnVsbDtcclxuXHJcbiAgcHJpdmF0ZSB1c2VySWRMaXN0ZW5lcjogKHVzZXJJZDogc3RyaW5nKSA9PiB2b2lkID0gbnVsbDtcclxuICBwcml2YXRlIHNlc3Npb25JZExpc3RlbmVyOiAoc2Vzc2lvbklkOiBzdHJpbmcpID0+IHZvaWQgPSBudWxsO1xyXG4gIHByaXZhdGUgYXR0cmlidXRpb25DaGFuZ2VMaXN0ZW5lcjogKGF0dHJpYnV0aW9uOiBNZXRyaXhBdHRyaWJ1dGlvbikgPT4gdm9pZCA9IG51bGw7XHJcbiAgcHJpdmF0ZSBkZWVwbGlua1Jlc3BvbnNlTGlzdGVuZXI6ICh1cmk6IHN0cmluZykgPT4gdm9pZCA9IG51bGw7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGFwcElkOiBzdHJpbmcpIHtcclxuICAgIHRoaXMuYXBwSWQgPSBhcHBJZDtcclxuICB9XHJcblxyXG4gIHNldERlZmF1bHRUcmFja2VyKGRlZmF1bHRUcmFja2VyVG9rZW46IHN0cmluZykge1xyXG4gICAgdGhpcy5kZWZhdWx0VHJhY2tlclRva2VuID0gZGVmYXVsdFRyYWNrZXJUb2tlbjtcclxuICB9XHJcblxyXG4gIHNldEZpcmViYXNlSWQoZmlyZWJhc2VBcHBJZDogc3RyaW5nLCBmaXJlYmFzZVByb2plY3RJZDogc3RyaW5nLCBmaXJlYmFzZUFwaUtleTogc3RyaW5nKSB7XHJcbiAgICB0aGlzLmZpcmViYXNlQXBwSWQgPSBmaXJlYmFzZUFwcElkO1xyXG4gICAgdGhpcy5maXJlYmFzZVByb2plY3RJZCA9IGZpcmViYXNlUHJvamVjdElkO1xyXG4gICAgdGhpcy5maXJlYmFzZUFwaUtleSA9IGZpcmViYXNlQXBpS2V5O1xyXG4gIH1cclxuXHJcbiAgc2V0QXBwU2VjcmV0KHNlY3JldElkOiBudW1iZXIsIGluZm8xOiBudW1iZXIsIGluZm8yOiBudW1iZXIsIGluZm8zOiBudW1iZXIsIGluZm80OiBudW1iZXIpIHtcclxuICAgIHRoaXMuc2VjcmV0SWQgPSBzZWNyZXRJZDtcclxuICAgIHRoaXMuaW5mbzEgPSBpbmZvMTtcclxuICAgIHRoaXMuaW5mbzIgPSBpbmZvMjtcclxuICAgIHRoaXMuaW5mbzMgPSBpbmZvMztcclxuICAgIHRoaXMuaW5mbzQgPSBpbmZvNDtcclxuICB9XHJcblxyXG4gIHNldFNob3VsZExhdW5jaERlZXBsaW5rKHNob3VsZExhdW5jaERlZXBsaW5rOiBib29sZWFuKSB7XHJcbiAgICB0aGlzLnNob3VsZExhdW5jaERlZXBsaW5rID0gc2hvdWxkTGF1bmNoRGVlcGxpbms7XHJcbiAgfVxyXG5cclxuICBzZXRPbkF0dHJpYnV0aW9uQ2hhbmdlTGlzdGVuZXIoYXR0cmlidXRpb25DaGFuZ2VMaXN0ZW5lcjogKGF0dHJpYnV0aW9uOiBNZXRyaXhBdHRyaWJ1dGlvbikgPT4gdm9pZCkge1xyXG4gICAgdGhpcy5hdHRyaWJ1dGlvbkNoYW5nZUxpc3RlbmVyID0gYXR0cmlidXRpb25DaGFuZ2VMaXN0ZW5lcjtcclxuICB9XHJcblxyXG4gIHNldE9uRGVlcGxpbmtSZXNwb25zZUxpc3RlbmVyKGRlZXBsaW5rUmVzcG9uc2VMaXN0ZW5lcjogKHVyaTogc3RyaW5nKSA9PiB2b2lkKSB7XHJcbiAgICB0aGlzLmRlZXBsaW5rUmVzcG9uc2VMaXN0ZW5lciA9IGRlZXBsaW5rUmVzcG9uc2VMaXN0ZW5lcjtcclxuICB9XHJcblxyXG4gIHNldE9uUmVjZWl2ZVVzZXJJZExpc3RlbmVyKHVzZXJJZExpc3RlbmVyOiAodXNlcklkOiBzdHJpbmcpID0+IHZvaWQpIHtcclxuICAgIHRoaXMudXNlcklkTGlzdGVuZXIgPSB1c2VySWRMaXN0ZW5lcjtcclxuICB9XHJcblxyXG4gIHNldE9uU2Vzc2lvbklkTGlzdGVuZXIoc2Vzc2lvbklkTGlzdGVuZXI6IChzZXNzaW9uSWQ6IHN0cmluZykgPT4gdm9pZCkge1xyXG4gICAgdGhpcy5zZXNzaW9uSWRMaXN0ZW5lciA9IHNlc3Npb25JZExpc3RlbmVyO1xyXG4gIH1cclxuXHJcbiAgc2V0TG9jYXRpb25MaXN0ZW5pbmcoaXNMb2NhdGlvbkxpc3RlbmluZ0VuYWJsZTogYm9vbGVhbikge1xyXG4gICAgdGhpcy5pc0xvY2F0aW9uTGlzdGVuaW5nRW5hYmxlID0gaXNMb2NhdGlvbkxpc3RlbmluZ0VuYWJsZTtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50VXBsb2FkVGhyZXNob2xkKHRocmVzaG9sZDogbnVtYmVyKSB7XHJcbiAgICB0aGlzLmV2ZW50VXBsb2FkVGhyZXNob2xkID0gdGhyZXNob2xkO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRVcGxvYWRNYXhCYXRjaFNpemUoc2l6ZTogbnVtYmVyKSB7XHJcbiAgICB0aGlzLmV2ZW50VXBsb2FkTWF4QmF0Y2hTaXplID0gc2l6ZTtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TWF4Q291bnQoY291bnQ6IG51bWJlcikge1xyXG4gICAgdGhpcy5ldmVudE1heENvdW50ID0gY291bnQ7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudFVwbG9hZFBlcmlvZE1pbGxpcyhwZXJpb2Q6IG51bWJlcikge1xyXG4gICAgdGhpcy5ldmVudFVwbG9hZFBlcmlvZE1pbGxpcyA9IHBlcmlvZDtcclxuICB9XHJcblxyXG4gIHNldFNlc3Npb25UaW1lb3V0TWlsbGlzKHRpbWVvdXQ6IG51bWJlcikge1xyXG4gICAgdGhpcy5zZXNzaW9uVGltZW91dE1pbGxpcyA9IHRpbWVvdXQ7XHJcbiAgfVxyXG5cclxuICBzZXRTdG9yZShzdG9yZTogc3RyaW5nKSB7XHJcbiAgICB0aGlzLnN0b3JlID0gc3RvcmU7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldEF0dHJpYnV0aW9uQ2hhbmdlTGlzdGVuZXIoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGlvbkNoYW5nZUxpc3RlbmVyO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXREZWVwbGlua1Jlc3BvbnNlTGlzdGVuZXIoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5kZWVwbGlua1Jlc3BvbnNlTGlzdGVuZXI7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldE9uUmVjZWl2ZVVzZXJJZExpc3RlbmVyKCkge1xyXG4gICAgcmV0dXJuIHRoaXMudXNlcklkTGlzdGVuZXI7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldE9uU2Vzc2lvbklkTGlzdGVuZXIoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uSWRMaXN0ZW5lcjtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFzQXR0cmlidXRpb25DaGFuZ2VMaXN0ZW5lcigpIHtcclxuICAgIHJldHVybiB0aGlzLmF0dHJpYnV0aW9uQ2hhbmdlTGlzdGVuZXIgIT09IG51bGw7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhc0RlZXBsaW5rUmVzcG9uc2VMaXN0ZW5lcigpIHtcclxuICAgIHJldHVybiB0aGlzLmRlZXBsaW5rUmVzcG9uc2VMaXN0ZW5lciAhPT0gbnVsbDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFzVXNlcklkTGlzdGVuZXIoKSB7XHJcbiAgICByZXR1cm4gdGhpcy51c2VySWRMaXN0ZW5lciAhPT0gbnVsbDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFzU2Vzc2lvbklkTGlzdGVuZXIoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uSWRMaXN0ZW5lciAhPT0gbnVsbDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTWV0cml4QXR0cmlidXRpb24ge1xyXG4gIGFjcXVpc2l0aW9uQWQ6IHN0cmluZztcclxuICBhY3F1aXNpdGlvbkFkU2V0OiBzdHJpbmc7XHJcbiAgYWNxdWlzaXRpb25DYW1wYWlnbjogc3RyaW5nO1xyXG4gIGFjcXVpc2l0aW9uU291cmNlOiBzdHJpbmc7XHJcbiAgYXR0cmlidXRpb25TdGF0dXM6IE1ldHJpeEF0dHJpYnV0aW9uU3RhdHVzO1xyXG59XHJcblxyXG5leHBvcnQgZW51bSBNZXRyaXhBdHRyaWJ1dGlvblN0YXR1cyB7XHJcbiAgQXR0cmlidXRlZCA9ICdBVFRSSUJVVEVEJyxcclxuICBOb3RBdHRyaWJ1dGVkWWV0ID0gJ05PVF9BVFRSSUJVVEVEX1lFVCcsXHJcbiAgQXR0cmlidXRpb25Ob3ROZWVkZWQgPSAnQVRUUklCVVRJT05fTk9UX05FRURFRCcsXHJcbiAgVW5rbm93biA9ICdVTktOT1dOJyxcclxufVxyXG5cclxuLyoqXHJcbiAqIEBuYW1lIE1ldHJpeFxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVGhpcyBpcyB0aGUgSW9uaWMgQ29yZG92YSBTREsgb2YgTWV0cml44oSiLiBZb3UgY2FuIHJlYWQgbW9yZSBhYm91dCBNZXRyaXjihKIgYXQgbWV0cml4LmlyLlxyXG4gKlxyXG4gKiBSZXF1aXJlcyBDb3Jkb3ZhIHBsdWdpbjogYGlyLm1ldHJpeC5zZGtgLiBGb3IgbW9yZSBpbmZvLCBwbGVhc2Ugc2VlIHRoZSBbTWV0cml4IENvcmRvdmEgU0RLXShodHRwczovL2dpdGh1Yi5jb20vbWV0cml4b3JnL01ldHJpeFNESy1Db3Jkb3ZhUGx1Z2luKVxyXG4gKiBAdXNhZ2VcclxuICogYGBgdHlwZXNjcmlwdFxyXG4gKiAgaW1wb3J0IHsgTWV0cml4LCBNZXRyaXhDb25maWcgfSBmcm9tICdAYXdlc29tZS1jb3Jkb3ZhLXBsdWdpbnMvbWV0cml4JztcclxuICpcclxuICogIGNvbnN0cnVjdG9yKHByaXZhdGUgbWV0cml4OiBNZXRyaXgpIHsgfVxyXG4gKlxyXG4gKiAgLi4uXHJcbiAqXHJcbiAqICBjb25zdCBjb25maWcgPSBuZXcgTWV0cml4Q29uZmlnKCdBUFAtSUQtSEVSRScpO1xyXG4gKiAgLy8gU2V0IG90aGVyIGNvbmZpZyBwcm9wZXJ0aWVzLlxyXG4gKiAgbWV0cml4LmNyZWF0ZShjb25maWcpO1xyXG4gKlxyXG4gKiBgYGBcclxuICogQGludGVyZmFjZXNcclxuICogTWV0cml4QXR0cmlidXRpb25cclxuICogQGNsYXNzZXNcclxuICogTWV0cml4Q29uZmlnXHJcbiAqIEBlbnVtc1xyXG4gKiBNZXRyaXhBdHRyaWJ1dGlvblN0YXR1c1xyXG4gKi9cclxuQFBsdWdpbih7XHJcbiAgcGx1Z2luTmFtZTogJ01ldHJpeCcsXHJcbiAgcGx1Z2luOiAnaXIubWV0cml4LnNkaycsXHJcbiAgcGx1Z2luUmVmOiAnTWV0cml4JyxcclxuICByZXBvOiAnaHR0cHM6Ly9naXRodWIuY29tL21ldHJpeG9yZy9NZXRyaXhTREstQ29yZG92YVBsdWdpbicsXHJcbiAgcGxhdGZvcm1zOiBbJ0FuZHJvaWQnXSxcclxufSlcclxuQEluamVjdGFibGUoKVxyXG5leHBvcnQgY2xhc3MgTWV0cml4IGV4dGVuZHMgQXdlc29tZUNvcmRvdmFOYXRpdmVQbHVnaW4ge1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgbWV0aG9kIGluaXRpYWxpemVzIE1ldHJpeCBTREtcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7TWV0cml4Q29uZmlnfSBjb25maWcgTWV0cml4Q29uZmlnIG9iamVjdCB1c2VkIGFzIHN0YXJ0aW5nIG9wdGlvbnNcclxuICAgKi9cclxuICBAQ29yZG92YSh7IHN5bmM6IHRydWUgfSlcclxuICBjcmVhdGUoY29uZmlnOiBNZXRyaXhDb25maWcpOiB2b2lkIHt9XHJcblxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHVzZWQgdG8gZ2V0IFNlc3Npb24gTnVtYmVyXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxudW1iZXI+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aXRoIHNlc3Npb24gbnVtYmVyIHZhbHVlXHJcbiAgICovXHJcbiAgQENvcmRvdmEoKVxyXG4gIGdldFNlc3Npb25OdW0oKTogUHJvbWlzZTxudW1iZXI+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoaXMgbWV0aG9kIHRyYWNrcyBhbiBldmVudFxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNsdWcgdGhlIHNsdWcgb2YgdGhlIGV2ZW50IHRvIGJlIHRyYWNrZWRcclxuICAgKiBAcGFyYW0ge01hcDxzdHJpbmcsIHN0cmluZz4gfCBvYmplY3R9IGF0dHJpYnV0ZXMgb3B0aW9uYWwgYXR0cmlidXRlcyBvZiB0aGUgZXZlbnQgdG8gYmUgdHJhY2tlZFxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxyXG4gIG5ld0V2ZW50KHNsdWc6IHN0cmluZywgYXR0cmlidXRlcz86IE1hcDxzdHJpbmcsIHN0cmluZz4gfCBvYmplY3QpOiB2b2lkIHt9XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoaXMgbWV0aG9kIGFkZHMgdGhlIHByb3ZpZGVkIGF0dHJpYnV0ZXMgdG8gYWxsIG1ldHJpeCBldmVudHNcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7TWFwPHN0cmluZywgc3RyaW5nPiB8IG9iamVjdH0gYXR0cmlidXRlcyB0aGUgYXR0cmlidXRlcyB0byBiZSBhZGRlZCB0byBhbGwgZnV0dXJlIGV2ZW50c1xyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxyXG4gIGFkZFVzZXJBdHRyaWJ1dGVzKGF0dHJpYnV0ZXM6IE1hcDxzdHJpbmcsIHN0cmluZz4gfCBvYmplY3QpOiB2b2lkIHt9XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoaXMgbWV0aG9kIHRyYWNrcyBhIHJldmVudWVcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzbHVnIHRoZSBzbHVnIG9mIHRoZSBldmVudCB0byBiZSB0cmFja2VkXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCB0aGUgYW1vdW50IG9mIG1vbmV5IGdhaW5lZCBieSB0aGUgcmV2ZW51ZVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjdXJyZW5jeSAoT1BUSU9OQUwpIGN1cnJlbmN5IG9mIHRoZSBhbW91bnRcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3JkZXJJZCAoT1BUSU9OQUwpIGlkIG9mIHRoZSByZXZlbnVlXHJcbiAgICovXHJcbiAgQENvcmRvdmEoeyBzeW5jOiB0cnVlIH0pXHJcbiAgbmV3UmV2ZW51ZShzbHVnOiBzdHJpbmcsIGFtb3VudDogbnVtYmVyLCBjdXJyZW5jeT86IG51bWJlciwgb3JkZXJJZD86IHN0cmluZyk6IHZvaWQge31cclxuXHJcbiAgLyoqXHJcbiAgICogQnkgbWFraW5nIHRoaXMgY2FsbCwgdGhlIE1ldHJpeCBTREsgd2lsbCB0cnkgdG8gZmluZCBpZiB0aGVyZSBpcyBhbnkgbmV3IGF0dHJpYnV0aW9uIGluZm8gaW5zaWRlIG9mIHRoZSBkZWVwIGxpbmsgYW5kIGlmIGFueSwgaXQgd2lsbCBiZSBzZW50IHRvIHRoZSBNZXRyaXggYmFja2VuZC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVVJMIG9mIHRoZSBkZWVwbGlua1xyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxyXG4gIGFwcFdpbGxPcGVuVXJsKHVybDogc3RyaW5nKTogdm9pZCB7fVxyXG59XHJcbiJdfQ==