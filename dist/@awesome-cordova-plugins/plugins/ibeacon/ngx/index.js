import { __extends } from "tslib";
import { Injectable } from '@angular/core';
import { AwesomeCordovaNativePlugin, cordova, checkAvailability } from '@awesome-cordova-plugins/core';
import { Observable } from 'rxjs';
var IBeacon = /** @class */ (function (_super) {
    __extends(IBeacon, _super);
    function IBeacon() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    IBeacon.prototype.Delegate = function () {
        var _this = this;
        return (function () {
            if (checkAvailability(_this) === true) {
                var delegate = new window.cordova.plugins.locationManager.Delegate();
                delegate.didChangeAuthorizationStatus = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return (delegate.didChangeAuthorizationStatus = cb);
                    });
                };
                delegate.didDetermineStateForRegion = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return (delegate.didDetermineStateForRegion = cb);
                    });
                };
                delegate.didEnterRegion = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return (delegate.didEnterRegion = cb);
                    });
                };
                delegate.didExitRegion = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return (delegate.didExitRegion = cb);
                    });
                };
                delegate.didRangeBeaconsInRegion = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return (delegate.didRangeBeaconsInRegion = cb);
                    });
                };
                delegate.didStartMonitoringForRegion = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return (delegate.didStartMonitoringForRegion = cb);
                    });
                };
                delegate.monitoringDidFailForRegionWithError = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return (delegate.monitoringDidFailForRegionWithError = cb);
                    });
                };
                delegate.peripheralManagerDidStartAdvertising = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return (delegate.peripheralManagerDidStartAdvertising = cb);
                    });
                };
                delegate.peripheralManagerDidUpdateState = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return (delegate.peripheralManagerDidUpdateState = cb);
                    });
                };
                window.cordova.plugins.locationManager.setDelegate(delegate);
                return delegate;
            }
        })();
    };
    IBeacon.prototype.BeaconRegion = function (identifer, uuid, major, minor, notifyEntryStateOnDisplay) {
        var _this = this;
        return (function () {
            if (checkAvailability(_this) === true) {
                return new window.cordova.plugins.locationManager.BeaconRegion(identifer, uuid, major, minor, notifyEntryStateOnDisplay);
            }
        })();
    };
    IBeacon.prototype.getDelegate = function () { return cordova(this, "getDelegate", {}, arguments); };
    IBeacon.prototype.setDelegate = function (delegate) { return cordova(this, "setDelegate", {}, arguments); };
    IBeacon.prototype.onDomDelegateReady = function () { return cordova(this, "onDomDelegateReady", { "otherPromise": true }, arguments); };
    IBeacon.prototype.isBluetoothEnabled = function () { return cordova(this, "isBluetoothEnabled", { "otherPromise": true }, arguments); };
    IBeacon.prototype.enableBluetooth = function () { return cordova(this, "enableBluetooth", { "otherPromise": true }, arguments); };
    IBeacon.prototype.disableBluetooth = function () { return cordova(this, "disableBluetooth", { "otherPromise": true }, arguments); };
    IBeacon.prototype.startMonitoringForRegion = function (region) { return cordova(this, "startMonitoringForRegion", { "otherPromise": true }, arguments); };
    IBeacon.prototype.stopMonitoringForRegion = function (region) { return cordova(this, "stopMonitoringForRegion", { "otherPromise": true }, arguments); };
    IBeacon.prototype.requestStateForRegion = function (region) { return cordova(this, "requestStateForRegion", { "otherPromise": true }, arguments); };
    IBeacon.prototype.startRangingBeaconsInRegion = function (region) { return cordova(this, "startRangingBeaconsInRegion", { "otherPromise": true }, arguments); };
    IBeacon.prototype.stopRangingBeaconsInRegion = function (region) { return cordova(this, "stopRangingBeaconsInRegion", { "otherPromise": true }, arguments); };
    IBeacon.prototype.getAuthorizationStatus = function () { return cordova(this, "getAuthorizationStatus", { "otherPromise": true }, arguments); };
    IBeacon.prototype.requestWhenInUseAuthorization = function () { return cordova(this, "requestWhenInUseAuthorization", { "otherPromise": true }, arguments); };
    IBeacon.prototype.requestAlwaysAuthorization = function () { return cordova(this, "requestAlwaysAuthorization", { "otherPromise": true }, arguments); };
    IBeacon.prototype.getMonitoredRegions = function () { return cordova(this, "getMonitoredRegions", { "otherPromise": true }, arguments); };
    IBeacon.prototype.getRangedRegions = function () { return cordova(this, "getRangedRegions", { "otherPromise": true }, arguments); };
    IBeacon.prototype.isRangingAvailable = function () { return cordova(this, "isRangingAvailable", { "otherPromise": true }, arguments); };
    IBeacon.prototype.isMonitoringAvailableForClass = function (region) { return cordova(this, "isMonitoringAvailableForClass", { "otherPromise": true }, arguments); };
    IBeacon.prototype.startAdvertising = function (region, measuredPower) { return cordova(this, "startAdvertising", { "otherPromise": true }, arguments); };
    IBeacon.prototype.stopAdvertising = function (region) { return cordova(this, "stopAdvertising", { "otherPromise": true }, arguments); };
    IBeacon.prototype.isAdvertisingAvailable = function () { return cordova(this, "isAdvertisingAvailable", { "otherPromise": true }, arguments); };
    IBeacon.prototype.isAdvertising = function () { return cordova(this, "isAdvertising", { "otherPromise": true }, arguments); };
    IBeacon.prototype.disableDebugLogs = function () { return cordova(this, "disableDebugLogs", { "otherPromise": true }, arguments); };
    IBeacon.prototype.enableDebugNotifications = function () { return cordova(this, "enableDebugNotifications", { "otherPromise": true }, arguments); };
    IBeacon.prototype.disableDebugNotifications = function () { return cordova(this, "disableDebugNotifications", { "otherPromise": true }, arguments); };
    IBeacon.prototype.enableDebugLogs = function () { return cordova(this, "enableDebugLogs", { "otherPromise": true }, arguments); };
    IBeacon.prototype.appendToDeviceLog = function (message) { return cordova(this, "appendToDeviceLog", { "otherPromise": true }, arguments); };
    IBeacon.pluginName = "IBeacon";
    IBeacon.plugin = "cordova-plugin-ibeacon";
    IBeacon.pluginRef = "cordova.plugins.locationManager";
    IBeacon.repo = "https://github.com/petermetz/cordova-plugin-ibeacon";
    IBeacon.platforms = ["Android", "iOS"];
    IBeacon.decorators = [
        { type: Injectable }
    ];
    return IBeacon;
}(AwesomeCordovaNativePlugin));
export { IBeacon };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvQGF3ZXNvbWUtY29yZG92YS1wbHVnaW5zL3BsdWdpbnMvaWJlYWNvbi9uZ3gvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0MsT0FBTywwREFBNkQsTUFBTSwrQkFBK0IsQ0FBQztBQUMxRyxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sTUFBTSxDQUFDOztJQTBSTCwyQkFBMEI7Ozs7SUFRckQsMEJBQVE7OzttREFBb0I7Z0JBQzFCLElBQU0sUUFBUSxHQUFHLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUFDLFFBQVEsRUFBRSxDQUFDO2dCQUV2RSxRQUFRLENBQUMsNEJBQTRCLEdBQUcsVUFBQyxZQUFrQztvQkFDekUsT0FBTyxJQUFJLFVBQVUsQ0FBc0IsVUFBQyxRQUFhO3dCQUN2RCxJQUFNLEVBQUUsR0FBRyxVQUFDLElBQXlCLElBQUssT0FBQSxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFuQixDQUFtQixDQUFDO3dCQUM5RCxPQUFPLENBQUMsUUFBUSxDQUFDLDRCQUE0QixHQUFHLEVBQUUsQ0FBQyxDQUFDO29CQUN0RCxDQUFDLENBQUMsQ0FBQztnQkFDTCxDQUFDLENBQUM7Z0JBRUYsUUFBUSxDQUFDLDBCQUEwQixHQUFHLFVBQUMsWUFBa0M7b0JBQ3ZFLE9BQU8sSUFBSSxVQUFVLENBQXNCLFVBQUMsUUFBYTt3QkFDdkQsSUFBTSxFQUFFLEdBQUcsVUFBQyxJQUF5QixJQUFLLE9BQUEsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBbkIsQ0FBbUIsQ0FBQzt3QkFDOUQsT0FBTyxDQUFDLFFBQVEsQ0FBQywwQkFBMEIsR0FBRyxFQUFFLENBQUMsQ0FBQztvQkFDcEQsQ0FBQyxDQUFDLENBQUM7Z0JB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clxuaW1wb3J0IHsgQ29yZG92YSwgQ29yZG92YUNoZWNrLCBBd2Vzb21lQ29yZG92YU5hdGl2ZVBsdWdpbiwgUGx1Z2luIH0gZnJvbSAnQGF3ZXNvbWUtY29yZG92YS1wbHVnaW5zL2NvcmUnO1xyXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XHJcblxyXG5kZWNsYXJlIGNvbnN0IGNvcmRvdmE6IGFueTtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQmVhY29uIHtcclxuICAvKipcclxuICAgKiBUaGUgcGh5c2ljYWwgZGV2aWNlJ3MgaWRlbnRpZmllci5cclxuICAgKi9cclxuICB1dWlkOiBzdHJpbmc7XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoZSBiZWFjb24ncyBtYWpvciBpZGVudGlmaWVyIG51bWJlci5cclxuICAgKi9cclxuICBtYWpvcjogbnVtYmVyO1xyXG5cclxuICAvKipcclxuICAgKiBUaGUgYmVhY29uJ3MgbWlub3IgaWRlbnRpZmllciBudW1iZXIuXHJcbiAgICovXHJcbiAgbWlub3I6IG51bWJlcjtcclxuXHJcbiAgLyoqXHJcbiAgICogVGhlIHByb3hpbWl0eSBvZiB0aGUgYmVhY29uIHJlbGF0aXZlIHRvIHRoZSBwaG9uZS5cclxuICAgKlxyXG4gICAqIFBvc3NpYmxlIG9wdGlvbnMgYXJlOlxyXG4gICAqIFByb3hpbWl0eUltbWVkaWF0ZVxyXG4gICAqIFByb3hpbWl0eU5lYXJcclxuICAgKiBQcm94aW1pdHlGYXJcclxuICAgKiBQcm94aW1pdHlVbmtub3duXHJcbiAgICovXHJcbiAgcHJveGltaXR5OiAnUHJveGltaXR5SW1tZWRpYXRlJyB8ICdQcm94aW1pdHlOZWFyJyB8ICdQcm94aW1pdHlGYXInIHwgJ1Byb3hpbWl0eVVua25vd24nO1xyXG5cclxuICAvKipcclxuICAgKiBUcmFuc21pc3Npb24gUG93ZXIgb2YgdGhlIGJlYWNvbi4gQSBjb25zdGFudCBlbWl0dGVkIGJ5IHRoZSBiZWFjb24gd2hpY2ggaW5kaWNhdGVzIHdoYXQncyB0aGUgZXhwZWN0ZWQgUlNTSSBhdCBhIGRpc3RhbmNlIG9mIDEgbWV0ZXIgdG8gdGhlIGJlYWNvbi5cclxuICAgKi9cclxuICB0eDogbnVtYmVyO1xyXG5cclxuICAvKipcclxuICAgKiBSZWNlaXZlZCBTaWduYWwgU3RyZW5ndGggSW5kaWNhdG9yLiBUaGUgc3RyZW5ndGggb2YgdGhlIGJlYWNvbidzIHNpZ25hbCB3aGVuIGl0IHJlYWNoZXMgdGhlIGRldmljZS5cclxuICAgKiAgUlNTSSByYW5nZXMgZnJvbSBhcHJveCAtMjYgKGEgZmV3IGluY2hlcykgdG8gLTEwMCAoNDAtNTAgbSBkaXN0YW5jZSkuXHJcbiAgICovXHJcbiAgcnNzaTogbnVtYmVyO1xyXG5cclxuICAvKipcclxuICAgKiBUaGUgYWNjdXJhY3kgb2YgdGhlIHJhbmdpbmcuXHJcbiAgICovXHJcbiAgYWNjdXJhY3k6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBCZWFjb25SZWdpb24ge1xyXG4gIC8qKlxyXG4gICAqIEEgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgcmVnaW9uLlxyXG4gICAqL1xyXG4gIGlkZW50aWZpZXI6IHN0cmluZztcclxuXHJcbiAgLyoqXHJcbiAgICogVGhlIHRoZSBiZWFjb24gaWRlbnRpZmllciB0aGUgZGV2aWNlIHdpbGwgXCJ3YXRjaFwiIGZvci4gTWFueSBiZWFjb25zIGNhbiBzaGFyZSB0aGUgc2FtZSB1dWlkLlxyXG4gICAqL1xyXG4gIHV1aWQ6IHN0cmluZztcclxuXHJcbiAgLyoqXHJcbiAgICogVGhlIGJlYWNvbidzIG1ham9yIGlkZW50aWZpZXIgbnVtYmVyLiBPcHRpb25hbCwgb2Ygbm90aGluZyBpcyBzdXBwbGllZFxyXG4gICAqIHRoZSBwbHVnaW4gd2lsbCB0cmVhdCBpdCBhcyBhIHdpbGRjYXJkLlxyXG4gICAqL1xyXG4gIG1ham9yPzogbnVtYmVyO1xyXG5cclxuICAvKipcclxuICAgKiBUaGUgYmVhY29uJ3MgbWlub3IgaWRlbnRpZmllciBudW1iZXIuIE9wdGlvbmFsLCBvZiBub3RoaW5nIGlzIHN1cHBsaWVkXHJcbiAgICogdGhlIHBsdWdpbiB3aWxsIHRyZWF0IGl0IGFzIGEgd2lsZGNhcmQuXHJcbiAgICovXHJcbiAgbWlub3I/OiBudW1iZXI7XHJcblxyXG4gIC8qKlxyXG4gICAqIElmIHNldCB0byB0cnVlIHRoZSBkZXZpY2Ugd2lsbCBzY2FuIGZvciBiZWFjb25zIGFuZCBkZXRlcm1pbmUgcmVnaW9uIHN0YXRlIGFueXRpbWVcclxuICAgKiB0aGUgZGV2aWNlJ3Mgc2NyZWVuIGlzIHR1cm5lZCBvbiBvciBvZmYuIFVzZWZ1bCBmb3IgZGVidWdnaW5nLlxyXG4gICAqL1xyXG4gIG5vdGlmeUVudHJ5U3RhdGVPbkRpc3BsYXk/OiBib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENpcmN1bGFyUmVnaW9uIHtcclxuICAvKipcclxuICAgKiBBIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIHJlZ2lvbi5cclxuICAgKi9cclxuICBpZGVudGlmaWVyOiBzdHJpbmc7XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoZSBsYXRpdHVkZSBvZiB0aGlzIHJlZ2lvbi5cclxuICAgKi9cclxuICBsYXRpdHVkZTogbnVtYmVyO1xyXG5cclxuICAvKipcclxuICAgKiBUaGUgbG9uZ2l0dWRlIG9mIHRoaXMgcmVnaW9uLlxyXG4gICAqL1xyXG4gIGxvbmdpdHVkZTogbnVtYmVyO1xyXG5cclxuICAvKipcclxuICAgKiBUaGUgcmFkaXVzIG9mIHRoZSBnZW9mZW5jZSBmb3IgdGhpcyByZWdpb24uXHJcbiAgICovXHJcbiAgcmFkaXVzOiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIFJlZ2lvbiA9IEJlYWNvblJlZ2lvbiB8IENpcmN1bGFyUmVnaW9uO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJQmVhY29uUGx1Z2luUmVzdWx0IHtcclxuICAvKipcclxuICAgKiBUaGUgbmFtZSBvZiB0aGUgZGVsZWdhdGUgZnVuY3Rpb24gdGhhdCBwcm9kdWNlZCB0aGUgUGx1Z2luUmVzdWx0IG9iamVjdC5cclxuICAgKi9cclxuICBldmVudFR5cGU6IHN0cmluZztcclxuXHJcbiAgLyoqXHJcbiAgICogVGhlIHJlZ2lvbiB0aGF0IHRyaWdnZXJlZCB0aGUgZXZlbnQuXHJcbiAgICovXHJcbiAgcmVnaW9uOiBSZWdpb247XHJcblxyXG4gIC8qKlxyXG4gICAqIEFuIGFycmF5IG9mIGJlYWNvbiBvYmplY3RzXHJcbiAgICovXHJcbiAgYmVhY29uczogQmVhY29uW107XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoZSBzdGF0dXMgb2YgdGhlIGxvY2F0aW9uIHBlcm1pc3Npb24gZm9yIGlPUy5cclxuICAgKi9cclxuICBhdXRob3JpemF0aW9uU3RhdHVzOiBzdHJpbmc7XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoZSBzdGF0ZSBvZiB0aGUgcGhvbmUgaW4gcmVsYXRpb24gdG8gdGhlIHJlZ2lvbi4gSW5zaWRlL291dHNpZGUgZm9yIGV4YW1wbGUuXHJcbiAgICovXHJcbiAgc3RhdGU6ICdDTFJlZ2lvblN0YXRlSW5zaWRlJyB8ICdDTFJlZ2lvblN0YXRlT3V0c2lkZSc7XHJcblxyXG4gIC8qKlxyXG4gICAqIEVycm9yIG1lc3NhZ2UsIHVzZWQgb25seSB3aXRoIG1vbml0b3JpbmdEaWRGYWlsRm9yUmVnaW9uV2l0aEVycm9yIGRlbGVnYXRlLlxyXG4gICAqL1xyXG4gIGVycm9yOiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUJlYWNvbkRlbGVnYXRlIHtcclxuICAvKipcclxuICAgKiBBbiBvYnNlcnZhYmxlIHRoYXQgcHVibGlzaGVzIGluZm9ybWF0aW9uIGFib3V0IHRoZSBsb2NhdGlvbiBwZXJtaXNzaW9uIGF1dGhvcml6YXRpb24gc3RhdHVzLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge09ic2VydmFibGU8c3RyaW5nPn0gUmV0dXJucyBhIHN0cmluZy5cclxuICAgKi9cclxuICBkaWRDaGFuZ2VBdXRob3JpemF0aW9uU3RhdHVzKCk6IE9ic2VydmFibGU8c3RyaW5nPjtcclxuXHJcbiAgLyoqXHJcbiAgICogQW4gT2JzZXJ2YWJsZSB0aGF0IHB1Ymxpc2hlcyBldmVudCBkYXRhIHRvIGl0J3Mgc3Vic2NyaWJlcnNcclxuICAgKiB3aGVuIHRoZSBuYXRpdmUgbGF5ZXIgaXMgYWJsZSB0byBkZXRlcm1pbmUgdGhlIGRldmljZSdzIHN0YXRlLlxyXG4gICAqXHJcbiAgICogVGhpcyBldmVudCBpcyBjYWxsZWQgd2hlbiB0aGUgcGhvbmUgYmVnaW5zIHN0YXJ0cyBtb25pdG9yaW5nLFxyXG4gICAqIHdoZW4gcmVxdWVzdFN0YXRlRm9yUmVnaW9uIGlzIGNhbGxlZCwgZXRjLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge09ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD59IFJldHVybnMgYSBJQmVhY29uUGx1Z2luUmVzdWx0IG9iamVjdCB3aXRoIGluZm9ybWF0aW9uIGFib3V0IHRoZSBldmVudCwgcmVnaW9uLCBhbmQgYmVhY29uKHMpLlxyXG4gICAqL1xyXG4gIGRpZERldGVybWluZVN0YXRlRm9yUmVnaW9uKCk6IE9ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD47XHJcblxyXG4gIC8qKlxyXG4gICAqIEFuIE9ic2VydmFibGUgdGhhdCBwdWJsaXNoZXMgZXZlbnQgZGF0YSB0byBpdCdzIHN1YnNjcmliZXJzXHJcbiAgICogd2hlbiB0aGUgcGhvbmUgZW50ZXJzIGEgcmVnaW9uIHRoYXQgaXQgd2FzIGFza2VkIHRvIG1vbml0b3IuXHJcbiAgICpcclxuICAgKiBJZiB0aGUgdXNlciBoYXMgZ2l2ZW4gdGhlIGFwcCBBbHdheXMtTG9jYXRpb24gcGVybWlzc2lvbiwgdGhpcyBmdW5jdGlvblxyXG4gICAqICB3aWxsIGJlIGNhbGxlZCBldmVuIHdoZW4gdGhlIGFwcCBpcyBub3QgcnVubmluZyBvbiBpT1MuXHJcbiAgICogVGhlIGFwcCB3aWxsIHJ1biBzaWxlbnRseSBpbiB0aGUgYmFja2dyb3VuZCBmb3IgYSBzbWFsbCBhbW91bnQgb2YgdGltZS5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+fSBSZXR1cm5zIGEgSUJlYWNvblBsdWdpblJlc3VsdCBvYmplY3Qgd2l0aCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZXZlbnQsIHJlZ2lvbiwgYW5kIGJlYWNvbihzKS5cclxuICAgKi9cclxuICBkaWRFbnRlclJlZ2lvbigpOiBPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+O1xyXG5cclxuICAvKipcclxuICAgKiBBbiBPYnNlcnZhYmxlIHRoYXQgcHVibGlzaGVzIGV2ZW50IGRhdGEgdG8gaXQncyBzdWJzY3JpYmVyc1xyXG4gICAqIHdoZW4gdGhlIHBob25lIGV4aXRzIGEgcmVnaW9uIHRoYXQgaXQgd2FzIGFza2VkIHRvIG1vbml0b3IuXHJcbiAgICpcclxuICAgKiBJZiB0aGUgdXNlciBoYXMgZ2l2ZW4gdGhlIGFwcCBBbHdheXMtTG9jYXRpb24gcGVybWlzc2lvbiwgdGhpcyBmdW5jdGlvblxyXG4gICAqICB3aWxsIGJlIGNhbGxlZCBldmVuIHdoZW4gdGhlIGFwcCBpcyBub3QgcnVubmluZyBvbiBpT1MuXHJcbiAgICogVGhlIGFwcCB3aWxsIHJ1biBzaWxlbnRseSBpbiB0aGUgYmFja2dyb3VuZCBmb3IgYSBzbWFsbCBhbW91bnQgb2YgdGltZS5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+fSBSZXR1cm5zIGEgSUJlYWNvblBsdWdpblJlc3VsdCBvYmplY3Qgd2l0aCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZXZlbnQsIHJlZ2lvbiwgYW5kIGJlYWNvbihzKS5cclxuICAgKi9cclxuICBkaWRFeGl0UmVnaW9uKCk6IE9ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD47XHJcblxyXG4gIC8qKlxyXG4gICAqIEFuIE9ic2VydmFibGUgdGhhdCBwdWJsaXNoZXMgZXZlbnQgZGF0YSB0byBpdCdzIHN1YnNjcmliZXJzXHJcbiAgICogIGVhY2ggdGltZSB0aGF0IHRoZSBkZXZpY2UgcmFuZ2VzIGJlYWNvbnMuIE1vZGVybiBBbmRyb2lkIGFuZCBpT1MgZGV2aWNlcyByYW5nZVxyXG4gICAqIGFwcm94aW1hdGVseSBvbmNlIHBlciBzZWNvbmQuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0Pn0gUmV0dXJucyBhIElCZWFjb25QbHVnaW5SZXN1bHQgb2JqZWN0IHdpdGggaW5mb3JtYXRpb24gYWJvdXQgdGhlIGV2ZW50LCByZWdpb24sIGFuZCBiZWFjb24ocykuXHJcbiAgICovXHJcbiAgZGlkUmFuZ2VCZWFjb25zSW5SZWdpb24oKTogT2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0PjtcclxuXHJcbiAgLyoqXHJcbiAgICogQW4gT2JzZXJ2YWJsZSB0aGF0IHB1Ymxpc2hlcyBldmVudCBkYXRhIHRvIGl0J3Mgc3Vic2NyaWJlcnNcclxuICAgKiAgd2hlbiB0aGUgZGV2aWNlIGJlZ2lucyBtb25pdG9yaW5nIGEgcmVnaW9uLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge09ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD59IFJldHVybnMgYSBJQmVhY29uUGx1Z2luUmVzdWx0IG9iamVjdCB3aXRoIGluZm9ybWF0aW9uIGFib3V0IHRoZSBldmVudCwgcmVnaW9uLCBhbmQgYmVhY29uKHMpLlxyXG4gICAqL1xyXG4gIGRpZFN0YXJ0TW9uaXRvcmluZ0ZvclJlZ2lvbigpOiBPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+O1xyXG5cclxuICAvKipcclxuICAgKiBBbiBPYnNlcnZhYmxlIHRoYXQgcHVibGlzaGVzIGV2ZW50IGRhdGEgdG8gaXQncyBzdWJzY3JpYmVyc1xyXG4gICAqICB3aGVuIHRoZSBkZXZpY2UgZmFpbHMgdG8gbW9uaXRvciBhIHJlZ2lvbi5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+fSBSZXR1cm5zIGEgSUJlYWNvblBsdWdpblJlc3VsdCBvYmplY3Qgd2l0aCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZXZlbnQsIHJlZ2lvbiwgYW5kIGJlYWNvbihzKS5cclxuICAgKi9cclxuICBtb25pdG9yaW5nRGlkRmFpbEZvclJlZ2lvbldpdGhFcnJvcigpOiBPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+O1xyXG5cclxuICAvKipcclxuICAgKiBBbiBPYnNlcnZhYmxlIHRoYXQgcHVibGlzaGVzIGV2ZW50IGRhdGEgdG8gaXQncyBzdWJzY3JpYmVyc1xyXG4gICAqICB3aGVuIHRoZSBkZXZpY2UgYmVnaW5zIGFkdmVydGlzaW5nIGFzIGFuIGlCZWFjb24uXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0Pn0gUmV0dXJucyBhIElCZWFjb25QbHVnaW5SZXN1bHQgb2JqZWN0IHdpdGggaW5mb3JtYXRpb24gYWJvdXQgdGhlIGV2ZW50LCByZWdpb24sIGFuZCBiZWFjb24ocykuXHJcbiAgICovXHJcbiAgcGVyaXBoZXJhbE1hbmFnZXJEaWRTdGFydEFkdmVydGlzaW5nKCk6IE9ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD47XHJcblxyXG4gIC8qKlxyXG4gICAqIEFuIE9ic2VydmFibGUgdGhhdCBwdWJsaXNoZXMgZXZlbnQgZGF0YSB0byBpdCdzIHN1YnNjcmliZXJzXHJcbiAgICogd2hlbiB0aGUgc3RhdGUgb2YgdGhlIHBlcmlwaGVyYWwgbWFuYWdlcidzIHN0YXRlIHVwZGF0ZXMuXHJcbiAgICpcclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+fSBSZXR1cm5zIGEgSUJlYWNvblBsdWdpblJlc3VsdCBvYmplY3Qgd2l0aCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZXZlbnQsIHJlZ2lvbiwgYW5kIGJlYWNvbihzKS5cclxuICAgKi9cclxuICBwZXJpcGhlcmFsTWFuYWdlckRpZFVwZGF0ZVN0YXRlKCk6IE9ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAbmFtZSBJQmVhY29uXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBUaGlzIHBsdWdpbiBwcm92aWRlcyBmdW5jdGlvbnMgZm9yIHdvcmtpbmcgd2l0aCBpQmVhY29ucy5cclxuICpcclxuICogIFRoZSBwbHVnaW4ncyBBUEkgY2xvc2VseSBtaW1pY3MgdGhlIG9uZSBleHBvc2VkIHRocm91Z2ggdGhlIFtDTExvY2F0aW9uTWFuYWdlcl0oaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvaW9zL2RvY3VtZW50YXRpb24vQ29yZUxvY2F0aW9uL1JlZmVyZW5jZS9DTExvY2F0aW9uTWFuYWdlcl9DbGFzcy9pbmRleC5odG1sKSBpbnRyb2R1Y2VkIGluIGlPUyA3LlxyXG4gKiBAdXNhZ2VcclxuICpcclxuICogYGBgdHlwZXNjcmlwdFxyXG4gKiBpbXBvcnQgeyBJQmVhY29uIH0gZnJvbSAnQGF3ZXNvbWUtY29yZG92YS1wbHVnaW5zL2liZWFjb24vbmd4JztcclxuICpcclxuICogY29uc3RydWN0b3IocHJpdmF0ZSBpYmVhY29uOiBJQmVhY29uKSB7IH1cclxuICpcclxuICogLi4uXHJcbiAqXHJcbiAqXHJcbiAqIC8vIFJlcXVlc3QgcGVybWlzc2lvbiB0byB1c2UgbG9jYXRpb24gb24gaU9TXHJcbiAqIHRoaXMuaWJlYWNvbi5yZXF1ZXN0QWx3YXlzQXV0aG9yaXphdGlvbigpO1xyXG4gKiAvLyBjcmVhdGUgYSBuZXcgZGVsZWdhdGUgYW5kIHJlZ2lzdGVyIGl0IHdpdGggdGhlIG5hdGl2ZSBsYXllclxyXG4gKiBsZXQgZGVsZWdhdGUgPSB0aGlzLmliZWFjb24uRGVsZWdhdGUoKTtcclxuICpcclxuICogLy8gU3Vic2NyaWJlIHRvIHNvbWUgb2YgdGhlIGRlbGVnYXRlJ3MgZXZlbnQgaGFuZGxlcnNcclxuICogZGVsZWdhdGUuZGlkUmFuZ2VCZWFjb25zSW5SZWdpb24oKVxyXG4gKiAgIC5zdWJzY3JpYmUoXHJcbiAqICAgICBkYXRhID0+IGNvbnNvbGUubG9nKCdkaWRSYW5nZUJlYWNvbnNJblJlZ2lvbjogJywgZGF0YSksXHJcbiAqICAgICBlcnJvciA9PiBjb25zb2xlLmVycm9yKClcclxuICogICApO1xyXG4gKiBkZWxlZ2F0ZS5kaWRTdGFydE1vbml0b3JpbmdGb3JSZWdpb24oKVxyXG4gKiAgIC5zdWJzY3JpYmUoXHJcbiAqICAgICBkYXRhID0+IGNvbnNvbGUubG9nKCdkaWRTdGFydE1vbml0b3JpbmdGb3JSZWdpb246ICcsIGRhdGEpLFxyXG4gKiAgICAgZXJyb3IgPT4gY29uc29sZS5lcnJvcigpXHJcbiAqICAgKTtcclxuICogZGVsZWdhdGUuZGlkRW50ZXJSZWdpb24oKVxyXG4gKiAgIC5zdWJzY3JpYmUoXHJcbiAqICAgICBkYXRhID0+IHtcclxuICogICAgICAgY29uc29sZS5sb2coJ2RpZEVudGVyUmVnaW9uOiAnLCBkYXRhKTtcclxuICogICAgIH1cclxuICogICApO1xyXG4gKlxyXG4gKiBsZXQgYmVhY29uUmVnaW9uID0gdGhpcy5pYmVhY29uLkJlYWNvblJlZ2lvbignZGVza0JlYWNvbicsJ0Y3ODI2REE2LUFTREYtQVNERi04MDI0LUJDNUI3MUUwODkzRScpO1xyXG4gKlxyXG4gKiB0aGlzLmliZWFjb24uc3RhcnRNb25pdG9yaW5nRm9yUmVnaW9uKGJlYWNvblJlZ2lvbilcclxuICogICAudGhlbihcclxuICogICAgICgpID0+IGNvbnNvbGUubG9nKCdOYXRpdmUgbGF5ZXIgcmVjZWl2ZWQgdGhlIHJlcXVlc3QgdG8gbW9uaXRvcmluZycpLFxyXG4gKiAgICAgZXJyb3IgPT4gY29uc29sZS5lcnJvcignTmF0aXZlIGxheWVyIGZhaWxlZCB0byBiZWdpbiBtb25pdG9yaW5nOiAnLCBlcnJvcilcclxuICogICApO1xyXG4gKiBgYGBcclxuICogQGludGVyZmFjZXNcclxuICogQmVhY29uXHJcbiAqIEJlYWNvblJlZ2lvblxyXG4gKiBDaXJjdWxhclJlZ2lvblxyXG4gKiBJQmVhY29uUGx1Z2luUmVzdWx0XHJcbiAqIElCZWFjb25EZWxlZ2F0ZVxyXG4gKi9cclxuQFBsdWdpbih7XHJcbiAgcGx1Z2luTmFtZTogJ0lCZWFjb24nLFxyXG4gIHBsdWdpbjogJ2NvcmRvdmEtcGx1Z2luLWliZWFjb24nLFxyXG4gIHBsdWdpblJlZjogJ2NvcmRvdmEucGx1Z2lucy5sb2NhdGlvbk1hbmFnZXInLFxyXG4gIHJlcG86ICdodHRwczovL2dpdGh1Yi5jb20vcGV0ZXJtZXR6L2NvcmRvdmEtcGx1Z2luLWliZWFjb24nLFxyXG4gIHBsYXRmb3JtczogWydBbmRyb2lkJywgJ2lPUyddLFxyXG59KVxyXG5ASW5qZWN0YWJsZSgpXHJcbmV4cG9ydCBjbGFzcyBJQmVhY29uIGV4dGVuZHMgQXdlc29tZUNvcmRvdmFOYXRpdmVQbHVnaW4ge1xyXG4gIC8qKlxyXG4gICAqIEluc3RhbmNlcyBvZiB0aGlzIGNsYXNzIGFyZSBkZWxlZ2F0ZXMgYmV0d2VlbiB0aGUge0BsaW5rIExvY2F0aW9uTWFuYWdlcn0gYW5kXHJcbiAgICogdGhlIGNvZGUgdGhhdCBjb25zdW1lcyB0aGUgbWVzc2FnZXMgZ2VuZXJhdGVkIG9uIGluIHRoZSBuYXRpdmUgbGF5ZXIuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7SUJlYWNvbkRlbGVnYXRlfSBBbiBpbnN0YW5jZSBvZiB0aGUgdHlwZSB7QHR5cGUgRGVsZWdhdGV9LlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhQ2hlY2soeyBzeW5jOiB0cnVlIH0pXHJcbiAgRGVsZWdhdGUoKTogSUJlYWNvbkRlbGVnYXRlIHtcclxuICAgIGNvbnN0IGRlbGVnYXRlID0gbmV3IHdpbmRvdy5jb3Jkb3ZhLnBsdWdpbnMubG9jYXRpb25NYW5hZ2VyLkRlbGVnYXRlKCk7XHJcblxyXG4gICAgZGVsZWdhdGUuZGlkQ2hhbmdlQXV0aG9yaXphdGlvblN0YXR1cyA9IChwbHVnaW5SZXN1bHQ/OiBJQmVhY29uUGx1Z2luUmVzdWx0KSA9PiB7XHJcbiAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0Pigob2JzZXJ2ZXI6IGFueSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNiID0gKGRhdGE6IElCZWFjb25QbHVnaW5SZXN1bHQpID0+IG9ic2VydmVyLm5leHQoZGF0YSk7XHJcbiAgICAgICAgcmV0dXJuIChkZWxlZ2F0ZS5kaWRDaGFuZ2VBdXRob3JpemF0aW9uU3RhdHVzID0gY2IpO1xyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgZGVsZWdhdGUuZGlkRGV0ZXJtaW5lU3RhdGVGb3JSZWdpb24gPSAocGx1Z2luUmVzdWx0PzogSUJlYWNvblBsdWdpblJlc3VsdCkgPT4ge1xyXG4gICAgICByZXR1cm4gbmV3IE9ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD4oKG9ic2VydmVyOiBhbnkpID0+IHtcclxuICAgICAgICBjb25zdCBjYiA9IChkYXRhOiBJQmVhY29uUGx1Z2luUmVzdWx0KSA9PiBvYnNlcnZlci5uZXh0KGRhdGEpO1xyXG4gICAgICAgIHJldHVybiAoZGVsZWdhdGUuZGlkRGV0ZXJtaW5lU3RhdGVGb3JSZWdpb24gPSBjYik7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBkZWxlZ2F0ZS5kaWRFbnRlclJlZ2lvbiA9IChwbHVnaW5SZXN1bHQ/OiBJQmVhY29uUGx1Z2luUmVzdWx0KSA9PiB7XHJcbiAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0Pigob2JzZXJ2ZXI6IGFueSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNiID0gKGRhdGE6IElCZWFjb25QbHVnaW5SZXN1bHQpID0+IG9ic2VydmVyLm5leHQoZGF0YSk7XHJcbiAgICAgICAgcmV0dXJuIChkZWxlZ2F0ZS5kaWRFbnRlclJlZ2lvbiA9IGNiKTtcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGRlbGVnYXRlLmRpZEV4aXRSZWdpb24gPSAocGx1Z2luUmVzdWx0PzogSUJlYWNvblBsdWdpblJlc3VsdCkgPT4ge1xyXG4gICAgICByZXR1cm4gbmV3IE9ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD4oKG9ic2VydmVyOiBhbnkpID0+IHtcclxuICAgICAgICBjb25zdCBjYiA9IChkYXRhOiBJQmVhY29uUGx1Z2luUmVzdWx0KSA9PiBvYnNlcnZlci5uZXh0KGRhdGEpO1xyXG4gICAgICAgIHJldHVybiAoZGVsZWdhdGUuZGlkRXhpdFJlZ2lvbiA9IGNiKTtcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGRlbGVnYXRlLmRpZFJhbmdlQmVhY29uc0luUmVnaW9uID0gKHBsdWdpblJlc3VsdD86IElCZWFjb25QbHVnaW5SZXN1bHQpID0+IHtcclxuICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+KChvYnNlcnZlcjogYW55KSA9PiB7XHJcbiAgICAgICAgY29uc3QgY2IgPSAoZGF0YTogSUJlYWNvblBsdWdpblJlc3VsdCkgPT4gb2JzZXJ2ZXIubmV4dChkYXRhKTtcclxuICAgICAgICByZXR1cm4gKGRlbGVnYXRlLmRpZFJhbmdlQmVhY29uc0luUmVnaW9uID0gY2IpO1xyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgZGVsZWdhdGUuZGlkU3RhcnRNb25pdG9yaW5nRm9yUmVnaW9uID0gKHBsdWdpblJlc3VsdD86IElCZWFjb25QbHVnaW5SZXN1bHQpID0+IHtcclxuICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+KChvYnNlcnZlcjogYW55KSA9PiB7XHJcbiAgICAgICAgY29uc3QgY2IgPSAoZGF0YTogSUJlYWNvblBsdWdpblJlc3VsdCkgPT4gb2JzZXJ2ZXIubmV4dChkYXRhKTtcclxuICAgICAgICByZXR1cm4gKGRlbGVnYXRlLmRpZFN0YXJ0TW9uaXRvcmluZ0ZvclJlZ2lvbiA9IGNiKTtcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGRlbGVnYXRlLm1vbml0b3JpbmdEaWRGYWlsRm9yUmVnaW9uV2l0aEVycm9yID0gKHBsdWdpblJlc3VsdD86IElCZWFjb25QbHVnaW5SZXN1bHQpID0+IHtcclxuICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+KChvYnNlcnZlcjogYW55KSA9PiB7XHJcbiAgICAgICAgY29uc3QgY2IgPSAoZGF0YTogSUJlYWNvblBsdWdpblJlc3VsdCkgPT4gb2JzZXJ2ZXIubmV4dChkYXRhKTtcclxuICAgICAgICByZXR1cm4gKGRlbGVnYXRlLm1vbml0b3JpbmdEaWRGYWlsRm9yUmVnaW9uV2l0aEVycm9yID0gY2IpO1xyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgZGVsZWdhdGUucGVyaXBoZXJhbE1hbmFnZXJEaWRTdGFydEFkdmVydGlzaW5nID0gKHBsdWdpblJlc3VsdD86IElCZWFjb25QbHVnaW5SZXN1bHQpID0+IHtcclxuICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+KChvYnNlcnZlcjogYW55KSA9PiB7XHJcbiAgICAgICAgY29uc3QgY2IgPSAoZGF0YTogSUJlYWNvblBsdWdpblJlc3VsdCkgPT4gb2JzZXJ2ZXIubmV4dChkYXRhKTtcclxuICAgICAgICByZXR1cm4gKGRlbGVnYXRlLnBlcmlwaGVyYWxNYW5hZ2VyRGlkU3RhcnRBZHZlcnRpc2luZyA9IGNiKTtcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGRlbGVnYXRlLnBlcmlwaGVyYWxNYW5hZ2VyRGlkVXBkYXRlU3RhdGUgPSAocGx1Z2luUmVzdWx0PzogSUJlYWNvblBsdWdpblJlc3VsdCkgPT4ge1xyXG4gICAgICByZXR1cm4gbmV3IE9ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD4oKG9ic2VydmVyOiBhbnkpID0+IHtcclxuICAgICAgICBjb25zdCBjYiA9IChkYXRhOiBJQmVhY29uUGx1Z2luUmVzdWx0KSA9PiBvYnNlcnZlci5uZXh0KGRhdGEpO1xyXG4gICAgICAgIHJldHVybiAoZGVsZWdhdGUucGVyaXBoZXJhbE1hbmFnZXJEaWRVcGRhdGVTdGF0ZSA9IGNiKTtcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHdpbmRvdy5jb3Jkb3ZhLnBsdWdpbnMubG9jYXRpb25NYW5hZ2VyLnNldERlbGVnYXRlKGRlbGVnYXRlKTtcclxuICAgIHJldHVybiBkZWxlZ2F0ZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZXMgYSBuZXcgQmVhY29uUmVnaW9uXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWRlbnRpZmllciBAc2VlIHtDTFJlZ2lvbn1cclxuICAgKiBAcGFyYW0gaWRlbnRpZmVyXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHV1aWQgVGhlIHByb3hpbWl0eSBJRCBvZiB0aGUgYmVhY29uIGJlaW5nIHRhcmdldGVkLlxyXG4gICAqIFRoaXMgdmFsdWUgbXVzdCBub3QgYmUgYmxhbmsgbm9yIGludmFsaWQgYXMgYSBVVUlELlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYWpvciBUaGUgbWFqb3IgdmFsdWUgdGhhdCB5b3UgdXNlIHRvIGlkZW50aWZ5IG9uZSBvciBtb3JlIGJlYWNvbnMuXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IG1pbm9yIFRoZSBtaW5vciB2YWx1ZSB0aGF0IHlvdSB1c2UgdG8gaWRlbnRpZnkgYSBzcGVjaWZpYyBiZWFjb24uXHJcbiAgICogQHBhcmFtIHtCT09MfSBub3RpZnlFbnRyeVN0YXRlT25EaXNwbGF5XHJcbiAgICogQHJldHVybnMge0JlYWNvblJlZ2lvbn0gUmV0dXJucyB0aGUgQmVhY29uUmVnaW9uIHRoYXQgd2FzIGNyZWF0ZWRcclxuICAgKi9cclxuICBAQ29yZG92YUNoZWNrKHsgc3luYzogdHJ1ZSB9KVxyXG4gIEJlYWNvblJlZ2lvbihcclxuICAgIGlkZW50aWZlcjogc3RyaW5nLFxyXG4gICAgdXVpZDogc3RyaW5nLFxyXG4gICAgbWFqb3I/OiBudW1iZXIsXHJcbiAgICBtaW5vcj86IG51bWJlcixcclxuICAgIG5vdGlmeUVudHJ5U3RhdGVPbkRpc3BsYXk/OiBib29sZWFuXHJcbiAgKTogQmVhY29uUmVnaW9uIHtcclxuICAgIHJldHVybiBuZXcgd2luZG93LmNvcmRvdmEucGx1Z2lucy5sb2NhdGlvbk1hbmFnZXIuQmVhY29uUmVnaW9uKFxyXG4gICAgICBpZGVudGlmZXIsXHJcbiAgICAgIHV1aWQsXHJcbiAgICAgIG1ham9yLFxyXG4gICAgICBtaW5vcixcclxuICAgICAgbm90aWZ5RW50cnlTdGF0ZU9uRGlzcGxheVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEByZXR1cm5zIHtJQmVhY29uRGVsZWdhdGV9IFJldHVybnMgdGhlIElCZWFjb25EZWxlZ2F0ZVxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKClcclxuICBnZXREZWxlZ2F0ZSgpOiBJQmVhY29uRGVsZWdhdGUge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtJQmVhY29uRGVsZWdhdGV9IGRlbGVnYXRlIEFuIGluc3RhbmNlIG9mIGEgZGVsZWdhdGUgdG8gcmVnaXN0ZXIgd2l0aCB0aGUgbmF0aXZlIGxheWVyLlxyXG4gICAqIEByZXR1cm5zIHtJQmVhY29uRGVsZWdhdGV9IFJldHVybnMgdGhlIElCZWFjb25EZWxlZ2F0ZVxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKClcclxuICBzZXREZWxlZ2F0ZShkZWxlZ2F0ZTogSUJlYWNvbkRlbGVnYXRlKTogSUJlYWNvbkRlbGVnYXRlIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNpZ25hbHMgdGhlIG5hdGl2ZSBsYXllciB0aGF0IHRoZSBjbGllbnQgc2lkZSBpcyByZWFkeSB0byBjb25zdW1lIG1lc3NhZ2VzLlxyXG4gICAqIFJlYWRpbmVzcyBoZXJlIG1lYW5zIHRoYXQgaXQgaGFzIGEge0lCZWFjb25EZWxlZ2F0ZX0gc2V0IGJ5IHRoZSBjb25zdW1lciBqYXZhc2NyaXB0XHJcbiAgICogY29kZS5cclxuICAgKlxyXG4gICAqIFRoZSB7TG9jYXRpb25NYW5hZ2VyLnNldERlbGVnYXRlKCl9IHdpbGwgaW1wbGljaXRseSBjYWxsIHRoaXMgbWV0aG9kIGFzIHdlbGwsXHJcbiAgICogdGhlcmVmb3JlIHRoZSBvbmx5IGNhc2Ugd2hlbiB5b3UgaGF2ZSB0byBjYWxsIHRoaXMgbWFudWFsbHkgaXMgaWYgeW91IGRvbid0XHJcbiAgICogd2lzaCB0byBzcGVjaWZ5IGEge0lCZWFjb25EZWxlZ2F0ZX0gb2YgeW91cnMuXHJcbiAgICpcclxuICAgKiBUaGUgcHVycG9zZSBvZiB0aGlzIHNpZ25hbGluZyBtZWNoYW5pc20gaXMgdG8gbWFrZSB0aGUgZXZlbnRzIHdvcmsgd2hlbiB0aGVcclxuICAgKiBhcHAgaXMgYmVpbmcgd29rZW4gdXAgYnkgdGhlIE9wZXJhdGluZyBTeXN0ZW0gdG8gZ2l2ZSBpdCBhIGNoYW5jZSB0byBoYW5kbGVcclxuICAgKiByZWdpb24gbW9uaXRvcmluZyBldmVudHMgZm9yIGV4YW1wbGUuXHJcbiAgICpcclxuICAgKiBJZiB5b3UgZG9uJ3Qgc2V0IGEge0lCZWFjb25EZWxlZ2F0ZX0gYW5kIGRvbid0IGNhbGwgdGhpcyBtZXRob2QgbWFudWFsbHksIGFuIGVycm9yXHJcbiAgICogbWVzc2FnZSBnZXQgZW1pdHRlZCBpbiB0aGUgbmF0aXZlIHJ1bnRpbWUgYW5kIHRoZSBET00gYXMgd2VsbCBhZnRlciBhIGNlcnRhaW5cclxuICAgKiBwZXJpb2Qgb2YgdGltZS5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCBhcyBzb29uIGFzIHRoZVxyXG4gICAqIG5hdGl2ZSBsYXllciBhY2tub3dsZWRnZWQgdGhlIHJlcXVlc3QgYW5kIHN0YXJ0ZWQgdG8gc2VuZCBldmVudHMuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcclxuICBvbkRvbURlbGVnYXRlUmVhZHkoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZXRlcm1pbmVzIGlmIGJsdWV0b290aCBpcyBzd2l0Y2hlZCBvbiwgYWNjb3JkaW5nIHRvIHRoZSBuYXRpdmUgbGF5ZXIuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgd2l0aCBhIHtCb29sZWFufVxyXG4gICAqIGluZGljYXRpbmcgd2hldGhlciBibHVldG9vdGggaXMgYWN0aXZlLlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXHJcbiAgaXNCbHVldG9vdGhFbmFibGVkKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRW5hYmxlcyBCbHVldG9vdGggdXNpbmcgdGhlIG5hdGl2ZSBMYXllci4gKEFORFJPSUQgT05MWSlcclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCB3aGVuIEJsdWV0b290aFxyXG4gICAqIGNvdWxkIGJlIGVuYWJsZWQuIElmIG5vdCwgdGhlIHByb21pc2Ugd2lsbCBiZSByZWplY3RlZCB3aXRoIGFuIGVycm9yLlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXHJcbiAgZW5hYmxlQmx1ZXRvb3RoKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGlzYWJsZXMgQmx1ZXRvb3RoIHVzaW5nIHRoZSBuYXRpdmUgTGF5ZXIuIChBTkRST0lEIE9OTFkpXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgd2hlbiBCbHVldG9vdGhcclxuICAgKiBjb3VsZCBiZSBlbmFibGVkLiBJZiBub3QsIHRoZSBwcm9taXNlIHdpbGwgYmUgcmVqZWN0ZWQgd2l0aCBhbiBlcnJvci5cclxuICAgKi9cclxuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxyXG4gIGRpc2FibGVCbHVldG9vdGgoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTdGFydCBtb25pdG9yaW5nIHRoZSBzcGVjaWZpZWQgcmVnaW9uLlxyXG4gICAqXHJcbiAgICogSWYgYSByZWdpb24gb2YgdGhlIHNhbWUgdHlwZSB3aXRoIHRoZSBzYW1lIGlkZW50aWZpZXIgaXMgYWxyZWFkeSBiZWluZ1xyXG4gICAqIG1vbml0b3JlZCBmb3IgdGhpcyBhcHBsaWNhdGlvbixcclxuICAgKiBpdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSBtb25pdG9yaW5nLiBGb3IgY2lyY3VsYXIgcmVnaW9ucywgdGhlIHJlZ2lvblxyXG4gICAqIG1vbml0b3Jpbmcgc2VydmljZSB3aWxsIHByaW9yaXRpemVcclxuICAgKiByZWdpb25zIGJ5IHRoZWlyIHNpemUsIGZhdm9yaW5nIHNtYWxsZXIgcmVnaW9ucyBvdmVyIGxhcmdlciByZWdpb25zLlxyXG4gICAqXHJcbiAgICogVGhpcyBpcyBkb25lIGFzeW5jaHJvbm91c2x5IGFuZCBtYXkgbm90IGJlIGltbWVkaWF0ZWx5IHJlZmxlY3RlZCBpbiBtb25pdG9yZWRSZWdpb25zLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtSZWdpb259IHJlZ2lvbiBBbiBpbnN0YW5jZSBvZiB7UmVnaW9ufSB3aGljaCB3aWxsIGJlIG1vbml0b3JlZFxyXG4gICAqIGJ5IHRoZSBvcGVyYXRpbmcgc3lzdGVtLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIGFzIHNvb24gYXMgdGhlXHJcbiAgICogbmF0aXZlIGxheWVyIGFja25vd2xlZGdlZCB0aGUgZGlzcGF0Y2ggb2YgdGhlIG1vbml0b3JpbmcgcmVxdWVzdC5cclxuICAgKi9cclxuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxyXG4gIHN0YXJ0TW9uaXRvcmluZ0ZvclJlZ2lvbihyZWdpb246IFJlZ2lvbik6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTdG9wIG1vbml0b3JpbmcgdGhlIHNwZWNpZmllZCByZWdpb24uICBJdCBpcyB2YWxpZCB0byBjYWxsXHJcbiAgICogc3RvcE1vbml0b3JpbmdGb3JSZWdpb246IGZvciBhIHJlZ2lvbiB0aGF0IHdhcyByZWdpc3RlcmVkIGZvciBtb25pdG9yaW5nXHJcbiAgICogd2l0aCBhIGRpZmZlcmVudCBsb2NhdGlvbiBtYW5hZ2VyIG9iamVjdCwgZHVyaW5nIHRoaXMgb3IgcHJldmlvdXNcclxuICAgKiBsYXVuY2hlcyBvZiB5b3VyIGFwcGxpY2F0aW9uLlxyXG4gICAqXHJcbiAgICogVGhpcyBpcyBkb25lIGFzeW5jaHJvbm91c2x5IGFuZCBtYXkgbm90IGJlIGltbWVkaWF0ZWx5IHJlZmxlY3RlZCBpbiBtb25pdG9yZWRSZWdpb25zLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtSZWdpb259IHJlZ2lvbiBBbiBpbnN0YW5jZSBvZiB7UmVnaW9ufSB3aGljaCB3aWxsIGJlIG1vbml0b3JlZFxyXG4gICAqIGJ5IHRoZSBvcGVyYXRpbmcgc3lzdGVtLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCBhcyBzb29uIGFzIHRoZVxyXG4gICAqIG5hdGl2ZSBsYXllciBhY2tub3dsZWRnZWQgdGhlIGRpc3BhdGNoIG9mIHRoZSByZXF1ZXN0IHRvIHN0b3AgbW9uaXRvcmluZy5cclxuICAgKi9cclxuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxyXG4gIHN0b3BNb25pdG9yaW5nRm9yUmVnaW9uKHJlZ2lvbjogUmVnaW9uKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXF1ZXN0IHN0YXRlIHRoZSBmb3Igc3BlY2lmaWVkIHJlZ2lvbi4gV2hlbiByZXN1bHQgaXMgcmVhZHlcclxuICAgKiBkaWREZXRlcm1pbmVTdGF0ZUZvclJlZ2lvbiBpcyB0cmlnZ2VyZWQuIFRoaXMgY2FuIGJlIGFueSByZWdpb24sXHJcbiAgICogYWxzbyB0aG9zZSB3aGljaCBpcyBub3QgY3VycmVudGx5IG1vbml0b3JlZC5cclxuICAgKlxyXG4gICAqIFRoaXMgaXMgZG9uZSBhc3luY2hyb25vdXNseSBhbmQgbWF5IG5vdCBiZSBpbW1lZGlhdGVseSByZWZsZWN0ZWQgaW4gbW9uaXRvcmVkUmVnaW9ucy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7UmVnaW9ufSByZWdpb24gQW4gaW5zdGFuY2Ugb2Yge1JlZ2lvbn0gd2hpY2ggd2lsbCBiZSBtb25pdG9yZWRcclxuICAgKiBieSB0aGUgb3BlcmF0aW5nIHN5c3RlbS5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgYXMgc29vbiBhcyB0aGVcclxuICAgKiBuYXRpdmUgbGF5ZXIgYWNrbm93bGVkZ2VkIHRoZSBkaXNwYXRjaCBvZiB0aGUgcmVxdWVzdCB0byBzdG9wIG1vbml0b3JpbmcuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcclxuICByZXF1ZXN0U3RhdGVGb3JSZWdpb24ocmVnaW9uOiBSZWdpb24pOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFN0YXJ0IHJhbmdpbmcgdGhlIHNwZWNpZmllZCBiZWFjb24gcmVnaW9uLlxyXG4gICAqXHJcbiAgICogSWYgYSByZWdpb24gb2YgdGhlIHNhbWUgdHlwZSB3aXRoIHRoZSBzYW1lIGlkZW50aWZpZXIgaXMgYWxyZWFkeSBiZWluZ1xyXG4gICAqIG1vbml0b3JlZCBmb3IgdGhpcyBhcHBsaWNhdGlvbiwgaXQgd2lsbCBiZSByZW1vdmVkIGZyb20gbW9uaXRvcmluZy5cclxuICAgKlxyXG4gICAqIFRoaXMgaXMgZG9uZSBhc3luY2hyb25vdXNseSBhbmQgbWF5IG5vdCBiZSBpbW1lZGlhdGVseSByZWZsZWN0ZWQgaW4gcmFuZ2VkUmVnaW9ucy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7UmVnaW9ufSByZWdpb24gQW4gaW5zdGFuY2Ugb2Yge0JlYWNvblJlZ2lvbn0gd2hpY2ggd2lsbCBiZSBtb25pdG9yZWRcclxuICAgKiBieSB0aGUgb3BlcmF0aW5nIHN5c3RlbS5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgYXMgc29vbiBhcyB0aGVcclxuICAgKiBuYXRpdmUgbGF5ZXIgYWNrbm93bGVkZ2VkIHRoZSBkaXNwYXRjaCBvZiB0aGUgbW9uaXRvcmluZyByZXF1ZXN0LlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXHJcbiAgc3RhcnRSYW5naW5nQmVhY29uc0luUmVnaW9uKHJlZ2lvbjogUmVnaW9uKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTdG9wIHJhbmdpbmcgdGhlIHNwZWNpZmllZCByZWdpb24uICBJdCBpcyB2YWxpZCB0byBjYWxsXHJcbiAgICogc3RvcE1vbml0b3JpbmdGb3JSZWdpb246IGZvciBhIHJlZ2lvbiB0aGF0IHdhcyByZWdpc3RlcmVkIGZvciByYW5naW5nXHJcbiAgICogd2l0aCBhIGRpZmZlcmVudCBsb2NhdGlvbiBtYW5hZ2VyIG9iamVjdCwgZHVyaW5nIHRoaXMgb3IgcHJldmlvdXNcclxuICAgKiBsYXVuY2hlcyBvZiB5b3VyIGFwcGxpY2F0aW9uLlxyXG4gICAqXHJcbiAgICogVGhpcyBpcyBkb25lIGFzeW5jaHJvbm91c2x5IGFuZCBtYXkgbm90IGJlIGltbWVkaWF0ZWx5IHJlZmxlY3RlZCBpbiByYW5nZWRSZWdpb25zLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtSZWdpb259IHJlZ2lvbiBBbiBpbnN0YW5jZSBvZiB7QmVhY29uUmVnaW9ufSB3aGljaCB3aWxsIGJlIG1vbml0b3JlZFxyXG4gICAqIGJ5IHRoZSBvcGVyYXRpbmcgc3lzdGVtLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCBhcyBzb29uIGFzIHRoZVxyXG4gICAqIG5hdGl2ZSBsYXllciBhY2tub3dsZWRnZWQgdGhlIGRpc3BhdGNoIG9mIHRoZSByZXF1ZXN0IHRvIHN0b3AgbW9uaXRvcmluZy5cclxuICAgKi9cclxuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxyXG4gIHN0b3BSYW5naW5nQmVhY29uc0luUmVnaW9uKHJlZ2lvbjogUmVnaW9uKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBRdWVyaWVzIHRoZSBuYXRpdmUgbGF5ZXIgdG8gZGV0ZXJtaW5lIHRoZSBjdXJyZW50IGF1dGhvcml6YXRpb24gaW4gZWZmZWN0LlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8SUJlYWNvblBsdWdpblJlc3VsdD59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIHdpdGggdGhlXHJcbiAgICogcmVxdWVzdGVkIGF1dGhvcml6YXRpb24gc3RhdHVzLlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXHJcbiAgZ2V0QXV0aG9yaXphdGlvblN0YXR1cygpOiBQcm9taXNlPElCZWFjb25QbHVnaW5SZXN1bHQ+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEZvciBpT1MgOCBhbmQgYWJvdmUgb25seS4gVGhlIHBlcm1pc3Npb24gbW9kZWwgaGFzIGNoYW5nZWQgYnkgQXBwbGUgaW4gaU9TIDgsIG1ha2luZyBpdCBuZWNlc3NhcnkgZm9yIGFwcHMgdG9cclxuICAgKiBleHBsaWNpdGx5IHJlcXVlc3QgcGVybWlzc2lvbnMgdmlhIG1ldGhvZHMgbGlrZSB0aGVzZTpcclxuICAgKiA8YSBocmVmPVwiaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvcHJlcmVsZWFzZS9pT1MvZG9jdW1lbnRhdGlvbi9Db3JlTG9jYXRpb24vUmVmZXJlbmNlL0NMTG9jYXRpb25NYW5hZ2VyX0NsYXNzL2luZGV4Lmh0bWwjLy9hcHBsZV9yZWYvb2NjL2luc3RtL0NMTG9jYXRpb25NYW5hZ2VyL3JlcXVlc3RXaGVuSW5Vc2VBdXRob3JpemF0aW9uXCI+cmVxdWVzdFdoZW5JblVzZUF1dGhvcml6YXRpb248L2E+XHJcbiAgICogPGEgaHJlZj1cImh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9saWJyYXJ5L3ByZXJlbGVhc2UvaU9TL2RvY3VtZW50YXRpb24vQ29yZUxvY2F0aW9uL1JlZmVyZW5jZS9DTExvY2F0aW9uTWFuYWdlcl9DbGFzcy9pbmRleC5odG1sIy8vYXBwbGVfcmVmL29jYy9pbnN0bS9DTExvY2F0aW9uTWFuYWdlci9yZXF1ZXN0QWx3YXlzQXV0aG9yaXphdGlvblwiPnJlcXVlc3RBbHdheXNBdXRob3JpemF0aW9uPC9hPlxyXG4gICAqXHJcbiAgICogSWYgeW91IGFyZSB1c2luZyB0aGlzIHBsdWdpbiBvbiBBbmRyb2lkIGRldmljZXMgb25seSwgeW91IHdpbGwgbmV2ZXIgaGF2ZSB0byB1c2UgdGhpcywgbm9yIHtAY29kZSByZXF1ZXN0QWx3YXlzQXV0aG9yaXphdGlvbn1cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdoZW4gdGhlIHJlcXVlc3QgZGlhbG9nIGlzIHNob3duLlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXHJcbiAgcmVxdWVzdFdoZW5JblVzZUF1dGhvcml6YXRpb24oKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZWUgdGhlIGRvY3VtZW50YXRpb24gb2Yge0Bjb2RlIHJlcXVlc3RXaGVuSW5Vc2VBdXRob3JpemF0aW9ufSBmb3IgZnVydGhlciBkZXRhaWxzLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIHdoZW4gdGhlIG5hdGl2ZSBsYXllclxyXG4gICAqIHNob3dzIHRoZSByZXF1ZXN0IGRpYWxvZy5cclxuICAgKi9cclxuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxyXG4gIHJlcXVlc3RBbHdheXNBdXRob3JpemF0aW9uKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxSZWdpb25bXT59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIHdpdGggYW4ge0FycmF5fVxyXG4gICAqIG9mIHtSZWdpb259IGluc3RhbmNlcyB0aGF0IGFyZSBiZWluZyBtb25pdG9yZWQgYnkgdGhlIG5hdGl2ZSBsYXllci5cclxuICAgKi9cclxuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxyXG4gIGdldE1vbml0b3JlZFJlZ2lvbnMoKTogUHJvbWlzZTxSZWdpb25bXT4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxSZWdpb25bXT59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIHdpdGggYW4ge0FycmF5fVxyXG4gICAqIG9mIHtSZWdpb259IGluc3RhbmNlcyB0aGF0IGFyZSBiZWluZyByYW5nZWQgYnkgdGhlIG5hdGl2ZSBsYXllci5cclxuICAgKi9cclxuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxyXG4gIGdldFJhbmdlZFJlZ2lvbnMoKTogUHJvbWlzZTxSZWdpb25bXT4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGV0ZXJtaW5lcyBpZiByYW5naW5nIGlzIGF2YWlsYWJsZSBvciBub3QsIGFjY29yZGluZyB0byB0aGUgbmF0aXZlIGxheWVyLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8Ym9vbGVhbj59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIHdpdGggYSB7Qm9vbGVhbn1cclxuICAgKiBpbmRpY2F0aW5nIHdoZXRoZXIgcmFuZ2luZyBpcyBhdmFpbGFibGUgb3Igbm90LlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXHJcbiAgaXNSYW5naW5nQXZhaWxhYmxlKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGV0ZXJtaW5lcyBpZiByZWdpb24gdHlwZSBpcyBzdXBwb3J0ZWQgb3Igbm90LCBhY2NvcmRpbmcgdG8gdGhlIG5hdGl2ZSBsYXllci5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7UmVnaW9ufSByZWdpb24gQW4gaW5zdGFuY2Ugb2Yge1JlZ2lvbn0gd2hpY2ggd2lsbCBiZSBjaGVja2VkXHJcbiAgICogYnkgdGhlIG9wZXJhdGluZyBzeXN0ZW0uXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8Ym9vbGVhbj59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIHdpdGggYSB7Qm9vbGVhbn1cclxuICAgKiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHJlZ2lvbiB0eXBlIGlzIHN1cHBvcnRlZCBvciBub3QuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcclxuICBpc01vbml0b3JpbmdBdmFpbGFibGVGb3JDbGFzcyhyZWdpb246IFJlZ2lvbik6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU3RhcnQgYWR2ZXJ0aXNpbmcgdGhlIHNwZWNpZmllZCByZWdpb24uXHJcbiAgICpcclxuICAgKiBJZiBhIHJlZ2lvbiBhIGRpZmZlcmVudCBpZGVudGlmaWVyIGlzIGFscmVhZHkgYmVpbmcgYWR2ZXJ0aXNlZCBmb3JcclxuICAgKiB0aGlzIGFwcGxpY2F0aW9uLCBpdCB3aWxsIGJlIHJlcGxhY2VkIHdpdGggdGhlIG5ldyBpZGVudGlmaWVyLlxyXG4gICAqXHJcbiAgICogVGhpcyBjYWxsIHdpbGwgYWNjZXB0IGEgdmFsaWQgYmVhY29uIGV2ZW4gd2hlbiBubyBCbHVlVG9vdGggaXMgYXZhaWxhYmxlLFxyXG4gICAqIGFuZCB3aWxsIHN0YXJ0IHdoZW4gQmx1ZVRvb3RoIGlzIHBvd2VyZWQgb24uIFNlZSB7SUJlYWNvbkRlbGVnYXRlLn1cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7UmVnaW9ufSByZWdpb24gQW4gaW5zdGFuY2Ugb2Yge1JlZ2lvbn0gd2hpY2ggd2lsbCBiZSBhZHZlcnRpc2VkXHJcbiAgICogYnkgdGhlIG9wZXJhdGluZyBzeXN0ZW0uXHJcbiAgICogQHBhcmFtIHtJbnRlZ2VyfSBtZWFzdXJlZFBvd2VyOiBPcHRpb25hbCBwYXJhbWV0ZXIsIGlmIGxlZnQgZW1wdHksIHRoZSBkZXZpY2Ugd2lsbFxyXG4gICAqIHVzZSBpdCdzIG93biBkZWZhdWx0IHZhbHVlLlxyXG4gICAqIEBwYXJhbSBtZWFzdXJlZFBvd2VyXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIGFzIHNvb24gYXMgdGhlXHJcbiAgICogbmF0aXZlIGxheWVyIGFja25vd2xlZGdlZCB0aGUgZGlzcGF0Y2ggb2YgdGhlIGFkdmVydGlzaW5nIHJlcXVlc3QuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcclxuICBzdGFydEFkdmVydGlzaW5nKHJlZ2lvbjogUmVnaW9uLCBtZWFzdXJlZFBvd2VyPzogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTdG9wIGFkdmVydGlzaW5nIGFzIGEgYmVhY29uLlxyXG4gICAqXHJcbiAgICogVGhpcyBpcyBkb25lIGFzeW5jaHJvbm91c2x5IGFuZCBtYXkgbm90IGJlIGltbWVkaWF0ZWx5IHJlZmxlY3RlZCBpbiBpc0FkdmVydGlzaW5nLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHJlZ2lvblxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCBhcyBzb29uIGFzIHRoZVxyXG4gICAqIG5hdGl2ZSBsYXllciBhY2tub3dsZWRnZWQgdGhlIGRpc3BhdGNoIG9mIHRoZSByZXF1ZXN0IHRvIHN0b3AgYWR2ZXJ0aXNpbmcuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcclxuICBzdG9wQWR2ZXJ0aXNpbmcocmVnaW9uOiBSZWdpb24pOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERldGVybWluZXMgaWYgYWR2ZXJ0aXNpbmcgaXMgYXZhaWxhYmxlIG9yIG5vdCwgYWNjb3JkaW5nIHRvIHRoZSBuYXRpdmUgbGF5ZXIuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgd2l0aCBhIHtCb29sZWFufVxyXG4gICAqIGluZGljYXRpbmcgd2hldGhlciBhZHZlcnRpc2luZyBpcyBhdmFpbGFibGUgb3Igbm90LlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXHJcbiAgaXNBZHZlcnRpc2luZ0F2YWlsYWJsZSgpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERldGVybWluZXMgaWYgYWR2ZXJ0aXNpbmcgaXMgY3VycmVudGx5IGFjdGl2ZSwgYWNjb3JkaW5nIHRvIHRoZSBuYXRpdmUgbGF5ZXIuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgd2l0aCBhIHtCb29sZWFufVxyXG4gICAqIGluZGljYXRpbmcgd2hldGhlciBhZHZlcnRpc2luZyBpcyBhY3RpdmUuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcclxuICBpc0FkdmVydGlzaW5nKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGlzYWJsZXMgZGVidWcgbG9nZ2luZyBpbiB0aGUgbmF0aXZlIGxheWVyLiBVc2UgdGhpcyBtZXRob2QgaWYgeW91IHdhbnRcclxuICAgKiB0byBwcmV2ZW50IHRoaXMgcGx1Z2luIGZyb20gd3JpdGluZyB0byB0aGUgZGV2aWNlIGxvZ3MuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgYXMgc29vbiBhcyB0aGVcclxuICAgKiBuYXRpdmUgbGF5ZXIgaGFzIHNldCB0aGUgbG9nZ2luZyBsZXZlbCBhY2NvcmRpbmdseS5cclxuICAgKi9cclxuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxyXG4gIGRpc2FibGVEZWJ1Z0xvZ3MoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFbmFibGVzIHRoZSBwb3N0aW5nIG9mIGRlYnVnIG5vdGlmaWNhdGlvbnMgaW4gdGhlIG5hdGl2ZSBsYXllci4gVXNlIHRoaXMgbWV0aG9kIGlmIHlvdSB3YW50XHJcbiAgICogdG8gYWxsb3cgdGhlIHBsdWdpbiB0aGUgcG9zdGluZyBsb2NhbCBub3RpZmljYXRpb25zLlxyXG4gICAqIFRoaXMgY2FuIGJlIHZlcnkgaGVscGZ1bCB3aGVuIGRlYnVnZ2luZyBob3cgdG8gYXBwcyBiZWhhdmUgd2hlbiBsYXVuY2hlZCBpbnRvIHRoZSBiYWNrZ3JvdW5kLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIGFzIHNvb24gYXMgdGhlXHJcbiAgICogbmF0aXZlIGxheWVyIGhhcyBzZXQgdGhlIGZsYWcgdG8gZW5hYmxlZC5cclxuICAgKi9cclxuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxyXG4gIGVuYWJsZURlYnVnTm90aWZpY2F0aW9ucygpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERpc2FibGVzIHRoZSBwb3N0aW5nIG9mIGRlYnVnIG5vdGlmaWNhdGlvbnMgaW4gdGhlIG5hdGl2ZSBsYXllci4gVXNlIHRoaXMgbWV0aG9kIGlmIHlvdSB3YW50XHJcbiAgICogdG8gcHJldmVudCB0aGUgcGx1Z2luIGZyb20gcG9zdGluZyBsb2NhbCBub3RpZmljYXRpb25zLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIGFzIHNvb24gYXMgdGhlXHJcbiAgICogbmF0aXZlIGxheWVyIGhhcyBzZXQgdGhlIGZsYWcgdG8gZGlzYWJsZWQuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcclxuICBkaXNhYmxlRGVidWdOb3RpZmljYXRpb25zKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRW5hYmxlcyBkZWJ1ZyBsb2dnaW5nIGluIHRoZSBuYXRpdmUgbGF5ZXIuIFVzZSB0aGlzIG1ldGhvZCBpZiB5b3Ugd2FudFxyXG4gICAqIGEgZGVidWcgdGhlIGlubmVyIHdvcmtpbmdzIG9mIHRoaXMgcGx1Z2luLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIGFzIHNvb24gYXMgdGhlXHJcbiAgICogbmF0aXZlIGxheWVyIGhhcyBzZXQgdGhlIGxvZ2dpbmcgbGV2ZWwgYWNjb3JkaW5nbHkuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcclxuICBlbmFibGVEZWJ1Z0xvZ3MoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBcHBlbmRzIHRoZSBwcm92aWRlZCBbbWVzc2FnZV0gdG8gdGhlIGRldmljZSBsb2dzLlxyXG4gICAqIE5vdGU6IElmIGRlYnVnIGxvZ2dpbmcgaXMgdHVybmVkIG9mZiwgdGhpcyB3b24ndCBkbyBhbnl0aGluZy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIGFwcGVuZCB0byB0aGUgZGV2aWNlIGxvZ3MuXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIHdpdGggdGhlIGxvZ1xyXG4gICAqIG1lc3NhZ2UgcmVjZWl2ZWQgYnkgdGhlIG5hdGl2ZSBsYXllciBmb3IgYXBwZW5kaW5nLiBUaGUgcmV0dXJuZWQgbWVzc2FnZVxyXG4gICAqIGlzIGV4cGVjdGVkIHRvIGJlIGVxdWl2YWxlbnQgdG8gdGhlIG9uZSBwcm92aWRlZCBpbiB0aGUgb3JpZ2luYWwgY2FsbC5cclxuICAgKi9cclxuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxyXG4gIGFwcGVuZFRvRGV2aWNlTG9nKG1lc3NhZ2U6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxufVxyXG4iXX0=