import { __extends } from "tslib";
import { AwesomeCordovaNativePlugin, cordova } from '@awesome-cordova-plugins/core';
import { Observable } from 'rxjs';
import { Injectable } from '@angular/core';
/**
 * @param opts
 * @hidden
 *
 * Wraps method that returns an observable that can be completed. Provided opts.resultFinalPredicate dictates when the observable completes.
 */
export function CordovaFiniteObservable(opts) {
    if (opts === void 0) { opts = {}; }
    opts.observable = true;
    return function (target, methodName, descriptor) {
        return {
            value: function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i] = arguments[_i];
                }
                var wrappedObservable = wrap(this, methodName, opts).apply(this, args);
                return new Observable(function (observer) {
                    var wrappedSubscription = wrappedObservable.subscribe({
                        next: function (x) {
                            observer.next(opts.resultTransform ? x[opts.resultTransform] : x);
                            if (opts.resultFinalPredicate && x[opts.resultFinalPredicate]) {
                                observer.complete();
                            }
                        },
                        error: function (err) {
                            observer.error(err);
                        },
                        complete: function () {
                            observer.complete();
                        },
                    });
                    return function () {
                        wrappedSubscription.unsubscribe();
                    };
                });
            },
            enumerable: true,
        };
    };
}
var PhotoLibrary = /** @class */ (function (_super) {
    __extends(PhotoLibrary, _super);
    function PhotoLibrary() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    PhotoLibrary.prototype.getLibrary = function (success, error, options) { return cordova(this, "getLibrary", { "observable": true }, arguments); };
    PhotoLibrary.prototype.requestAuthorization = function (options) { return cordova(this, "requestAuthorization", { "callbackOrder": "reverse" }, arguments); };
    PhotoLibrary.prototype.getAlbums = function () { return cordova(this, "getAlbums", { "callbackOrder": "reverse" }, arguments); };
    PhotoLibrary.prototype.getThumbnailURL = function (photo, options) { return cordova(this, "getThumbnailURL", { "successIndex": 1, "errorIndex": 2 }, arguments); };
    PhotoLibrary.prototype.getPhotoURL = function (photo, options) { return cordova(this, "getPhotoURL", { "successIndex": 1, "errorIndex": 2 }, arguments); };
    PhotoLibrary.prototype.getThumbnail = function (photo, options) { return cordova(this, "getThumbnail", { "successIndex": 1, "errorIndex": 2 }, arguments); };
    PhotoLibrary.prototype.getPhoto = function (photo, options) { return cordova(this, "getPhoto", { "successIndex": 1, "errorIndex": 2 }, arguments); };
    PhotoLibrary.prototype.saveImage = function (url, album, options) { return cordova(this, "saveImage", { "successIndex": 2, "errorIndex": 3 }, arguments); };
    PhotoLibrary.prototype.saveVideo = function (url, album) { return cordova(this, "saveVideo", { "successIndex": 2, "errorIndex": 3 }, arguments); };
    PhotoLibrary.pluginName = "PhotoLibrary";
    PhotoLibrary.plugin = "cordova-plugin-photo-library";
    PhotoLibrary.pluginRef = "cordova.plugins.photoLibrary";
    PhotoLibrary.repo = "https://github.com/terikon/cordova-plugin-photo-library";
    PhotoLibrary.install = "ionic cordova plugin add cordova-plugin-photo-library --variable PHOTO_LIBRARY_USAGE_DESCRIPTION=\"To choose photos\"";
    PhotoLibrary.installVariables = ["PHOTO_LIBRARY_USAGE_DESCRIPTION"];
    PhotoLibrary.platforms = ["Android", "Browser", "iOS"];
    PhotoLibrary.decorators = [
        { type: Injectable }
    ];
    return PhotoLibrary;
}(AwesomeCordovaNativePlugin));
export { PhotoLibrary };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvQGF3ZXNvbWUtY29yZG92YS1wbHVnaW5zL3BsdWdpbnMvcGhvdG8tbGlicmFyeS9uZ3gvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sdUNBQXFFLE1BQU0sK0JBQStCLENBQUM7QUFDbEgsT0FBTyxFQUFFLFVBQVUsRUFBWSxNQUFNLE1BQU0sQ0FBQztBQUM1QyxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBZ0IzQzs7Ozs7R0FLRztBQUNILE1BQU0sVUFBVSx1QkFBdUIsQ0FBQyxJQUF5QztJQUF6QyxxQkFBQSxFQUFBLFNBQXlDO0lBQy9FLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO0lBQ3ZCLE9BQU8sVUFBQyxNQUFjLEVBQUUsVUFBa0IsRUFBRSxVQUF3QztRQUNsRixPQUFPO1lBQ0wsS0FBSyxFQUFMO2dCQUFNLGNBQWM7cUJBQWQsVUFBYyxFQUFkLHFCQUFjLEVBQWQsSUFBYztvQkFBZCx5QkFBYzs7Z0JBQ2xCLElBQU0saUJBQWlCLEdBQW9CLElBQUksQ0FBQyxJQUFJLEVBQUUsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7Z0JBQzFGLE9BQU8sSUFBSSxVQUFVLENBQU0sVUFBQyxRQUF1QjtvQkFDakQsSUFBTSxtQkFBbUIsR0FBRyxpQkFBaUIsQ0FBQyxTQUFTLENBQUM7d0JBQ3RELElBQUksRUFBRSxVQUFDLENBQU07NEJBQ1gsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzs0QkFDbEUsSUFBSSxJQUFJLENBQUMsb0JBQW9CLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxFQUFFO2dDQUM3RCxRQUFRLENBQUMsUUFBUSxFQUFFLENBQUM7NkJBQ3JCO3dCQUNILENBQUM7d0JBQ0QsS0FBSyxFQUFFLFVBQUMsR0FBUTs0QkFDZCxRQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO3dCQUN0QixDQUFDO3dCQUNELFFBQVEsRUFBRTs0QkFDUixRQUFRLENBQUMsUUFBUSxFQUFFLENBQUM7d0JBQ3RCLENBQUM7cUJBQ0YsQ0FBQyxDQUFDO29CQUNILE9BQU87d0JBQ0wsbUJBQW1CLENBQUMsV0FBVyxFQUFFLENBQUM7b0JBQ3BDLENBQUMsQ0FBQztnQkFDSixDQUFDLENBQUMsQ0FBQztZQUNMLENBQUM7WUFDRCxVQUFVLEVBQUUsSUFBSTtTQUNqQixDQUFDO0lBQ0osQ0FBQyxDQUFDO0FBQ0osQ0FBQzs7SUFpRGlDLGdDQUEwQjs7OztJQVkxRCxpQ0FBVSxhQUNSLE9BQTZCLEVBQzdCLEtBQTJCLEVBQzNCLE9BQTJCO0lBYzdCLDJDQUFvQixhQUFDLE9BQXFDO0lBWTFELGdDQUFTO0lBZVQsc0NBQWUsYUFBQyxLQUEyQixFQUFFLE9BQTZCO0lBZTFFLGtDQUFXLGFBQUMsS0FBMkIsRUFBRSxPQUFhO0lBZXRELG1DQUFZLGFBQUMsS0FBMkIsRUFBRSxPQUE2QjtJQWV2RSwrQkFBUSxhQUFDLEtBQTJCLEVBQUUsT0FBYTtJQWlCbkQsZ0NBQVMsYUFBQyxHQUFXLEVBQUUsS0FBeUIsRUFBRSxPQUE2QjtJQWUvRSxnQ0FBUyxhQUFDLEdBQVcsRUFBRSxLQUF5Qjs7Ozs7Ozs7O2dCQXRJakQsVUFBVTs7dUJBckdYO0VBc0drQywwQkFBMEI7U0FBL0MsWUFBWSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvcmRvdmEsIENvcmRvdmFPcHRpb25zLCBBd2Vzb21lQ29yZG92YU5hdGl2ZVBsdWdpbiwgUGx1Z2luLCB3cmFwIH0gZnJvbSAnQGF3ZXNvbWUtY29yZG92YS1wbHVnaW5zL2NvcmUnO1xyXG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBPYnNlcnZlciB9IGZyb20gJ3J4anMnO1xyXG5pbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcblxyXG4vKipcclxuICogQGhpZGRlblxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBDb3Jkb3ZhRmluaXRlT2JzZXJ2YWJsZU9wdGlvbnMgZXh0ZW5kcyBDb3Jkb3ZhT3B0aW9ucyB7XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdGhhdCBnZXRzIGEgcmVzdWx0IHJldHVybmVkIGZyb20gcGx1Z2luJ3Mgc3VjY2VzcyBjYWxsYmFjaywgYW5kIGRlY2lkZXMgd2hldGhlciBpdCBpcyBsYXN0IHZhbHVlIGFuZCBvYnNlcnZhYmxlIHNob3VsZCBjb21wbGV0ZS5cclxuICAgKi9cclxuICByZXN1bHRGaW5hbFByZWRpY2F0ZT86IHN0cmluZztcclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGFmdGVyIHJlc3VsdEZpbmFsUHJlZGljYXRlLCBhbmQgcmVtb3ZlcyBzZXJ2aWNlIGRhdGEgdGhhdCBpbmRpY2F0ZXMgZW5kIG9mIHN0cmVhbSBmcm9tIHRoZSByZXN1bHQuXHJcbiAgICovXHJcbiAgcmVzdWx0VHJhbnNmb3JtPzogc3RyaW5nO1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIG9wdHNcclxuICogQGhpZGRlblxyXG4gKlxyXG4gKiBXcmFwcyBtZXRob2QgdGhhdCByZXR1cm5zIGFuIG9ic2VydmFibGUgdGhhdCBjYW4gYmUgY29tcGxldGVkLiBQcm92aWRlZCBvcHRzLnJlc3VsdEZpbmFsUHJlZGljYXRlIGRpY3RhdGVzIHdoZW4gdGhlIG9ic2VydmFibGUgY29tcGxldGVzLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIENvcmRvdmFGaW5pdGVPYnNlcnZhYmxlKG9wdHM6IENvcmRvdmFGaW5pdGVPYnNlcnZhYmxlT3B0aW9ucyA9IHt9KSB7XHJcbiAgb3B0cy5vYnNlcnZhYmxlID0gdHJ1ZTtcclxuICByZXR1cm4gKHRhcmdldDogT2JqZWN0LCBtZXRob2ROYW1lOiBzdHJpbmcsIGRlc2NyaXB0b3I6IFR5cGVkUHJvcGVydHlEZXNjcmlwdG9yPGFueT4pID0+IHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHZhbHVlKC4uLmFyZ3M6IGFueVtdKSB7XHJcbiAgICAgICAgY29uc3Qgd3JhcHBlZE9ic2VydmFibGU6IE9ic2VydmFibGU8YW55PiA9IHdyYXAodGhpcywgbWV0aG9kTmFtZSwgb3B0cykuYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPGFueT4oKG9ic2VydmVyOiBPYnNlcnZlcjxhbnk+KSA9PiB7XHJcbiAgICAgICAgICBjb25zdCB3cmFwcGVkU3Vic2NyaXB0aW9uID0gd3JhcHBlZE9ic2VydmFibGUuc3Vic2NyaWJlKHtcclxuICAgICAgICAgICAgbmV4dDogKHg6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgIG9ic2VydmVyLm5leHQob3B0cy5yZXN1bHRUcmFuc2Zvcm0gPyB4W29wdHMucmVzdWx0VHJhbnNmb3JtXSA6IHgpO1xyXG4gICAgICAgICAgICAgIGlmIChvcHRzLnJlc3VsdEZpbmFsUHJlZGljYXRlICYmIHhbb3B0cy5yZXN1bHRGaW5hbFByZWRpY2F0ZV0pIHtcclxuICAgICAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogKGVycjogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IoZXJyKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY29tcGxldGU6ICgpID0+IHtcclxuICAgICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICB3cmFwcGVkU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LFxyXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgfTtcclxuICB9O1xyXG59XHJcblxyXG4vKipcclxuICogQG5hbWUgUGhvdG8gTGlicmFyeVxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVGhlIFBob3RvTGlicmFyeSBwbHVnaW4gYWxsb3dzIGFjY2VzcyB0byBwaG90b3MgZnJvbSBkZXZpY2UgYnkgdXJsLiBTbyB5b3UgY2FuIHVzZSBwbGFpbiBpbWcgdGFnIHRvIGRpc3BsYXkgcGhvdG9zIGFuZCB0aGVpciB0aHVtYm5haWxzLCBhbmQgZGlmZmVyZW50IDNyZCBwYXJ0eSBsaWJyYXJpZXMgYXMgd2VsbC5cclxuICogU2F2aW5nIHBob3RvcyBhbmQgdmlkZW9zIHRvIHRoZSBsaWJyYXJ5IGlzIGFsc28gc3VwcG9ydGVkLlxyXG4gKiBjZHZwaG90b2xpYnJhcnkgdXJscyBzaG91bGQgYmUgdHJ1c3RlZCBieSBBbmd1bGFyLiBTZWUgcGx1Z2luIGhvbWVwYWdlIHRvIGxlYXJuIGhvdy5cclxuICogQHVzYWdlXHJcbiAqIGBgYHR5cGVzY3JpcHRcclxuICogaW1wb3J0IHsgUGhvdG9MaWJyYXJ5IH0gZnJvbSAnQGF3ZXNvbWUtY29yZG92YS1wbHVnaW5zL3Bob3RvLWxpYnJhcnkvbmd4JztcclxuICpcclxuICogY29uc3RydWN0b3IocHJpdmF0ZSBwaG90b0xpYnJhcnk6IFBob3RvTGlicmFyeSkgeyB9XHJcbiAqXHJcbiAqIHRoaXMucGhvdG9MaWJyYXJ5LnJlcXVlc3RBdXRob3JpemF0aW9uKCkudGhlbigoKSA9PiB7XHJcbiAqICAgdGhpcy5waG90b0xpYnJhcnkuZ2V0TGlicmFyeSgpLnN1YnNjcmliZSh7XHJcbiAqICAgICBuZXh0OiBsaWJyYXJ5ID0+IHtcclxuICogICAgICAgbGlicmFyeS5mb3JFYWNoKGZ1bmN0aW9uKGxpYnJhcnlJdGVtKSB7XHJcbiAqICAgICAgICAgY29uc29sZS5sb2cobGlicmFyeUl0ZW0uaWQpOyAgICAgICAgICAvLyBJRCBvZiB0aGUgcGhvdG9cclxuICogICAgICAgICBjb25zb2xlLmxvZyhsaWJyYXJ5SXRlbS5waG90b1VSTCk7ICAgIC8vIENyb3NzLXBsYXRmb3JtIGFjY2VzcyB0byBwaG90b1xyXG4gKiAgICAgICAgIGNvbnNvbGUubG9nKGxpYnJhcnlJdGVtLnRodW1ibmFpbFVSTCk7Ly8gQ3Jvc3MtcGxhdGZvcm0gYWNjZXNzIHRvIHRodW1ibmFpbFxyXG4gKiAgICAgICAgIGNvbnNvbGUubG9nKGxpYnJhcnlJdGVtLmZpbGVOYW1lKTtcclxuICogICAgICAgICBjb25zb2xlLmxvZyhsaWJyYXJ5SXRlbS53aWR0aCk7XHJcbiAqICAgICAgICAgY29uc29sZS5sb2cobGlicmFyeUl0ZW0uaGVpZ2h0KTtcclxuICogICAgICAgICBjb25zb2xlLmxvZyhsaWJyYXJ5SXRlbS5jcmVhdGlvbkRhdGUpO1xyXG4gKiAgICAgICAgIGNvbnNvbGUubG9nKGxpYnJhcnlJdGVtLmxhdGl0dWRlKTtcclxuICogICAgICAgICBjb25zb2xlLmxvZyhsaWJyYXJ5SXRlbS5sb25naXR1ZGUpO1xyXG4gKiAgICAgICAgIGNvbnNvbGUubG9nKGxpYnJhcnlJdGVtLmFsYnVtSWRzKTsgICAgLy8gYXJyYXkgb2YgaWRzIG9mIGFwcHJvcHJpYXRlIEFsYnVtSXRlbSwgb25seSBvZiBpbmNsdWRlQWxidW1zRGF0YSB3YXMgdXNlZFxyXG4gKiAgICAgICB9KTtcclxuICogICAgIH0sXHJcbiAqICAgICBlcnJvcjogZXJyID0+IHsgY29uc29sZS5sb2coJ2NvdWxkIG5vdCBnZXQgcGhvdG9zJyk7IH0sXHJcbiAqICAgICBjb21wbGV0ZTogKCkgPT4geyBjb25zb2xlLmxvZygnZG9uZSBnZXR0aW5nIHBob3RvcycpOyB9XHJcbiAqICAgfSk7XHJcbiAqIH0pXHJcbiAqIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coJ3Blcm1pc3Npb25zIHdlcmVuXFwndCBncmFudGVkJykpO1xyXG4gKlxyXG4gKiBgYGBcclxuICovXHJcbkBQbHVnaW4oe1xyXG4gIHBsdWdpbk5hbWU6ICdQaG90b0xpYnJhcnknLFxyXG4gIHBsdWdpbjogJ2NvcmRvdmEtcGx1Z2luLXBob3RvLWxpYnJhcnknLFxyXG4gIHBsdWdpblJlZjogJ2NvcmRvdmEucGx1Z2lucy5waG90b0xpYnJhcnknLFxyXG4gIHJlcG86ICdodHRwczovL2dpdGh1Yi5jb20vdGVyaWtvbi9jb3Jkb3ZhLXBsdWdpbi1waG90by1saWJyYXJ5JyxcclxuICBpbnN0YWxsOlxyXG4gICAgJ2lvbmljIGNvcmRvdmEgcGx1Z2luIGFkZCBjb3Jkb3ZhLXBsdWdpbi1waG90by1saWJyYXJ5IC0tdmFyaWFibGUgUEhPVE9fTElCUkFSWV9VU0FHRV9ERVNDUklQVElPTj1cIlRvIGNob29zZSBwaG90b3NcIicsXHJcbiAgaW5zdGFsbFZhcmlhYmxlczogWydQSE9UT19MSUJSQVJZX1VTQUdFX0RFU0NSSVBUSU9OJ10sXHJcbiAgcGxhdGZvcm1zOiBbJ0FuZHJvaWQnLCAnQnJvd3NlcicsICdpT1MnXSxcclxufSlcclxuQEluamVjdGFibGUoKVxyXG5leHBvcnQgY2xhc3MgUGhvdG9MaWJyYXJ5IGV4dGVuZHMgQXdlc29tZUNvcmRvdmFOYXRpdmVQbHVnaW4ge1xyXG4gIC8qKlxyXG4gICAqIFJldHJpZXZlcyBsaWJyYXJ5IGl0ZW1zLiBMaWJyYXJ5IGl0ZW0gY29udGFpbnMgcGhvdG8gbWV0YWRhdGEgbGlrZSB3aWR0aCBhbmQgaGVpZ2h0LCBhcyB3ZWxsIGFzIHBob3RvVVJMIGFuZCB0aHVtYm5haWxVUkwuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gc3VjY2Vzc1xyXG4gICAqIEBwYXJhbSBlcnJvclxyXG4gICAqIEBwYXJhbSBvcHRpb25zIHtHZXRMaWJyYXJ5T3B0aW9uc30gT3B0aW9uYWwsIGxpa2UgdGh1bWJuYWlsIHNpemUgYW5kIGNodW5rcyBzZXR0aW5ncy5cclxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxMaWJyYXJ5SXRlbVtdPn0gUmV0dXJucyBsaWJyYXJ5IGl0ZW1zLiBJZiBhcHByb3ByaWF0ZSBvcHRpb24gd2FzIHNldCwgd2lsbCBiZSByZXR1cm5lZCBieSBjaHVua3MuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoe1xyXG4gICAgb2JzZXJ2YWJsZTogdHJ1ZSxcclxuICB9KVxyXG4gIGdldExpYnJhcnkoXHJcbiAgICBzdWNjZXNzPzogKHJlcz86IGFueSkgPT4gdm9pZCxcclxuICAgIGVycm9yPzogKGVycj86IGFueSkgPT4gdm9pZCxcclxuICAgIG9wdGlvbnM/OiBHZXRMaWJyYXJ5T3B0aW9uc1xyXG4gICk6IE9ic2VydmFibGU8TGlicmFyeUl0ZW1bXT4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQXNrcyB1c2VyIHBlcm1pc3Npb24gdG8gYWNjZXNzIHBob3RvIGxpYnJhcnkuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gb3B0aW9ucyB7UmVxdWVzdEF1dGhvcml6YXRpb25PcHRpb25zfSBPcHRpb25hbCwgbGlrZSB3aGV0aGVyIG9ubHkgcmVhZCBhY2Nlc3MgbmVlZGVkIG9yIHJlYWQvd3JpdGUuXHJcbiAgICogQHJldHVybnMgeyBQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gcGVybWlzc2lvbnMgYXJlIGdyYW50ZWQsIGFuZCBmYWlscyB3aGVuIG5vdC5cclxuICAgKi9cclxuICBAQ29yZG92YSh7XHJcbiAgICBjYWxsYmFja09yZGVyOiAncmV2ZXJzZScsXHJcbiAgfSlcclxuICByZXF1ZXN0QXV0aG9yaXphdGlvbihvcHRpb25zPzogUmVxdWVzdEF1dGhvcml6YXRpb25PcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIGxpc3Qgb2YgcGhvdG8gYWxidW1zIG9uIGRldmljZS5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPEFsYnVtSXRlbVtdPn0gUmVzb2x2ZXMgdG8gbGlzdCBvZiBhbGJ1bXMuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoe1xyXG4gICAgY2FsbGJhY2tPcmRlcjogJ3JldmVyc2UnLFxyXG4gIH0pXHJcbiAgZ2V0QWxidW1zKCk6IFByb21pc2U8QWxidW1JdGVtW10+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFByb3ZpZGVzIG1lYW5zIHRvIHJlcXVlc3QgVVJMIG9mIHRodW1ibmFpbCwgd2l0aCBzcGVjaWZpZWQgc2l6ZSBvciBxdWFsaXR5LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHBob3RvIHtzdHJpbmcgfCBMaWJyYXJ5SXRlbX0gSWQgb2YgcGhvdG8sIG9yIExpYnJhcnlJdGVtLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIHtHZXRUaHVtYm5haWxPcHRpb25zfSBPcHRpb25zLCBsaWtlIHRodW1ibmFpbCBzaXplIG9yIHF1YWxpdHkuXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn0gUmVzb2x2ZXMgdG8gVVJMIG9mIGNkdnBob3RvbGlicmFyeSBzY2hlbWEuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoe1xyXG4gICAgc3VjY2Vzc0luZGV4OiAxLFxyXG4gICAgZXJyb3JJbmRleDogMixcclxuICB9KVxyXG4gIGdldFRodW1ibmFpbFVSTChwaG90bzogc3RyaW5nIHwgTGlicmFyeUl0ZW0sIG9wdGlvbnM/OiBHZXRUaHVtYm5haWxPcHRpb25zKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFByb3ZpZGVzIG1lYW5zIHRvIHJlcXVlc3QgcGhvdG8gVVJMIGJ5IGlkLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHBob3RvIHtzdHJpbmcgfCBMaWJyYXJ5SXRlbX0gSWQgb3IgTGlicmFyeUl0ZW0uXHJcbiAgICogQHBhcmFtIG9wdGlvbnMge0dldFBob3RvT3B0aW9uc30gT3B0aW9uYWwgb3B0aW9ucy5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSBSZXNvbHZlcyB0byBVUkwgb2YgY2R2cGhvdG9saWJyYXJ5IHNjaGVtYS5cclxuICAgKi9cclxuICBAQ29yZG92YSh7XHJcbiAgICBzdWNjZXNzSW5kZXg6IDEsXHJcbiAgICBlcnJvckluZGV4OiAyLFxyXG4gIH0pXHJcbiAgZ2V0UGhvdG9VUkwocGhvdG86IHN0cmluZyB8IExpYnJhcnlJdGVtLCBvcHRpb25zPzogYW55KTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgdGh1bWJuYWlsIGFzIEJsb2IuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gcGhvdG8ge3N0cmluZyB8IExpYnJhcnlJdGVtfSBJZCBvciBMaWJyYXJ5SXRlbS5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyB7R2V0VGh1bWJuYWlsT3B0aW9uc30gT3B0aW9ucywgbGlrZSB0aHVtYm5haWwgc2l6ZSBvciBxdWFsaXR5LlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPEJsb2I+fSBSZXNvbHZlcyByZXF1ZXN0ZWQgdGh1bWJuYWlsIGFzIGJsb2IuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoe1xyXG4gICAgc3VjY2Vzc0luZGV4OiAxLFxyXG4gICAgZXJyb3JJbmRleDogMixcclxuICB9KVxyXG4gIGdldFRodW1ibmFpbChwaG90bzogc3RyaW5nIHwgTGlicmFyeUl0ZW0sIG9wdGlvbnM/OiBHZXRUaHVtYm5haWxPcHRpb25zKTogUHJvbWlzZTxCbG9iPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIHBob3RvIGFzIEJsb2IuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gcGhvdG8ge3N0cmluZyB8IExpYnJhcnlJdGVtfSBJZCBvciBMaWJyYXJ5SXRlbS5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyB7R2V0UGhvdG9PcHRpb25zfSBPcHRpb25hbCBvcHRpb25zLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPEJsb2I+fSBSZXNvbHZlcyByZXF1ZXN0ZWQgcGhvdG8gYXMgYmxvYi5cclxuICAgKi9cclxuICBAQ29yZG92YSh7XHJcbiAgICBzdWNjZXNzSW5kZXg6IDEsXHJcbiAgICBlcnJvckluZGV4OiAyLFxyXG4gIH0pXHJcbiAgZ2V0UGhvdG8ocGhvdG86IHN0cmluZyB8IExpYnJhcnlJdGVtLCBvcHRpb25zPzogYW55KTogUHJvbWlzZTxCbG9iPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTYXZlcyBpbWFnZSB0byBzcGVjaWZpZWQgYWxidW0uIEFsYnVtIHdpbGwgYmUgY3JlYXRlZCBpZiBub3QgZXhpc3RzLlxyXG4gICAqIExpYnJhcnlJdGVtIHRoYXQgcmVwcmVzZW50cyBzYXZlZCBpbWFnZSBpcyByZXR1cm5lZC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB1cmwge3N0cmluZ30gVVJMIG9mIGEgZmlsZSwgb3IgRGF0YVVSTC5cclxuICAgKiBAcGFyYW0gYWxidW0ge0FsYnVtSXRlbSB8IHN0cmluZ30gTmFtZSBvZiBhbiBhbGJ1bSBvciBBbGJ1bUl0ZW0gb2JqZWN0LlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIHtHZXRUaHVtYm5haWxPcHRpb25zfSBPcHRpb25zLCBsaWtlIHRodW1ibmFpbCBzaXplIGZvciByZXN1bHRpbmcgTGlicmFyeUl0ZW0uXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8TGlicmFyeUl0ZW0+fSBSZXNvbHZlcyB0byBMaWJyYXJ5SXRlbSB0aGF0IHJlcHJlc2VudHMgc2F2ZWQgaW1hZ2UuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoe1xyXG4gICAgc3VjY2Vzc0luZGV4OiAyLFxyXG4gICAgZXJyb3JJbmRleDogMyxcclxuICB9KVxyXG4gIHNhdmVJbWFnZSh1cmw6IHN0cmluZywgYWxidW06IEFsYnVtSXRlbSB8IHN0cmluZywgb3B0aW9ucz86IEdldFRodW1ibmFpbE9wdGlvbnMpOiBQcm9taXNlPExpYnJhcnlJdGVtPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTYXZlcyB2aWRlbyB0byBzcGVjaWZpZWQgYWxidW0uIEFsYnVtIHdpbGwgYmUgY3JlYXRlZCBpZiBub3QgZXhpc3RzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCB7c3RyaW5nfSBVUkwgb2YgYSBmaWxlLCBvciBEYXRhVVJMLlxyXG4gICAqIEBwYXJhbSBhbGJ1bSB7QWxidW1JdGVtIHwgc3RyaW5nfSBOYW1lIG9mIGFuIGFsYnVtIG9yIEFsYnVtSXRlbSBvYmplY3QuXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFJlc29sdmVzIHdoZW4gc2F2ZSBvcGVyYXRpb24gY29tcGxldGVzLlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHtcclxuICAgIHN1Y2Nlc3NJbmRleDogMixcclxuICAgIGVycm9ySW5kZXg6IDMsXHJcbiAgfSlcclxuICBzYXZlVmlkZW8odXJsOiBzdHJpbmcsIGFsYnVtOiBBbGJ1bUl0ZW0gfCBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAaGlkZGVuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIExpYnJhcnlJdGVtIHtcclxuICAvKipcclxuICAgKiBMb2NhbCBpZCBvZiB0aGUgcGhvdG9cclxuICAgKi9cclxuICBpZDogc3RyaW5nO1xyXG4gIC8qKlxyXG4gICAqIFVSTCBvZiBjZHZwaG90b2xpYnJhcnkgc2NoZW1hLlxyXG4gICAqL1xyXG4gIHBob3RvVVJMOiBzdHJpbmc7XHJcbiAgLyoqXHJcbiAgICogVVJMIG9mIGNkdnBob3RvbGlicmFyeSBzY2hlbWEuXHJcbiAgICovXHJcbiAgdGh1bWJuYWlsVVJMOiBzdHJpbmc7XHJcbiAgZmlsZU5hbWU6IHN0cmluZztcclxuICB3aWR0aDogbnVtYmVyO1xyXG4gIGhlaWdodDogbnVtYmVyO1xyXG4gIGNyZWF0aW9uRGF0ZTogRGF0ZTtcclxuICBsYXRpdHVkZT86IG51bWJlcjtcclxuICBsb25naXR1ZGU/OiBudW1iZXI7XHJcbiAgYWxidW1JZHM/OiBzdHJpbmdbXTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBoaWRkZW5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQWxidW1JdGVtIHtcclxuICAvKipcclxuICAgKiBMb2NhbCBpZCBvZiB0aGUgYWxidW1cclxuICAgKi9cclxuICBpZDogc3RyaW5nO1xyXG4gIHRpdGxlOiBzdHJpbmc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAaGlkZGVuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEdldExpYnJhcnlPcHRpb25zIHtcclxuICB0aHVtYm5haWxXaWR0aD86IG51bWJlcjtcclxuICB0aHVtYm5haWxIZWlnaHQ/OiBudW1iZXI7XHJcbiAgcXVhbGl0eT86IG51bWJlcjtcclxuICBpdGVtc0luQ2h1bms/OiBudW1iZXI7XHJcbiAgY2h1bmtUaW1lU2VjPzogbnVtYmVyO1xyXG4gIHVzZU9yaWdpbmFsRmlsZU5hbWVzPzogYm9vbGVhbjtcclxuICBpbmNsdWRlQWxidW1EYXRhPzogYm9vbGVhbjtcclxuICBpbmNsdWRlVmlkZW9zPzogYm9vbGVhbjtcclxuICBtYXhJdGVtcz86IG51bWJlcjtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBoaWRkZW5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgUmVxdWVzdEF1dGhvcml6YXRpb25PcHRpb25zIHtcclxuICByZWFkPzogYm9vbGVhbjtcclxuICB3cml0ZT86IGJvb2xlYW47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAaGlkZGVuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEdldFRodW1ibmFpbE9wdGlvbnMge1xyXG4gIHRodW1ibmFpbFdpZHRoPzogbnVtYmVyO1xyXG4gIHRodW1ibmFpbEhlaWdodD86IG51bWJlcjtcclxuICBxdWFsaXR5PzogbnVtYmVyO1xyXG59XHJcbiJdfQ==