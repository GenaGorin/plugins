var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
import { AwesomeCordovaNativePlugin, cordova } from '@awesome-cordova-plugins/core';
import { Observable } from 'rxjs';
/**
 * @param opts
 * @hidden
 *
 * Wraps method that returns an observable that can be completed. Provided opts.resultFinalPredicate dictates when the observable completes.
 */
export function CordovaFiniteObservable(opts) {
    if (opts === void 0) { opts = {}; }
    opts.observable = true;
    return function (target, methodName, descriptor) {
        return {
            value: function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i] = arguments[_i];
                }
                var wrappedObservable = wrap(this, methodName, opts).apply(this, args);
                return new Observable(function (observer) {
                    var wrappedSubscription = wrappedObservable.subscribe({
                        next: function (x) {
                            observer.next(opts.resultTransform ? x[opts.resultTransform] : x);
                            if (opts.resultFinalPredicate && x[opts.resultFinalPredicate]) {
                                observer.complete();
                            }
                        },
                        error: function (err) {
                            observer.error(err);
                        },
                        complete: function () {
                            observer.complete();
                        },
                    });
                    return function () {
                        wrappedSubscription.unsubscribe();
                    };
                });
            },
            enumerable: true,
        };
    };
}
var PhotoLibraryOriginal = /** @class */ (function (_super) {
    __extends(PhotoLibraryOriginal, _super);
    function PhotoLibraryOriginal() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    PhotoLibraryOriginal.prototype.getLibrary = function (success, error, options) { return cordova(this, "getLibrary", { "observable": true }, arguments); };
    PhotoLibraryOriginal.prototype.requestAuthorization = function (options) { return cordova(this, "requestAuthorization", { "callbackOrder": "reverse" }, arguments); };
    PhotoLibraryOriginal.prototype.getAlbums = function () { return cordova(this, "getAlbums", { "callbackOrder": "reverse" }, arguments); };
    PhotoLibraryOriginal.prototype.getThumbnailURL = function (photo, options) { return cordova(this, "getThumbnailURL", { "successIndex": 1, "errorIndex": 2 }, arguments); };
    PhotoLibraryOriginal.prototype.getPhotoURL = function (photo, options) { return cordova(this, "getPhotoURL", { "successIndex": 1, "errorIndex": 2 }, arguments); };
    PhotoLibraryOriginal.prototype.getThumbnail = function (photo, options) { return cordova(this, "getThumbnail", { "successIndex": 1, "errorIndex": 2 }, arguments); };
    PhotoLibraryOriginal.prototype.getPhoto = function (photo, options) { return cordova(this, "getPhoto", { "successIndex": 1, "errorIndex": 2 }, arguments); };
    PhotoLibraryOriginal.prototype.saveImage = function (url, album, options) { return cordova(this, "saveImage", { "successIndex": 2, "errorIndex": 3 }, arguments); };
    PhotoLibraryOriginal.prototype.saveVideo = function (url, album) { return cordova(this, "saveVideo", { "successIndex": 2, "errorIndex": 3 }, arguments); };
    PhotoLibraryOriginal.pluginName = "PhotoLibrary";
    PhotoLibraryOriginal.plugin = "cordova-plugin-photo-library";
    PhotoLibraryOriginal.pluginRef = "cordova.plugins.photoLibrary";
    PhotoLibraryOriginal.repo = "https://github.com/terikon/cordova-plugin-photo-library";
    PhotoLibraryOriginal.install = "ionic cordova plugin add cordova-plugin-photo-library --variable PHOTO_LIBRARY_USAGE_DESCRIPTION=\"To choose photos\"";
    PhotoLibraryOriginal.installVariables = ["PHOTO_LIBRARY_USAGE_DESCRIPTION"];
    PhotoLibraryOriginal.platforms = ["Android", "Browser", "iOS"];
    return PhotoLibraryOriginal;
}(AwesomeCordovaNativePlugin));
var PhotoLibrary = new PhotoLibraryOriginal();
export { PhotoLibrary };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvQGF3ZXNvbWUtY29yZG92YS1wbHVnaW5zL3BsdWdpbnMvcGhvdG8tbGlicmFyeS9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUEsT0FBTyx1Q0FBcUUsTUFBTSwrQkFBK0IsQ0FBQztBQUNsSCxPQUFPLEVBQUUsVUFBVSxFQUFZLE1BQU0sTUFBTSxDQUFDO0FBaUI1Qzs7Ozs7R0FLRztBQUNILE1BQU0sVUFBVSx1QkFBdUIsQ0FBQyxJQUF5QztJQUF6QyxxQkFBQSxFQUFBLFNBQXlDO0lBQy9FLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO0lBQ3ZCLE9BQU8sVUFBQyxNQUFjLEVBQUUsVUFBa0IsRUFBRSxVQUF3QztRQUNsRixPQUFPO1lBQ0wsS0FBSyxFQUFMO2dCQUFNLGNBQWM7cUJBQWQsVUFBYyxFQUFkLHFCQUFjLEVBQWQsSUFBYztvQkFBZCx5QkFBYzs7Z0JBQ2xCLElBQU0saUJBQWlCLEdBQW9CLElBQUksQ0FBQyxJQUFJLEVBQUUsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7Z0JBQzFGLE9BQU8sSUFBSSxVQUFVLENBQU0sVUFBQyxRQUF1QjtvQkFDakQsSUFBTSxtQkFBbUIsR0FBRyxpQkFBaUIsQ0FBQyxTQUFTLENBQUM7d0JBQ3RELElBQUksRUFBRSxVQUFDLENBQU07NEJBQ1gsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzs0QkFDbEUsSUFBSSxJQUFJLENBQUMsb0JBQW9CLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxFQUFFO2dDQUM3RCxRQUFRLENBQUMsUUFBUSxFQUFFLENBQUM7NkJBQ3JCO3dCQUNILENBQUM7d0JBQ0QsS0FBSyxFQUFFLFVBQUMsR0FBUTs0QkFDZCxRQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO3dCQUN0QixDQUFDO3dCQUNELFFBQVEsRUFBRTs0QkFDUixRQUFRLENBQUMsUUFBUSxFQUFFLENBQUM7d0JBQ3RCLENBQUM7cUJBQ0YsQ0FBQyxDQUFDO29CQUNILE9BQU87d0JBQ0wsbUJBQW1CLENBQUMsV0FBVyxFQUFFLENBQUM7b0JBQ3BDLENBQUMsQ0FBQztnQkFDSixDQUFDLENBQUMsQ0FBQztZQUNMLENBQUM7WUFDRCxVQUFVLEVBQUUsSUFBSTtTQUNqQixDQUFDO0lBQ0osQ0FBQyxDQUFDO0FBQ0osQ0FBQzs7SUFpRGlDLGdDQUEwQjs7OztJQVkxRCxpQ0FBVSxhQUNSLE9BQTZCLEVBQzdCLEtBQTJCLEVBQzNCLE9BQTJCO0lBYzdCLDJDQUFvQixhQUFDLE9BQXFDO0lBWTFELGdDQUFTO0lBZVQsc0NBQWUsYUFBQyxLQUEyQixFQUFFLE9BQTZCO0lBZTFFLGtDQUFXLGFBQUMsS0FBMkIsRUFBRSxPQUFhO0lBZXRELG1DQUFZLGFBQUMsS0FBMkIsRUFBRSxPQUE2QjtJQWV2RSwrQkFBUSxhQUFDLEtBQTJCLEVBQUUsT0FBYTtJQWlCbkQsZ0NBQVMsYUFBQyxHQUFXLEVBQUUsS0FBeUIsRUFBRSxPQUE2QjtJQWUvRSxnQ0FBUyxhQUFDLEdBQVcsRUFBRSxLQUF5Qjs7Ozs7Ozs7dUJBM09sRDtFQXNHa0MsMEJBQTBCO1NBQS9DLFlBQVkiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb3Jkb3ZhLCBDb3Jkb3ZhT3B0aW9ucywgQXdlc29tZUNvcmRvdmFOYXRpdmVQbHVnaW4sIFBsdWdpbiwgd3JhcCB9IGZyb20gJ0Bhd2Vzb21lLWNvcmRvdmEtcGx1Z2lucy9jb3JlJztcclxuaW1wb3J0IHsgT2JzZXJ2YWJsZSwgT2JzZXJ2ZXIgfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5cclxuLyoqXHJcbiAqIEBoaWRkZW5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29yZG92YUZpbml0ZU9ic2VydmFibGVPcHRpb25zIGV4dGVuZHMgQ29yZG92YU9wdGlvbnMge1xyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRoYXQgZ2V0cyBhIHJlc3VsdCByZXR1cm5lZCBmcm9tIHBsdWdpbidzIHN1Y2Nlc3MgY2FsbGJhY2ssIGFuZCBkZWNpZGVzIHdoZXRoZXIgaXQgaXMgbGFzdCB2YWx1ZSBhbmQgb2JzZXJ2YWJsZSBzaG91bGQgY29tcGxldGUuXHJcbiAgICovXHJcbiAgcmVzdWx0RmluYWxQcmVkaWNhdGU/OiBzdHJpbmc7XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBhZnRlciByZXN1bHRGaW5hbFByZWRpY2F0ZSwgYW5kIHJlbW92ZXMgc2VydmljZSBkYXRhIHRoYXQgaW5kaWNhdGVzIGVuZCBvZiBzdHJlYW0gZnJvbSB0aGUgcmVzdWx0LlxyXG4gICAqL1xyXG4gIHJlc3VsdFRyYW5zZm9ybT86IHN0cmluZztcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSBvcHRzXHJcbiAqIEBoaWRkZW5cclxuICpcclxuICogV3JhcHMgbWV0aG9kIHRoYXQgcmV0dXJucyBhbiBvYnNlcnZhYmxlIHRoYXQgY2FuIGJlIGNvbXBsZXRlZC4gUHJvdmlkZWQgb3B0cy5yZXN1bHRGaW5hbFByZWRpY2F0ZSBkaWN0YXRlcyB3aGVuIHRoZSBvYnNlcnZhYmxlIGNvbXBsZXRlcy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBDb3Jkb3ZhRmluaXRlT2JzZXJ2YWJsZShvcHRzOiBDb3Jkb3ZhRmluaXRlT2JzZXJ2YWJsZU9wdGlvbnMgPSB7fSkge1xyXG4gIG9wdHMub2JzZXJ2YWJsZSA9IHRydWU7XHJcbiAgcmV0dXJuICh0YXJnZXQ6IE9iamVjdCwgbWV0aG9kTmFtZTogc3RyaW5nLCBkZXNjcmlwdG9yOiBUeXBlZFByb3BlcnR5RGVzY3JpcHRvcjxhbnk+KSA9PiB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB2YWx1ZSguLi5hcmdzOiBhbnlbXSkge1xyXG4gICAgICAgIGNvbnN0IHdyYXBwZWRPYnNlcnZhYmxlOiBPYnNlcnZhYmxlPGFueT4gPSB3cmFwKHRoaXMsIG1ldGhvZE5hbWUsIG9wdHMpLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxhbnk+KChvYnNlcnZlcjogT2JzZXJ2ZXI8YW55PikgPT4ge1xyXG4gICAgICAgICAgY29uc3Qgd3JhcHBlZFN1YnNjcmlwdGlvbiA9IHdyYXBwZWRPYnNlcnZhYmxlLnN1YnNjcmliZSh7XHJcbiAgICAgICAgICAgIG5leHQ6ICh4OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0KG9wdHMucmVzdWx0VHJhbnNmb3JtID8geFtvcHRzLnJlc3VsdFRyYW5zZm9ybV0gOiB4KTtcclxuICAgICAgICAgICAgICBpZiAob3B0cy5yZXN1bHRGaW5hbFByZWRpY2F0ZSAmJiB4W29wdHMucmVzdWx0RmluYWxQcmVkaWNhdGVdKSB7XHJcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IChlcnI6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKGVycik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICAgICAgd3JhcHBlZFN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSxcclxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgIH07XHJcbiAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBuYW1lIFBob3RvIExpYnJhcnlcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoZSBQaG90b0xpYnJhcnkgcGx1Z2luIGFsbG93cyBhY2Nlc3MgdG8gcGhvdG9zIGZyb20gZGV2aWNlIGJ5IHVybC4gU28geW91IGNhbiB1c2UgcGxhaW4gaW1nIHRhZyB0byBkaXNwbGF5IHBob3RvcyBhbmQgdGhlaXIgdGh1bWJuYWlscywgYW5kIGRpZmZlcmVudCAzcmQgcGFydHkgbGlicmFyaWVzIGFzIHdlbGwuXHJcbiAqIFNhdmluZyBwaG90b3MgYW5kIHZpZGVvcyB0byB0aGUgbGlicmFyeSBpcyBhbHNvIHN1cHBvcnRlZC5cclxuICogY2R2cGhvdG9saWJyYXJ5IHVybHMgc2hvdWxkIGJlIHRydXN0ZWQgYnkgQW5ndWxhci4gU2VlIHBsdWdpbiBob21lcGFnZSB0byBsZWFybiBob3cuXHJcbiAqIEB1c2FnZVxyXG4gKiBgYGB0eXBlc2NyaXB0XHJcbiAqIGltcG9ydCB7IFBob3RvTGlicmFyeSB9IGZyb20gJ0Bhd2Vzb21lLWNvcmRvdmEtcGx1Z2lucy9waG90by1saWJyYXJ5L25neCc7XHJcbiAqXHJcbiAqIGNvbnN0cnVjdG9yKHByaXZhdGUgcGhvdG9MaWJyYXJ5OiBQaG90b0xpYnJhcnkpIHsgfVxyXG4gKlxyXG4gKiB0aGlzLnBob3RvTGlicmFyeS5yZXF1ZXN0QXV0aG9yaXphdGlvbigpLnRoZW4oKCkgPT4ge1xyXG4gKiAgIHRoaXMucGhvdG9MaWJyYXJ5LmdldExpYnJhcnkoKS5zdWJzY3JpYmUoe1xyXG4gKiAgICAgbmV4dDogbGlicmFyeSA9PiB7XHJcbiAqICAgICAgIGxpYnJhcnkuZm9yRWFjaChmdW5jdGlvbihsaWJyYXJ5SXRlbSkge1xyXG4gKiAgICAgICAgIGNvbnNvbGUubG9nKGxpYnJhcnlJdGVtLmlkKTsgICAgICAgICAgLy8gSUQgb2YgdGhlIHBob3RvXHJcbiAqICAgICAgICAgY29uc29sZS5sb2cobGlicmFyeUl0ZW0ucGhvdG9VUkwpOyAgICAvLyBDcm9zcy1wbGF0Zm9ybSBhY2Nlc3MgdG8gcGhvdG9cclxuICogICAgICAgICBjb25zb2xlLmxvZyhsaWJyYXJ5SXRlbS50aHVtYm5haWxVUkwpOy8vIENyb3NzLXBsYXRmb3JtIGFjY2VzcyB0byB0aHVtYm5haWxcclxuICogICAgICAgICBjb25zb2xlLmxvZyhsaWJyYXJ5SXRlbS5maWxlTmFtZSk7XHJcbiAqICAgICAgICAgY29uc29sZS5sb2cobGlicmFyeUl0ZW0ud2lkdGgpO1xyXG4gKiAgICAgICAgIGNvbnNvbGUubG9nKGxpYnJhcnlJdGVtLmhlaWdodCk7XHJcbiAqICAgICAgICAgY29uc29sZS5sb2cobGlicmFyeUl0ZW0uY3JlYXRpb25EYXRlKTtcclxuICogICAgICAgICBjb25zb2xlLmxvZyhsaWJyYXJ5SXRlbS5sYXRpdHVkZSk7XHJcbiAqICAgICAgICAgY29uc29sZS5sb2cobGlicmFyeUl0ZW0ubG9uZ2l0dWRlKTtcclxuICogICAgICAgICBjb25zb2xlLmxvZyhsaWJyYXJ5SXRlbS5hbGJ1bUlkcyk7ICAgIC8vIGFycmF5IG9mIGlkcyBvZiBhcHByb3ByaWF0ZSBBbGJ1bUl0ZW0sIG9ubHkgb2YgaW5jbHVkZUFsYnVtc0RhdGEgd2FzIHVzZWRcclxuICogICAgICAgfSk7XHJcbiAqICAgICB9LFxyXG4gKiAgICAgZXJyb3I6IGVyciA9PiB7IGNvbnNvbGUubG9nKCdjb3VsZCBub3QgZ2V0IHBob3RvcycpOyB9LFxyXG4gKiAgICAgY29tcGxldGU6ICgpID0+IHsgY29uc29sZS5sb2coJ2RvbmUgZ2V0dGluZyBwaG90b3MnKTsgfVxyXG4gKiAgIH0pO1xyXG4gKiB9KVxyXG4gKiAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKCdwZXJtaXNzaW9ucyB3ZXJlblxcJ3QgZ3JhbnRlZCcpKTtcclxuICpcclxuICogYGBgXHJcbiAqL1xyXG5AUGx1Z2luKHtcclxuICBwbHVnaW5OYW1lOiAnUGhvdG9MaWJyYXJ5JyxcclxuICBwbHVnaW46ICdjb3Jkb3ZhLXBsdWdpbi1waG90by1saWJyYXJ5JyxcclxuICBwbHVnaW5SZWY6ICdjb3Jkb3ZhLnBsdWdpbnMucGhvdG9MaWJyYXJ5JyxcclxuICByZXBvOiAnaHR0cHM6Ly9naXRodWIuY29tL3Rlcmlrb24vY29yZG92YS1wbHVnaW4tcGhvdG8tbGlicmFyeScsXHJcbiAgaW5zdGFsbDpcclxuICAgICdpb25pYyBjb3Jkb3ZhIHBsdWdpbiBhZGQgY29yZG92YS1wbHVnaW4tcGhvdG8tbGlicmFyeSAtLXZhcmlhYmxlIFBIT1RPX0xJQlJBUllfVVNBR0VfREVTQ1JJUFRJT049XCJUbyBjaG9vc2UgcGhvdG9zXCInLFxyXG4gIGluc3RhbGxWYXJpYWJsZXM6IFsnUEhPVE9fTElCUkFSWV9VU0FHRV9ERVNDUklQVElPTiddLFxyXG4gIHBsYXRmb3JtczogWydBbmRyb2lkJywgJ0Jyb3dzZXInLCAnaU9TJ10sXHJcbn0pXHJcbkBJbmplY3RhYmxlKClcclxuZXhwb3J0IGNsYXNzIFBob3RvTGlicmFyeSBleHRlbmRzIEF3ZXNvbWVDb3Jkb3ZhTmF0aXZlUGx1Z2luIHtcclxuICAvKipcclxuICAgKiBSZXRyaWV2ZXMgbGlicmFyeSBpdGVtcy4gTGlicmFyeSBpdGVtIGNvbnRhaW5zIHBob3RvIG1ldGFkYXRhIGxpa2Ugd2lkdGggYW5kIGhlaWdodCwgYXMgd2VsbCBhcyBwaG90b1VSTCBhbmQgdGh1bWJuYWlsVVJMLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHN1Y2Nlc3NcclxuICAgKiBAcGFyYW0gZXJyb3JcclxuICAgKiBAcGFyYW0gb3B0aW9ucyB7R2V0TGlicmFyeU9wdGlvbnN9IE9wdGlvbmFsLCBsaWtlIHRodW1ibmFpbCBzaXplIGFuZCBjaHVua3Mgc2V0dGluZ3MuXHJcbiAgICogQHJldHVybnMge09ic2VydmFibGU8TGlicmFyeUl0ZW1bXT59IFJldHVybnMgbGlicmFyeSBpdGVtcy4gSWYgYXBwcm9wcmlhdGUgb3B0aW9uIHdhcyBzZXQsIHdpbGwgYmUgcmV0dXJuZWQgYnkgY2h1bmtzLlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHtcclxuICAgIG9ic2VydmFibGU6IHRydWUsXHJcbiAgfSlcclxuICBnZXRMaWJyYXJ5KFxyXG4gICAgc3VjY2Vzcz86IChyZXM/OiBhbnkpID0+IHZvaWQsXHJcbiAgICBlcnJvcj86IChlcnI/OiBhbnkpID0+IHZvaWQsXHJcbiAgICBvcHRpb25zPzogR2V0TGlicmFyeU9wdGlvbnNcclxuICApOiBPYnNlcnZhYmxlPExpYnJhcnlJdGVtW10+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFza3MgdXNlciBwZXJtaXNzaW9uIHRvIGFjY2VzcyBwaG90byBsaWJyYXJ5LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIG9wdGlvbnMge1JlcXVlc3RBdXRob3JpemF0aW9uT3B0aW9uc30gT3B0aW9uYWwsIGxpa2Ugd2hldGhlciBvbmx5IHJlYWQgYWNjZXNzIG5lZWRlZCBvciByZWFkL3dyaXRlLlxyXG4gICAqIEByZXR1cm5zIHsgUHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHBlcm1pc3Npb25zIGFyZSBncmFudGVkLCBhbmQgZmFpbHMgd2hlbiBub3QuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoe1xyXG4gICAgY2FsbGJhY2tPcmRlcjogJ3JldmVyc2UnLFxyXG4gIH0pXHJcbiAgcmVxdWVzdEF1dGhvcml6YXRpb24ob3B0aW9ucz86IFJlcXVlc3RBdXRob3JpemF0aW9uT3B0aW9ucyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyBsaXN0IG9mIHBob3RvIGFsYnVtcyBvbiBkZXZpY2UuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBbGJ1bUl0ZW1bXT59IFJlc29sdmVzIHRvIGxpc3Qgb2YgYWxidW1zLlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHtcclxuICAgIGNhbGxiYWNrT3JkZXI6ICdyZXZlcnNlJyxcclxuICB9KVxyXG4gIGdldEFsYnVtcygpOiBQcm9taXNlPEFsYnVtSXRlbVtdPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBQcm92aWRlcyBtZWFucyB0byByZXF1ZXN0IFVSTCBvZiB0aHVtYm5haWwsIHdpdGggc3BlY2lmaWVkIHNpemUgb3IgcXVhbGl0eS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBwaG90byB7c3RyaW5nIHwgTGlicmFyeUl0ZW19IElkIG9mIHBob3RvLCBvciBMaWJyYXJ5SXRlbS5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyB7R2V0VGh1bWJuYWlsT3B0aW9uc30gT3B0aW9ucywgbGlrZSB0aHVtYm5haWwgc2l6ZSBvciBxdWFsaXR5LlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IFJlc29sdmVzIHRvIFVSTCBvZiBjZHZwaG90b2xpYnJhcnkgc2NoZW1hLlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHtcclxuICAgIHN1Y2Nlc3NJbmRleDogMSxcclxuICAgIGVycm9ySW5kZXg6IDIsXHJcbiAgfSlcclxuICBnZXRUaHVtYm5haWxVUkwocGhvdG86IHN0cmluZyB8IExpYnJhcnlJdGVtLCBvcHRpb25zPzogR2V0VGh1bWJuYWlsT3B0aW9ucyk6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBQcm92aWRlcyBtZWFucyB0byByZXF1ZXN0IHBob3RvIFVSTCBieSBpZC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBwaG90byB7c3RyaW5nIHwgTGlicmFyeUl0ZW19IElkIG9yIExpYnJhcnlJdGVtLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIHtHZXRQaG90b09wdGlvbnN9IE9wdGlvbmFsIG9wdGlvbnMuXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn0gUmVzb2x2ZXMgdG8gVVJMIG9mIGNkdnBob3RvbGlicmFyeSBzY2hlbWEuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoe1xyXG4gICAgc3VjY2Vzc0luZGV4OiAxLFxyXG4gICAgZXJyb3JJbmRleDogMixcclxuICB9KVxyXG4gIGdldFBob3RvVVJMKHBob3RvOiBzdHJpbmcgfCBMaWJyYXJ5SXRlbSwgb3B0aW9ucz86IGFueSk6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIHRodW1ibmFpbCBhcyBCbG9iLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHBob3RvIHtzdHJpbmcgfCBMaWJyYXJ5SXRlbX0gSWQgb3IgTGlicmFyeUl0ZW0uXHJcbiAgICogQHBhcmFtIG9wdGlvbnMge0dldFRodW1ibmFpbE9wdGlvbnN9IE9wdGlvbnMsIGxpa2UgdGh1bWJuYWlsIHNpemUgb3IgcXVhbGl0eS5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxCbG9iPn0gUmVzb2x2ZXMgcmVxdWVzdGVkIHRodW1ibmFpbCBhcyBibG9iLlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHtcclxuICAgIHN1Y2Nlc3NJbmRleDogMSxcclxuICAgIGVycm9ySW5kZXg6IDIsXHJcbiAgfSlcclxuICBnZXRUaHVtYm5haWwocGhvdG86IHN0cmluZyB8IExpYnJhcnlJdGVtLCBvcHRpb25zPzogR2V0VGh1bWJuYWlsT3B0aW9ucyk6IFByb21pc2U8QmxvYj4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyBwaG90byBhcyBCbG9iLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHBob3RvIHtzdHJpbmcgfCBMaWJyYXJ5SXRlbX0gSWQgb3IgTGlicmFyeUl0ZW0uXHJcbiAgICogQHBhcmFtIG9wdGlvbnMge0dldFBob3RvT3B0aW9uc30gT3B0aW9uYWwgb3B0aW9ucy5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxCbG9iPn0gUmVzb2x2ZXMgcmVxdWVzdGVkIHBob3RvIGFzIGJsb2IuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoe1xyXG4gICAgc3VjY2Vzc0luZGV4OiAxLFxyXG4gICAgZXJyb3JJbmRleDogMixcclxuICB9KVxyXG4gIGdldFBob3RvKHBob3RvOiBzdHJpbmcgfCBMaWJyYXJ5SXRlbSwgb3B0aW9ucz86IGFueSk6IFByb21pc2U8QmxvYj4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2F2ZXMgaW1hZ2UgdG8gc3BlY2lmaWVkIGFsYnVtLiBBbGJ1bSB3aWxsIGJlIGNyZWF0ZWQgaWYgbm90IGV4aXN0cy5cclxuICAgKiBMaWJyYXJ5SXRlbSB0aGF0IHJlcHJlc2VudHMgc2F2ZWQgaW1hZ2UgaXMgcmV0dXJuZWQuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gdXJsIHtzdHJpbmd9IFVSTCBvZiBhIGZpbGUsIG9yIERhdGFVUkwuXHJcbiAgICogQHBhcmFtIGFsYnVtIHtBbGJ1bUl0ZW0gfCBzdHJpbmd9IE5hbWUgb2YgYW4gYWxidW0gb3IgQWxidW1JdGVtIG9iamVjdC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyB7R2V0VGh1bWJuYWlsT3B0aW9uc30gT3B0aW9ucywgbGlrZSB0aHVtYm5haWwgc2l6ZSBmb3IgcmVzdWx0aW5nIExpYnJhcnlJdGVtLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPExpYnJhcnlJdGVtPn0gUmVzb2x2ZXMgdG8gTGlicmFyeUl0ZW0gdGhhdCByZXByZXNlbnRzIHNhdmVkIGltYWdlLlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHtcclxuICAgIHN1Y2Nlc3NJbmRleDogMixcclxuICAgIGVycm9ySW5kZXg6IDMsXHJcbiAgfSlcclxuICBzYXZlSW1hZ2UodXJsOiBzdHJpbmcsIGFsYnVtOiBBbGJ1bUl0ZW0gfCBzdHJpbmcsIG9wdGlvbnM/OiBHZXRUaHVtYm5haWxPcHRpb25zKTogUHJvbWlzZTxMaWJyYXJ5SXRlbT4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2F2ZXMgdmlkZW8gdG8gc3BlY2lmaWVkIGFsYnVtLiBBbGJ1bSB3aWxsIGJlIGNyZWF0ZWQgaWYgbm90IGV4aXN0cy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB1cmwge3N0cmluZ30gVVJMIG9mIGEgZmlsZSwgb3IgRGF0YVVSTC5cclxuICAgKiBAcGFyYW0gYWxidW0ge0FsYnVtSXRlbSB8IHN0cmluZ30gTmFtZSBvZiBhbiBhbGJ1bSBvciBBbGJ1bUl0ZW0gb2JqZWN0LlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXNvbHZlcyB3aGVuIHNhdmUgb3BlcmF0aW9uIGNvbXBsZXRlcy5cclxuICAgKi9cclxuICBAQ29yZG92YSh7XHJcbiAgICBzdWNjZXNzSW5kZXg6IDIsXHJcbiAgICBlcnJvckluZGV4OiAzLFxyXG4gIH0pXHJcbiAgc2F2ZVZpZGVvKHVybDogc3RyaW5nLCBhbGJ1bTogQWxidW1JdGVtIHwgc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogQGhpZGRlblxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBMaWJyYXJ5SXRlbSB7XHJcbiAgLyoqXHJcbiAgICogTG9jYWwgaWQgb2YgdGhlIHBob3RvXHJcbiAgICovXHJcbiAgaWQ6IHN0cmluZztcclxuICAvKipcclxuICAgKiBVUkwgb2YgY2R2cGhvdG9saWJyYXJ5IHNjaGVtYS5cclxuICAgKi9cclxuICBwaG90b1VSTDogc3RyaW5nO1xyXG4gIC8qKlxyXG4gICAqIFVSTCBvZiBjZHZwaG90b2xpYnJhcnkgc2NoZW1hLlxyXG4gICAqL1xyXG4gIHRodW1ibmFpbFVSTDogc3RyaW5nO1xyXG4gIGZpbGVOYW1lOiBzdHJpbmc7XHJcbiAgd2lkdGg6IG51bWJlcjtcclxuICBoZWlnaHQ6IG51bWJlcjtcclxuICBjcmVhdGlvbkRhdGU6IERhdGU7XHJcbiAgbGF0aXR1ZGU/OiBudW1iZXI7XHJcbiAgbG9uZ2l0dWRlPzogbnVtYmVyO1xyXG4gIGFsYnVtSWRzPzogc3RyaW5nW107XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAaGlkZGVuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEFsYnVtSXRlbSB7XHJcbiAgLyoqXHJcbiAgICogTG9jYWwgaWQgb2YgdGhlIGFsYnVtXHJcbiAgICovXHJcbiAgaWQ6IHN0cmluZztcclxuICB0aXRsZTogc3RyaW5nO1xyXG59XHJcblxyXG4vKipcclxuICogQGhpZGRlblxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBHZXRMaWJyYXJ5T3B0aW9ucyB7XHJcbiAgdGh1bWJuYWlsV2lkdGg/OiBudW1iZXI7XHJcbiAgdGh1bWJuYWlsSGVpZ2h0PzogbnVtYmVyO1xyXG4gIHF1YWxpdHk/OiBudW1iZXI7XHJcbiAgaXRlbXNJbkNodW5rPzogbnVtYmVyO1xyXG4gIGNodW5rVGltZVNlYz86IG51bWJlcjtcclxuICB1c2VPcmlnaW5hbEZpbGVOYW1lcz86IGJvb2xlYW47XHJcbiAgaW5jbHVkZUFsYnVtRGF0YT86IGJvb2xlYW47XHJcbiAgaW5jbHVkZVZpZGVvcz86IGJvb2xlYW47XHJcbiAgbWF4SXRlbXM/OiBudW1iZXI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAaGlkZGVuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFJlcXVlc3RBdXRob3JpemF0aW9uT3B0aW9ucyB7XHJcbiAgcmVhZD86IGJvb2xlYW47XHJcbiAgd3JpdGU/OiBib29sZWFuO1xyXG59XHJcblxyXG4vKipcclxuICogQGhpZGRlblxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBHZXRUaHVtYm5haWxPcHRpb25zIHtcclxuICB0aHVtYm5haWxXaWR0aD86IG51bWJlcjtcclxuICB0aHVtYm5haWxIZWlnaHQ/OiBudW1iZXI7XHJcbiAgcXVhbGl0eT86IG51bWJlcjtcclxufVxyXG4iXX0=