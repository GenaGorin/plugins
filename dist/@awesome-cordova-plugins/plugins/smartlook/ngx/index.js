import { __extends } from "tslib";
import { Injectable } from '@angular/core';
import { AwesomeCordovaNativePlugin, cordova } from '@awesome-cordova-plugins/core';
var SmartlookSetupConfigBuilder = /** @class */ (function () {
    function SmartlookSetupConfigBuilder(smartlookAPIKey) {
        this._smartlookSetupConfig = new SmartlookSetupConfig(smartlookAPIKey);
    }
    SmartlookSetupConfigBuilder.prototype.fps = function (fps) {
        this._smartlookSetupConfig.fps = fps;
        return this;
    };
    SmartlookSetupConfigBuilder.prototype.renderingMode = function (renderingMode) {
        this._smartlookSetupConfig.renderingMode = renderingMode.getRenderingModeString();
        return this;
    };
    SmartlookSetupConfigBuilder.prototype.startNewSession = function (startNewSession) {
        this._smartlookSetupConfig.startNewSession = startNewSession;
        return this;
    };
    SmartlookSetupConfigBuilder.prototype.startNewSessionAndUser = function (startNewSessionAndUser) {
        this._smartlookSetupConfig.startNewSessionAndUser = startNewSessionAndUser;
        return this;
    };
    SmartlookSetupConfigBuilder.prototype.eventTrackingModes = function (eventTrackingModes) {
        this._smartlookSetupConfig.eventTrackingModes = eventTrackingModes.getEventTrackingModeStringArray();
        return this;
    };
    SmartlookSetupConfigBuilder.prototype.build = function () {
        return this._smartlookSetupConfig;
    };
    return SmartlookSetupConfigBuilder;
}());
export { SmartlookSetupConfigBuilder };
var SmartlookSetupConfig = /** @class */ (function () {
    function SmartlookSetupConfig(smartlookAPIKey) {
        this.smartlookAPIKey = smartlookAPIKey;
    }
    return SmartlookSetupConfig;
}());
export { SmartlookSetupConfig };
var SmartlookResetSession = /** @class */ (function () {
    function SmartlookResetSession(resetUser) {
        this.resetUser = resetUser;
    }
    return SmartlookResetSession;
}());
export { SmartlookResetSession };
var SmartlookUserIdentifier = /** @class */ (function () {
    function SmartlookUserIdentifier(identifier, sessionProperties) {
        this.identifier = identifier;
        this.sessionProperties = sessionProperties;
    }
    return SmartlookUserIdentifier;
}());
export { SmartlookUserIdentifier };
var SmartlookEventTrackingMode = /** @class */ (function () {
    function SmartlookEventTrackingMode(eventTrackingMode) {
        this.eventTrackingMode = eventTrackingMode;
    }
    SmartlookEventTrackingMode.FULL_TRACKING = function () {
        return new SmartlookEventTrackingMode('full_tracking');
    };
    SmartlookEventTrackingMode.IGNORE_USER_INTERACTION = function () {
        return new SmartlookEventTrackingMode('ignore_user_interaction');
    };
    SmartlookEventTrackingMode.IGNORE_NAVIGATION_INTERACTION = function () {
        return new SmartlookEventTrackingMode('ignore_navigation_interaction');
    };
    SmartlookEventTrackingMode.IGNORE_RAGE_CLICKS = function () {
        return new SmartlookEventTrackingMode('ignore_rage_clicks');
    };
    SmartlookEventTrackingMode.NO_TRACKING = function () {
        return new SmartlookEventTrackingMode('no_tracking');
    };
    SmartlookEventTrackingMode.prototype.getEventTrackingModeString = function () {
        return this.eventTrackingMode;
    };
    return SmartlookEventTrackingMode;
}());
export { SmartlookEventTrackingMode };
var SmartlookEventTrackingModes = /** @class */ (function () {
    function SmartlookEventTrackingModes(eventTrackingModes) {
        this.eventTrackingModes = eventTrackingModes.map(function (eventTrackingMode) {
            return eventTrackingMode.getEventTrackingModeString();
        });
    }
    SmartlookEventTrackingModes.prototype.getEventTrackingModeStringArray = function () {
        return this.eventTrackingModes;
    };
    return SmartlookEventTrackingModes;
}());
export { SmartlookEventTrackingModes };
var SmartlookViewState = /** @class */ (function () {
    function SmartlookViewState() {
    }
    SmartlookViewState.START = 'start';
    SmartlookViewState.STOP = 'stop';
    return SmartlookViewState;
}());
export { SmartlookViewState };
var SmartlookNavigationEvent = /** @class */ (function () {
    function SmartlookNavigationEvent(name, viewState) {
        this.name = name;
        this.viewState = this.viewState;
    }
    return SmartlookNavigationEvent;
}());
export { SmartlookNavigationEvent };
var SmartlookCustomEvent = /** @class */ (function () {
    function SmartlookCustomEvent(name, eventProperties) {
        this.name = name;
        this.eventProperties = eventProperties;
    }
    return SmartlookCustomEvent;
}());
export { SmartlookCustomEvent };
var SmartlookTimedCustomEventStart = /** @class */ (function () {
    function SmartlookTimedCustomEventStart(name, eventProperties) {
        this.name = name;
        this.eventProperties = eventProperties;
    }
    return SmartlookTimedCustomEventStart;
}());
export { SmartlookTimedCustomEventStart };
var SmartlookTimedCustomEventStop = /** @class */ (function () {
    function SmartlookTimedCustomEventStop(eventId, eventProperties) {
        this.eventId = eventId;
        this.eventProperties = eventProperties;
    }
    return SmartlookTimedCustomEventStop;
}());
export { SmartlookTimedCustomEventStop };
var SmartlookTimedCustomEventCancel = /** @class */ (function () {
    function SmartlookTimedCustomEventCancel(eventId, reason, eventProperties) {
        this.eventId = eventId;
        this.reason = reason;
        this.eventProperties = eventProperties;
    }
    return SmartlookTimedCustomEventCancel;
}());
export { SmartlookTimedCustomEventCancel };
var SmartlookGlobalEventProperties = /** @class */ (function () {
    function SmartlookGlobalEventProperties(globalEventProperties, immutable) {
        this.globalEventProperties = globalEventProperties;
        this.immutable = immutable;
    }
    return SmartlookGlobalEventProperties;
}());
export { SmartlookGlobalEventProperties };
var SmartlookGlobalEventProperty = /** @class */ (function () {
    function SmartlookGlobalEventProperty(key, value, immutable) {
        this.key = key;
        this.value = value;
        this.immutable = immutable;
    }
    return SmartlookGlobalEventProperty;
}());
export { SmartlookGlobalEventProperty };
var SmartlookGlobalEventPropertyKey = /** @class */ (function () {
    function SmartlookGlobalEventPropertyKey(key) {
        this.key = key;
    }
    return SmartlookGlobalEventPropertyKey;
}());
export { SmartlookGlobalEventPropertyKey };
var SmartlookReferrer = /** @class */ (function () {
    function SmartlookReferrer(referrer, source) {
        this.referrer = referrer;
        this.source = source;
    }
    return SmartlookReferrer;
}());
export { SmartlookReferrer };
var SmartlookDashboardSessionUrl = /** @class */ (function () {
    function SmartlookDashboardSessionUrl(withCurrentTimestamp) {
        this.withCurrentTimestamp = withCurrentTimestamp;
    }
    return SmartlookDashboardSessionUrl;
}());
export { SmartlookDashboardSessionUrl };
var SmartlookRenderingMode = /** @class */ (function () {
    function SmartlookRenderingMode(renderingMode) {
        this.renderingMode = renderingMode;
    }
    SmartlookRenderingMode.NO_RENDERING = function () {
        return new SmartlookRenderingMode('no_rendering');
    };
    SmartlookRenderingMode.NATIVE = function () {
        return new SmartlookRenderingMode('native');
    };
    SmartlookRenderingMode.prototype.getRenderingModeString = function () {
        return this.renderingMode;
    };
    return SmartlookRenderingMode;
}());
export { SmartlookRenderingMode };
var Smartlook = /** @class */ (function (_super) {
    __extends(Smartlook, _super);
    function Smartlook() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Smartlook.prototype.setupAndStartRecording = function (config) { return cordova(this, "setupAndStartRecording", { "sync": true }, arguments); };
    Smartlook.prototype.setup = function (config) { return cordova(this, "setup", { "sync": true }, arguments); };
    Smartlook.prototype.startRecording = function () { return cordova(this, "startRecording", { "sync": true }, arguments); };
    Smartlook.prototype.stopRecording = function () { return cordova(this, "stopRecording", { "sync": true }, arguments); };
    Smartlook.prototype.isRecording = function () { return cordova(this, "isRecording", {}, arguments); };
    Smartlook.prototype.resetSession = function (resetSession) { return cordova(this, "resetSession", { "sync": true }, arguments); };
    Smartlook.prototype.startFullscreenSensitiveMode = function () { return cordova(this, "startFullscreenSensitiveMode", { "sync": true }, arguments); };
    Smartlook.prototype.stopFullscreenSensitiveMode = function () { return cordova(this, "stopFullscreenSensitiveMode", { "sync": true }, arguments); };
    Smartlook.prototype.isFullscreenSensitiveModeActive = function () { return cordova(this, "isFullscreenSensitiveModeActive", {}, arguments); };
    Smartlook.prototype.setUserIdentifier = function (identifier) { return cordova(this, "setUserIdentifier", { "sync": true }, arguments); };
    Smartlook.prototype.setEventTrackingMode = function (eventTrackingMode) { return cordova(this, "setEventTrackingMode", { "sync": true }, arguments); };
    Smartlook.prototype.setEventTrackingModes = function (eventTrackingModes) { return cordova(this, "setEventTrackingModes", { "sync": true }, arguments); };
    Smartlook.prototype.trackNavigationEvent = function (navigationEvent) { return cordova(this, "trackNavigationEvent", { "sync": true }, arguments); };
    Smartlook.prototype.startTimedCustomEvent = function (timedEvent) { return cordova(this, "startTimedCustomEvent", {}, arguments); };
    Smartlook.prototype.stopTimedCustomEvent = function (timedEvent) { return cordova(this, "stopTimedCustomEvent", { "sync": true }, arguments); };
    Smartlook.prototype.cancelTimedCustomEvent = function (timedEvent) { return cordova(this, "cancelTimedCustomEvent", { "sync": true }, arguments); };
    Smartlook.prototype.trackCustomEvent = function (event) { return cordova(this, "trackCustomEvent", { "sync": true }, arguments); };
    Smartlook.prototype.setGlobalEventProperties = function (properties) { return cordova(this, "setGlobalEventProperties", { "sync": true }, arguments); };
    Smartlook.prototype.setGlobalEventProperty = function (property) { return cordova(this, "setGlobalEventProperty", { "sync": true }, arguments); };
    Smartlook.prototype.removeGlobalEventProperty = function (property) { return cordova(this, "removeGlobalEventProperty", { "sync": true }, arguments); };
    Smartlook.prototype.removeAllGlobalEventProperties = function () { return cordova(this, "removeAllGlobalEventProperties", { "sync": true }, arguments); };
    Smartlook.prototype.setReferrer = function (referrer) { return cordova(this, "setReferrer", { "sync": true }, arguments); };
    Smartlook.prototype.getDashboardSessionUrl = function (smartlookDashboardSessionUrl) { return cordova(this, "getDashboardSessionUrl", {}, arguments); };
    Smartlook.prototype.getDashboardVisitorUrl = function () { return cordova(this, "getDashboardVisitorUrl", {}, arguments); };
    Smartlook.prototype.registerIntegrationListener = function (integrationListener) { return cordova(this, "registerIntegrationListener", { "sync": true }, arguments); };
    Smartlook.prototype.setRenderingMode = function (renderingMode) { return cordova(this, "setRenderingMode", { "sync": true }, arguments); };
    Smartlook.prototype.unregisterIntegrationListener = function () { return cordova(this, "unregisterIntegrationListener", { "sync": true }, arguments); };
    Smartlook.pluginName = "Smartlook";
    Smartlook.plugin = "https://github.com/smartlook/cordova-smartlook.git";
    Smartlook.pluginRef = "cordova.plugins.SmartlookPlugin";
    Smartlook.repo = "https://github.com/smartlook/cordova-smartlook.git";
    Smartlook.platforms = ["Android", "iOS"];
    Smartlook.decorators = [
        { type: Injectable }
    ];
    return Smartlook;
}(AwesomeCordovaNativePlugin));
export { Smartlook };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvQGF3ZXNvbWUtY29yZG92YS1wbHVnaW5zL3BsdWdpbnMvc21hcnRsb29rL25neC9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzQyxPQUFPLHVDQUErQyxNQUFNLCtCQUErQixDQUFDOztJQUsxRixxQ0FBWSxlQUF1QjtRQUNqQyxJQUFJLENBQUMscUJBQXFCLEdBQUcsSUFBSSxvQkFBb0IsQ0FBQyxlQUFlLENBQUMsQ0FBQztJQUN6RSxDQUFDO0lBRUQseUNBQUcsR0FBSCxVQUFJLEdBQVc7UUFDYixJQUFJLENBQUMscUJBQXFCLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUNyQyxPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRCxtREFBYSxHQUFiLFVBQWMsYUFBcUM7UUFDakQsSUFBSSxDQUFDLHFCQUFxQixDQUFDLGFBQWEsR0FBRyxhQUFhLENBQUMsc0JBQXNCLEVBQUUsQ0FBQztRQUNsRixPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRCxxREFBZSxHQUFmLFVBQWdCLGVBQXdCO1FBQ3RDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxlQUFlLEdBQUcsZUFBZSxDQUFDO1FBQzdELE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUVELDREQUFzQixHQUF0QixVQUF1QixzQkFBK0I7UUFDcEQsSUFBSSxDQUFDLHFCQUFxQixDQUFDLHNCQUFzQixHQUFHLHNCQUFzQixDQUFDO1FBQzNFLE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUVELHdEQUFrQixHQUFsQixVQUFtQixrQkFBK0M7UUFDaEUsSUFBSSxDQUFDLHFCQUFxQixDQUFDLGtCQUFrQixHQUFHLGtCQUFrQixDQUFDLCtCQUErQixFQUFFLENBQUM7UUFDckcsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBRUQsMkNBQUssR0FBTDtRQUNFLE9BQU8sSUFBSSxDQUFDLHFCQUFxQixDQUFDO0lBQ3BDLENBQUM7c0NBckNIOzs7O0lBZ0RFLDhCQUFZLGVBQXVCO1FBQ2pDLElBQUksQ0FBQyxlQUFlLEdBQUcsZUFBZSxDQUFDO0lBQ3pDLENBQUM7K0JBbERIOzs7O0lBd0RFLCtCQUFZLFNBQWtCO1FBQzVCLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO0lBQzdCLENBQUM7Z0NBMURIOzs7O0lBaUVFLGlDQUFZLFVBQWtCLEVBQUUsaUJBQXNCO1FBQ3BELElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFDO1FBQzdCLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxpQkFBaUIsQ0FBQztJQUM3QyxDQUFDO2tDQXBFSDs7OztJQWtHRSxvQ0FBWSxpQkFBeUI7UUFDbkMsSUFBSSxDQUFDLGlCQUFpQixHQUFHLGlCQUFpQixDQUFDO0lBQzdDLENBQUM7SUExQk0sd0NBQWEsR0FBcEI7UUFDRSxPQUFPLElBQUksMEJBQTBCLENBQUMsZUFBZSxDQUFDLENBQUM7SUFDekQsQ0FBQztJQUVNLGtEQUF1QixHQUE5QjtRQUNFLE9BQU8sSUFBSSwwQkFBMEIsQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO0lBQ25FLENBQUM7SUFFTSx3REFBNkIsR0FBcEM7UUFDRSxPQUFPLElBQUksMEJBQTBCLENBQUMsK0JBQStCLENBQUMsQ0FBQztJQUN6RSxDQUFDO0lBRU0sNkNBQWtCLEdBQXpCO1FBQ0UsT0FBTyxJQUFJLDBCQUEwQixDQUFDLG9CQUFvQixDQUFDLENBQUM7SUFDOUQsQ0FBQztJQUVNLHNDQUFXLEdBQWxCO1FBQ0UsT0FBTyxJQUFJLDBCQUEwQixDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQ3ZELENBQUM7SUFFRCwrREFBMEIsR0FBMUI7UUFDRSxPQUFPLElBQUksQ0FBQyxpQkFBaUIsQ0FBQztJQUNoQyxDQUFDO3FDQWhHSDs7OztJQTBHRSxxQ0FBWSxrQkFBZ0Q7UUFDMUQsSUFBSSxDQUFDLGtCQUFrQixHQUFHLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxVQUFDLGlCQUFpQjtZQUNqRSxPQUFBLGlCQUFpQixDQUFDLDBCQUEwQixFQUFFO1FBQTlDLENBQThDLENBQy9DLENBQUM7SUFDSixDQUFDO0lBRUQscUVBQStCLEdBQS9CO1FBQ0UsT0FBTyxJQUFJLENBQUMsa0JBQWtCLENBQUM7SUFDakMsQ0FBQztzQ0FsSEg7Ozs7OztJQXNIUyx3QkFBSyxHQUFHLE9BQU8sQ0FBQztJQUNoQix1QkFBSSxHQUFHLE1BQU0sQ0FBQzs2QkF2SHZCOztTQXFIYSxrQkFBa0I7O0lBUzdCLGtDQUFZLElBQVksRUFBRSxTQUFrQjtRQUMxQyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDbEMsQ0FBQzttQ0FqSUg7Ozs7SUF3SUUsOEJBQVksSUFBWSxFQUFFLGVBQW9CO1FBQzVDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxlQUFlLEdBQUcsZUFBZSxDQUFDO0lBQ3pDLENBQUM7K0JBM0lIOzs7O0lBa0pFLHdDQUFZLElBQVksRUFBRSxlQUFvQjtRQUM1QyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsZUFBZSxHQUFHLGVBQWUsQ0FBQztJQUN6QyxDQUFDO3lDQXJKSDs7OztJQTRKRSx1Q0FBWSxPQUFlLEVBQUUsZUFBb0I7UUFDL0MsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7UUFDdkIsSUFBSSxDQUFDLGVBQWUsR0FBRyxlQUFlLENBQUM7SUFDekMsQ0FBQzt3Q0EvSkg7Ozs7SUF1S0UseUNBQVksT0FBZSxFQUFFLE1BQWMsRUFBRSxlQUFvQjtRQUMvRCxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUN2QixJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztRQUNyQixJQUFJLENBQUMsZUFBZSxHQUFHLGVBQWUsQ0FBQztJQUN6QyxDQUFDOzBDQTNLSDs7OztJQWtMRSx3Q0FBWSxxQkFBeUIsRUFBRSxTQUFrQjtRQUN2RCxJQUFJLENBQUMscUJBQXFCLEdBQUcscUJBQXFCLENBQUM7UUFDbkQsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7SUFDN0IsQ0FBQzt5Q0FyTEg7Ozs7SUE2TEUsc0NBQVksR0FBVyxFQUFFLEtBQWEsRUFBRSxTQUFrQjtRQUN4RCxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUNmLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO0lBQzdCLENBQUM7dUNBak1IOzs7O0lBdU1FLHlDQUFZLEdBQVc7UUFDckIsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUM7SUFDakIsQ0FBQzswQ0F6TUg7Ozs7SUFnTkUsMkJBQVksUUFBZ0IsRUFBRSxNQUFjO1FBQzFDLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0lBQ3ZCLENBQUM7NEJBbk5IOzs7O0lBeU5FLHNDQUFZLG9CQUE2QjtRQUN2QyxJQUFJLENBQUMsb0JBQW9CLEdBQUcsb0JBQW9CLENBQUM7SUFDbkQsQ0FBQzt1Q0EzTkg7Ozs7SUFrUEUsZ0NBQVksYUFBcUI7UUFDL0IsSUFBSSxDQUFDLGFBQWEsR0FBRyxhQUFhLENBQUM7SUFDckMsQ0FBQztJQWRNLG1DQUFZLEdBQW5CO1FBQ0UsT0FBTyxJQUFJLHNCQUFzQixDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQ3BELENBQUM7SUFFTSw2QkFBTSxHQUFiO1FBQ0UsT0FBTyxJQUFJLHNCQUFzQixDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzlDLENBQUM7SUFFRCx1REFBc0IsR0FBdEI7UUFDRSxPQUFPLElBQUksQ0FBQyxhQUFhLENBQUM7SUFDNUIsQ0FBQztpQ0FoUEg7Ozs7SUF3UytCLDZCQUEwQjs7OztJQVl2RCwwQ0FBc0IsYUFBQyxNQUE0QjtJQWVuRCx5QkFBSyxhQUFDLE1BQTRCO0lBUWxDLGtDQUFjO0lBUWQsaUNBQWE7SUFVYiwrQkFBVztJQVdYLGdDQUFZLGFBQUMsWUFBbUM7SUFRaEQsZ0RBQTRCO0lBUTVCLCtDQUEyQjtJQVUzQixtREFBK0I7SUFhL0IscUNBQWlCLGFBQUMsVUFBbUM7SUFnQnJELHdDQUFvQixhQUFDLGlCQUE2QztJQVVsRSx5Q0FBcUIsYUFBQyxrQkFBK0M7SUFZckUsd0NBQW9CLGFBQUMsZUFBeUM7SUFjOUQseUNBQXFCLGFBQUMsVUFBMEM7SUFhaEUsd0NBQW9CLGFBQUMsVUFBeUM7SUFjOUQsMENBQXNCLGFBQUMsVUFBMkM7SUFZbEUsb0NBQWdCLGFBQUMsS0FBMkI7SUFhNUMsNENBQXdCLGFBQUMsVUFBMEM7SUFjbkUsMENBQXNCLGFBQUMsUUFBc0M7SUFXN0QsNkNBQXlCLGFBQUMsUUFBeUM7SUFRbkUsa0RBQThCO0lBYTlCLCtCQUFXLGFBQUMsUUFBMkI7SUFZdkMsMENBQXNCLGFBQUMsNEJBQTBEO0lBVWpGLDBDQUFzQjtJQWV0QiwrQ0FBMkIsYUFBQyxtQkFBaUQ7SUFZN0Usb0NBQWdCLGFBQUMsYUFBcUM7SUFRdEQsaURBQTZCOzs7Ozs7O2dCQXZUOUIsVUFBVTs7b0JBdlNYO0VBd1MrQiwwQkFBMEI7U0FBNUMsU0FBUyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgUGx1Z2luLCBDb3Jkb3ZhLCBBd2Vzb21lQ29yZG92YU5hdGl2ZVBsdWdpbiB9IGZyb20gJ0Bhd2Vzb21lLWNvcmRvdmEtcGx1Z2lucy9jb3JlJztcclxuXHJcbmV4cG9ydCBjbGFzcyBTbWFydGxvb2tTZXR1cENvbmZpZ0J1aWxkZXIge1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgX3NtYXJ0bG9va1NldHVwQ29uZmlnOiBTbWFydGxvb2tTZXR1cENvbmZpZztcclxuXHJcbiAgY29uc3RydWN0b3Ioc21hcnRsb29rQVBJS2V5OiBzdHJpbmcpIHtcclxuICAgIHRoaXMuX3NtYXJ0bG9va1NldHVwQ29uZmlnID0gbmV3IFNtYXJ0bG9va1NldHVwQ29uZmlnKHNtYXJ0bG9va0FQSUtleSk7XHJcbiAgfVxyXG5cclxuICBmcHMoZnBzOiBudW1iZXIpOiBTbWFydGxvb2tTZXR1cENvbmZpZ0J1aWxkZXIge1xyXG4gICAgdGhpcy5fc21hcnRsb29rU2V0dXBDb25maWcuZnBzID0gZnBzO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICByZW5kZXJpbmdNb2RlKHJlbmRlcmluZ01vZGU6IFNtYXJ0bG9va1JlbmRlcmluZ01vZGUpOiBTbWFydGxvb2tTZXR1cENvbmZpZ0J1aWxkZXIge1xyXG4gICAgdGhpcy5fc21hcnRsb29rU2V0dXBDb25maWcucmVuZGVyaW5nTW9kZSA9IHJlbmRlcmluZ01vZGUuZ2V0UmVuZGVyaW5nTW9kZVN0cmluZygpO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBzdGFydE5ld1Nlc3Npb24oc3RhcnROZXdTZXNzaW9uOiBib29sZWFuKTogU21hcnRsb29rU2V0dXBDb25maWdCdWlsZGVyIHtcclxuICAgIHRoaXMuX3NtYXJ0bG9va1NldHVwQ29uZmlnLnN0YXJ0TmV3U2Vzc2lvbiA9IHN0YXJ0TmV3U2Vzc2lvbjtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgc3RhcnROZXdTZXNzaW9uQW5kVXNlcihzdGFydE5ld1Nlc3Npb25BbmRVc2VyOiBib29sZWFuKTogU21hcnRsb29rU2V0dXBDb25maWdCdWlsZGVyIHtcclxuICAgIHRoaXMuX3NtYXJ0bG9va1NldHVwQ29uZmlnLnN0YXJ0TmV3U2Vzc2lvbkFuZFVzZXIgPSBzdGFydE5ld1Nlc3Npb25BbmRVc2VyO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBldmVudFRyYWNraW5nTW9kZXMoZXZlbnRUcmFja2luZ01vZGVzOiBTbWFydGxvb2tFdmVudFRyYWNraW5nTW9kZXMpOiBTbWFydGxvb2tTZXR1cENvbmZpZ0J1aWxkZXIge1xyXG4gICAgdGhpcy5fc21hcnRsb29rU2V0dXBDb25maWcuZXZlbnRUcmFja2luZ01vZGVzID0gZXZlbnRUcmFja2luZ01vZGVzLmdldEV2ZW50VHJhY2tpbmdNb2RlU3RyaW5nQXJyYXkoKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgYnVpbGQoKTogU21hcnRsb29rU2V0dXBDb25maWcge1xyXG4gICAgcmV0dXJuIHRoaXMuX3NtYXJ0bG9va1NldHVwQ29uZmlnO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFNtYXJ0bG9va1NldHVwQ29uZmlnIHtcclxuICBwcml2YXRlIHNtYXJ0bG9va0FQSUtleTogc3RyaW5nO1xyXG4gIGZwczogbnVtYmVyO1xyXG4gIHJlbmRlcmluZ01vZGU6IHN0cmluZztcclxuICBzdGFydE5ld1Nlc3Npb246IGJvb2xlYW47XHJcbiAgc3RhcnROZXdTZXNzaW9uQW5kVXNlcjogYm9vbGVhbjtcclxuICBldmVudFRyYWNraW5nTW9kZXM6IHN0cmluZ1tdO1xyXG5cclxuICBjb25zdHJ1Y3RvcihzbWFydGxvb2tBUElLZXk6IHN0cmluZykge1xyXG4gICAgdGhpcy5zbWFydGxvb2tBUElLZXkgPSBzbWFydGxvb2tBUElLZXk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgU21hcnRsb29rUmVzZXRTZXNzaW9uIHtcclxuICBwcml2YXRlIHJlc2V0VXNlcjogYm9vbGVhbjtcclxuXHJcbiAgY29uc3RydWN0b3IocmVzZXRVc2VyOiBib29sZWFuKSB7XHJcbiAgICB0aGlzLnJlc2V0VXNlciA9IHJlc2V0VXNlcjtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTbWFydGxvb2tVc2VySWRlbnRpZmllciB7XHJcbiAgcHJpdmF0ZSBpZGVudGlmaWVyOiBzdHJpbmc7XHJcbiAgcHJpdmF0ZSBzZXNzaW9uUHJvcGVydGllczoge307XHJcblxyXG4gIGNvbnN0cnVjdG9yKGlkZW50aWZpZXI6IHN0cmluZywgc2Vzc2lvblByb3BlcnRpZXM/OiB7fSkge1xyXG4gICAgdGhpcy5pZGVudGlmaWVyID0gaWRlbnRpZmllcjtcclxuICAgIHRoaXMuc2Vzc2lvblByb3BlcnRpZXMgPSBzZXNzaW9uUHJvcGVydGllcztcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTbWFydGxvb2tFdmVudFRyYWNraW5nTW9kZSB7XHJcbiAgcHJpdmF0ZSBldmVudFRyYWNraW5nTW9kZTogc3RyaW5nO1xyXG5cclxuICBzdGF0aWMgRlVMTF9UUkFDS0lORygpOiBTbWFydGxvb2tFdmVudFRyYWNraW5nTW9kZSB7XHJcbiAgICByZXR1cm4gbmV3IFNtYXJ0bG9va0V2ZW50VHJhY2tpbmdNb2RlKCdmdWxsX3RyYWNraW5nJyk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgSUdOT1JFX1VTRVJfSU5URVJBQ1RJT04oKTogU21hcnRsb29rRXZlbnRUcmFja2luZ01vZGUge1xyXG4gICAgcmV0dXJuIG5ldyBTbWFydGxvb2tFdmVudFRyYWNraW5nTW9kZSgnaWdub3JlX3VzZXJfaW50ZXJhY3Rpb24nKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBJR05PUkVfTkFWSUdBVElPTl9JTlRFUkFDVElPTigpOiBTbWFydGxvb2tFdmVudFRyYWNraW5nTW9kZSB7XHJcbiAgICByZXR1cm4gbmV3IFNtYXJ0bG9va0V2ZW50VHJhY2tpbmdNb2RlKCdpZ25vcmVfbmF2aWdhdGlvbl9pbnRlcmFjdGlvbicpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIElHTk9SRV9SQUdFX0NMSUNLUygpOiBTbWFydGxvb2tFdmVudFRyYWNraW5nTW9kZSB7XHJcbiAgICByZXR1cm4gbmV3IFNtYXJ0bG9va0V2ZW50VHJhY2tpbmdNb2RlKCdpZ25vcmVfcmFnZV9jbGlja3MnKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBOT19UUkFDS0lORygpOiBTbWFydGxvb2tFdmVudFRyYWNraW5nTW9kZSB7XHJcbiAgICByZXR1cm4gbmV3IFNtYXJ0bG9va0V2ZW50VHJhY2tpbmdNb2RlKCdub190cmFja2luZycpO1xyXG4gIH1cclxuXHJcbiAgZ2V0RXZlbnRUcmFja2luZ01vZGVTdHJpbmcoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLmV2ZW50VHJhY2tpbmdNb2RlO1xyXG4gIH1cclxuXHJcbiAgY29uc3RydWN0b3IoZXZlbnRUcmFja2luZ01vZGU6IHN0cmluZykge1xyXG4gICAgdGhpcy5ldmVudFRyYWNraW5nTW9kZSA9IGV2ZW50VHJhY2tpbmdNb2RlO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFNtYXJ0bG9va0V2ZW50VHJhY2tpbmdNb2RlcyB7XHJcbiAgcHJpdmF0ZSBldmVudFRyYWNraW5nTW9kZXM6IHN0cmluZ1tdO1xyXG5cclxuICBjb25zdHJ1Y3RvcihldmVudFRyYWNraW5nTW9kZXM6IFNtYXJ0bG9va0V2ZW50VHJhY2tpbmdNb2RlW10pIHtcclxuICAgIHRoaXMuZXZlbnRUcmFja2luZ01vZGVzID0gZXZlbnRUcmFja2luZ01vZGVzLm1hcCgoZXZlbnRUcmFja2luZ01vZGUpID0+XHJcbiAgICAgIGV2ZW50VHJhY2tpbmdNb2RlLmdldEV2ZW50VHJhY2tpbmdNb2RlU3RyaW5nKClcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBnZXRFdmVudFRyYWNraW5nTW9kZVN0cmluZ0FycmF5KCk6IHN0cmluZ1tdIHtcclxuICAgIHJldHVybiB0aGlzLmV2ZW50VHJhY2tpbmdNb2RlcztcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTbWFydGxvb2tWaWV3U3RhdGUge1xyXG4gIHN0YXRpYyBTVEFSVCA9ICdzdGFydCc7XHJcbiAgc3RhdGljIFNUT1AgPSAnc3RvcCc7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTbWFydGxvb2tOYXZpZ2F0aW9uRXZlbnQge1xyXG4gIHByaXZhdGUgbmFtZTogc3RyaW5nO1xyXG4gIHByaXZhdGUgdmlld1N0YXRlOiBzdHJpbmc7XHJcblxyXG4gIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgdmlld1N0YXRlPzogc3RyaW5nKSB7XHJcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgdGhpcy52aWV3U3RhdGUgPSB0aGlzLnZpZXdTdGF0ZTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTbWFydGxvb2tDdXN0b21FdmVudCB7XHJcbiAgcHJpdmF0ZSBuYW1lOiBzdHJpbmc7XHJcbiAgcHJpdmF0ZSBldmVudFByb3BlcnRpZXM6IHt9O1xyXG5cclxuICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIGV2ZW50UHJvcGVydGllcz86IHt9KSB7XHJcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgdGhpcy5ldmVudFByb3BlcnRpZXMgPSBldmVudFByb3BlcnRpZXM7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgU21hcnRsb29rVGltZWRDdXN0b21FdmVudFN0YXJ0IHtcclxuICBwcml2YXRlIG5hbWU6IHN0cmluZztcclxuICBwcml2YXRlIGV2ZW50UHJvcGVydGllczoge307XHJcblxyXG4gIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgZXZlbnRQcm9wZXJ0aWVzPzoge30pIHtcclxuICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICB0aGlzLmV2ZW50UHJvcGVydGllcyA9IGV2ZW50UHJvcGVydGllcztcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTbWFydGxvb2tUaW1lZEN1c3RvbUV2ZW50U3RvcCB7XHJcbiAgcHJpdmF0ZSBldmVudElkOiBzdHJpbmc7XHJcbiAgcHJpdmF0ZSBldmVudFByb3BlcnRpZXM6IHt9O1xyXG5cclxuICBjb25zdHJ1Y3RvcihldmVudElkOiBzdHJpbmcsIGV2ZW50UHJvcGVydGllcz86IHt9KSB7XHJcbiAgICB0aGlzLmV2ZW50SWQgPSBldmVudElkO1xyXG4gICAgdGhpcy5ldmVudFByb3BlcnRpZXMgPSBldmVudFByb3BlcnRpZXM7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgU21hcnRsb29rVGltZWRDdXN0b21FdmVudENhbmNlbCB7XHJcbiAgcHJpdmF0ZSBldmVudElkOiBzdHJpbmc7XHJcbiAgcHJpdmF0ZSByZWFzb246IHN0cmluZztcclxuICBwcml2YXRlIGV2ZW50UHJvcGVydGllczoge307XHJcblxyXG4gIGNvbnN0cnVjdG9yKGV2ZW50SWQ6IHN0cmluZywgcmVhc29uOiBzdHJpbmcsIGV2ZW50UHJvcGVydGllcz86IHt9KSB7XHJcbiAgICB0aGlzLmV2ZW50SWQgPSBldmVudElkO1xyXG4gICAgdGhpcy5yZWFzb24gPSByZWFzb247XHJcbiAgICB0aGlzLmV2ZW50UHJvcGVydGllcyA9IGV2ZW50UHJvcGVydGllcztcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTbWFydGxvb2tHbG9iYWxFdmVudFByb3BlcnRpZXMge1xyXG4gIHByaXZhdGUgZ2xvYmFsRXZlbnRQcm9wZXJ0aWVzOiB7fTtcclxuICBwcml2YXRlIGltbXV0YWJsZTogYm9vbGVhbjtcclxuXHJcbiAgY29uc3RydWN0b3IoZ2xvYmFsRXZlbnRQcm9wZXJ0aWVzOiB7fSwgaW1tdXRhYmxlOiBib29sZWFuKSB7XHJcbiAgICB0aGlzLmdsb2JhbEV2ZW50UHJvcGVydGllcyA9IGdsb2JhbEV2ZW50UHJvcGVydGllcztcclxuICAgIHRoaXMuaW1tdXRhYmxlID0gaW1tdXRhYmxlO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFNtYXJ0bG9va0dsb2JhbEV2ZW50UHJvcGVydHkge1xyXG4gIHByaXZhdGUga2V5OiBzdHJpbmc7XHJcbiAgcHJpdmF0ZSB2YWx1ZTogc3RyaW5nO1xyXG4gIHByaXZhdGUgaW1tdXRhYmxlOiBib29sZWFuO1xyXG5cclxuICBjb25zdHJ1Y3RvcihrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZywgaW1tdXRhYmxlOiBib29sZWFuKSB7XHJcbiAgICB0aGlzLmtleSA9IGtleTtcclxuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcclxuICAgIHRoaXMuaW1tdXRhYmxlID0gaW1tdXRhYmxlO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFNtYXJ0bG9va0dsb2JhbEV2ZW50UHJvcGVydHlLZXkge1xyXG4gIHByaXZhdGUga2V5OiBzdHJpbmc7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGtleTogc3RyaW5nKSB7XHJcbiAgICB0aGlzLmtleSA9IGtleTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTbWFydGxvb2tSZWZlcnJlciB7XHJcbiAgcHJpdmF0ZSByZWZlcnJlcjogc3RyaW5nO1xyXG4gIHByaXZhdGUgc291cmNlOiBzdHJpbmc7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHJlZmVycmVyOiBzdHJpbmcsIHNvdXJjZTogc3RyaW5nKSB7XHJcbiAgICB0aGlzLnJlZmVycmVyID0gcmVmZXJyZXI7XHJcbiAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTbWFydGxvb2tEYXNoYm9hcmRTZXNzaW9uVXJsIHtcclxuICBwcml2YXRlIHdpdGhDdXJyZW50VGltZXN0YW1wOiBib29sZWFuO1xyXG5cclxuICBjb25zdHJ1Y3Rvcih3aXRoQ3VycmVudFRpbWVzdGFtcDogYm9vbGVhbikge1xyXG4gICAgdGhpcy53aXRoQ3VycmVudFRpbWVzdGFtcCA9IHdpdGhDdXJyZW50VGltZXN0YW1wO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTbWFydGxvb2tJbnRlZ3JhdGlvbkxpc3RlbmVyIHtcclxuICBvblNlc3Npb25SZWFkeTogKGRhc2hib2FyZFNlc3Npb25Vcmw6IHN0cmluZykgPT4gYW55O1xyXG4gIG9uVmlzaXRvclJlYWR5OiAoZGFzaGJvYXJkVmlzaXRvclVybDogc3RyaW5nKSA9PiBhbnk7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTbWFydGxvb2tSZW5kZXJpbmdNb2RlIHtcclxuICBwcml2YXRlIHJlbmRlcmluZ01vZGU6IHN0cmluZztcclxuXHJcbiAgc3RhdGljIE5PX1JFTkRFUklORygpOiBTbWFydGxvb2tSZW5kZXJpbmdNb2RlIHtcclxuICAgIHJldHVybiBuZXcgU21hcnRsb29rUmVuZGVyaW5nTW9kZSgnbm9fcmVuZGVyaW5nJyk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgTkFUSVZFKCk6IFNtYXJ0bG9va1JlbmRlcmluZ01vZGUge1xyXG4gICAgcmV0dXJuIG5ldyBTbWFydGxvb2tSZW5kZXJpbmdNb2RlKCduYXRpdmUnKTtcclxuICB9XHJcblxyXG4gIGdldFJlbmRlcmluZ01vZGVTdHJpbmcoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLnJlbmRlcmluZ01vZGU7XHJcbiAgfVxyXG5cclxuICBjb25zdHJ1Y3RvcihyZW5kZXJpbmdNb2RlOiBzdHJpbmcpIHtcclxuICAgIHRoaXMucmVuZGVyaW5nTW9kZSA9IHJlbmRlcmluZ01vZGU7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogQG5hbWUgU21hcnRsb29rXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBPZmZpY2lhbCBTbWFydGxvb2sgU0RLIHBsdWdpbi5cclxuICogRnVsbCBkb2N1bWVudGF0aW9uIGNhbiBiZSBmb3VuZCBoZXJlOiBodHRwczovL3NtYXJ0bG9vay5naXRodWIuaW8vZG9jcy9zZGsvaW9uaWMvXHJcbiAqIEB1c2FnZVxyXG4gKiBgYGB0eXBlc2NyaXB0XHJcbiAqIGltcG9ydCB7IFNtYXJ0bG9vaywgU21hcnRsb29rU2V0dXBDb25maWcgfSBmcm9tICdAYXdlc29tZS1jb3Jkb3ZhLXBsdWdpbnMvc21hcnRsb29rL25neCc7XHJcbiAqXHJcbiAqIC4uLlxyXG4gKlxyXG4gKiBAQ29tcG9uZW50KCAuLi4gKVxyXG4gKiBleHBvcnQgY2xhc3MgQXBwQ29tcG9uZW50IHtcclxuICogICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgc21hcnRsb29rOiBTbWFydGxvb2spIHtcclxuICogICAgICAgIHRoaXMucGxhdGZvcm0ucmVhZHkoKS50aGVuKCgpID0+IHtcclxuICogICAgICAgICAgICB0aGlzLnNtYXJ0bG9vay5zZXR1cEFuZFN0YXJ0UmVjb3JkaW5nKG5ldyBTbWFydGxvb2tTZXR1cENvbmZpZyhcIllPVVIgQVBJIEtFWVwiKSk7XHJcbiAqICAgICAgICB9XHJcbiAqICAgICB9XHJcbiAqIH1cclxuICogYGBgXHJcbiAqIEBjbGFzc2VzXHJcbiAqIFNtYXJ0bG9va1NldHVwQ29uZmlnQnVpbGRlclxyXG4gKiBTbWFydGxvb2tTZXR1cENvbmZpZ1xyXG4gKiBTbWFydGxvb2tSZXNldFNlc3Npb25cclxuICogU21hcnRsb29rVXNlcklkZW50aWZpZXJcclxuICogU21hcnRsb29rRXZlbnRUcmFja2luZ01vZGVcclxuICogU21hcnRsb29rTmF2aWdhdGlvbkV2ZW50XHJcbiAqIFNtYXJ0bG9va1ZpZXdTdGF0ZVxyXG4gKiBTbWFydGxvb2tDdXN0b21FdmVudFxyXG4gKiBTbWFydGxvb2tUaW1lZEN1c3RvbUV2ZW50U3RhcnRcclxuICogU21hcnRsb29rVGltZWRDdXN0b21FdmVudFN0b3BcclxuICogU21hcnRsb29rVGltZWRDdXN0b21FdmVudENhbmNlbFxyXG4gKiBTbWFydGxvb2tHbG9iYWxFdmVudFByb3BlcnRpZXNcclxuICogU21hcnRsb29rR2xvYmFsRXZlbnRQcm9wZXJ0eVxyXG4gKiBTbWFydGxvb2tHbG9iYWxFdmVudFByb3BlcnR5S2V5XHJcbiAqIFNtYXJ0bG9va1JlZmVycmVyXHJcbiAqIFNtYXJ0bG9va0Rhc2hib2FyZFNlc3Npb25VcmxcclxuICogU21hcnRsb29rUmVuZGVyaW5nTW9kZVxyXG4gKiBTbWFydGxvb2tFdmVudFRyYWNraW5nTW9kZVxyXG4gKiBTbWFydGxvb2tFdmVudFRyYWNraW5nTW9kZXNcclxuICovXHJcbkBQbHVnaW4oe1xyXG4gIHBsdWdpbk5hbWU6ICdTbWFydGxvb2snLFxyXG4gIHBsdWdpbjogJ2h0dHBzOi8vZ2l0aHViLmNvbS9zbWFydGxvb2svY29yZG92YS1zbWFydGxvb2suZ2l0JyxcclxuICBwbHVnaW5SZWY6ICdjb3Jkb3ZhLnBsdWdpbnMuU21hcnRsb29rUGx1Z2luJyxcclxuICByZXBvOiAnaHR0cHM6Ly9naXRodWIuY29tL3NtYXJ0bG9vay9jb3Jkb3ZhLXNtYXJ0bG9vay5naXQnLFxyXG4gIHBsYXRmb3JtczogWydBbmRyb2lkJywgJ2lPUyddLFxyXG59KVxyXG5ASW5qZWN0YWJsZSgpXHJcbmV4cG9ydCBjbGFzcyBTbWFydGxvb2sgZXh0ZW5kcyBBd2Vzb21lQ29yZG92YU5hdGl2ZVBsdWdpbiB7XHJcbiAgLyoqXHJcbiAgICogU2V0dXAgYW5kIHN0YXJ0IFNtYXJ0bG9vayBTREsgcmVjb3JkaW5nLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGNvbmZpZyBTbWFydGxvb2tTZXR1cENvbmZpZyBvYmplY3QuXHJcbiAgICogQHBhcmFtIGNvbmZpZy5zbWFydGxvb2tBUElLZXkgKHJlcXVpcmVkKSBTbWFydGxvb2sgQVBJIGtleSAoeW91IGNhbiBvYnRhaW4gaXQgaW4geW91ciBkYXNoYm9hcmQpLlxyXG4gICAqIEBwYXJhbSBjb25maWcuZnBzIChvcHRpb25hbCkgcmVjb3JkZWQgdmlkZW8gZnJhbWVyYXRlIChhbGxvd2VkIHZhbHVlcyAyLTEwIGZwcykuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMucmVuZGVyaW5nTW9kZSAob3B0aW9uYWwpIE1vZGUgZGVmaW5pbmcgdGhlIHZpZGVvIG91dHB1dCBvZiByZWNvcmRpbmcuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMuc3RhcnROZXdTZXNzaW9uIChvcHRpb25hbCkgSWYgdHJ1ZSBuZXcgc2Vzc2lvbiBpcyBnb2luZyB0byBiZSBjcmVhdGVkXHJcbiAgICogQHBhcmFtIG9wdGlvbnMuc3RhcnROZXdTZXNzaW9uQW5kVXNlciAob3B0aW9uYWwpIElmIHRydWUgbmV3IHNlc3Npb24gYW5kIHZpc2l0b3IgaXMgZ29pbmcgdG8gYmUgY3JlYXRlZFxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxyXG4gIHNldHVwQW5kU3RhcnRSZWNvcmRpbmcoY29uZmlnOiBTbWFydGxvb2tTZXR1cENvbmZpZyk6IHZvaWQge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0dXAvaW5pdGlhbGl6ZSBTbWFydGxvb2sgU0RLLiBUaGlzIG1ldGhvZCBET0VTTidUIHN0YXJ0IHRoZSByZWNvcmRpbmcgKEBzZWUgc3RhcnQoKSlcclxuICAgKlxyXG4gICAqIEBwYXJhbSBjb25maWcgU21hcnRsb29rU2V0dXBDb25maWcgb2JqZWN0LlxyXG4gICAqIEBwYXJhbSBjb25maWcuc21hcnRsb29rQVBJS2V5IChyZXF1aXJlZCkgU21hcnRsb29rIEFQSSBrZXkgKHlvdSBjYW4gb2J0YWluIGl0IGluIHlvdXIgZGFzaGJvYXJkKS5cclxuICAgKiBAcGFyYW0gY29uZmlnLmZwcyAob3B0aW9uYWwpIHJlY29yZGVkIHZpZGVvIGZyYW1lcmF0ZSAoYWxsb3dlZCB2YWx1ZXMgMi0xMCBmcHMpLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zLnJlbmRlcmluZ01vZGUgKG9wdGlvbmFsKSBNb2RlIGRlZmluaW5nIHRoZSB2aWRlbyBvdXRwdXQgb2YgcmVjb3JkaW5nLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zLnN0YXJ0TmV3U2Vzc2lvbiAob3B0aW9uYWwpIElmIHRydWUgbmV3IHNlc3Npb24gaXMgZ29pbmcgdG8gYmUgY3JlYXRlZFxyXG4gICAqIEBwYXJhbSBvcHRpb25zLnN0YXJ0TmV3U2Vzc2lvbkFuZFVzZXIgKG9wdGlvbmFsKSBJZiB0cnVlIG5ldyBzZXNzaW9uIGFuZCB2aXNpdG9yIGlzIGdvaW5nIHRvIGJlIGNyZWF0ZWRcclxuICAgKi9cclxuICBAQ29yZG92YSh7IHN5bmM6IHRydWUgfSlcclxuICBzZXR1cChjb25maWc6IFNtYXJ0bG9va1NldHVwQ29uZmlnKTogdm9pZCB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTdGFydCBTREsgcmVjb3JkaW5nLlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxyXG4gIHN0YXJ0UmVjb3JkaW5nKCk6IHZvaWQge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU3RvcCBTREsgcmVjb3JkaW5nLiBSZWNvcmRpbmcgd2lsbCBzdGFydCBhZ2FpbiB3aGVuIHlvdSBjYWxsIHN0YXJ0KCkuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoeyBzeW5jOiB0cnVlIH0pXHJcbiAgc3RvcFJlY29yZGluZygpOiB2b2lkIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENoZWNrIGlmIFNESyBpcyBjdXJyZW50bHkgcmVjb3JkaW5nLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8Ym9vbGVhbj59IFJldHVybnMgYSBwcm9taXNlIHdpdGggaXNSZWNvcmRpbmcgYm9vbGVhbi5cclxuICAgKi9cclxuICBAQ29yZG92YSgpXHJcbiAgaXNSZWNvcmRpbmcoKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXNldHMgY3VycmVudCBzZXNzaW9uIGFuZCBuZXcgc2Vzc2lvbiBpbiBkYXNoYm9hcmQgaXMgY3JlYXRlZC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSByZXNldFNlc3Npb24gU21hcnRsb29rUmVzZXRTZXNzaW9uIG9iamVjdC5cclxuICAgKiBAcGFyYW0gcmVzZXRTZXNzaW9uLnJlc2V0VXNlciBJZiBzZXQgdG8gVFJVRSBuZXcgdmlzaXRvciBpcyBjcmVhdGVkIGluIHRoZSBkYXNoYm9hcmQuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoeyBzeW5jOiB0cnVlIH0pXHJcbiAgcmVzZXRTZXNzaW9uKHJlc2V0U2Vzc2lvbjogU21hcnRsb29rUmVzZXRTZXNzaW9uKTogdm9pZCB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBXaGVuIHlvdSBzdGFydCBzZW5zaXRpdmUgbW9kZSBTREsgcmVjb3JkcyBibGFuayB2aWRlb3MgKHNpbmdsZSBjb2xvcikgYnV0IFNESyBzdGlsbCBzZW5kcyBhbmFseXRpYyBldmVudHMuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoeyBzeW5jOiB0cnVlIH0pXHJcbiAgc3RhcnRGdWxsc2NyZWVuU2Vuc2l0aXZlTW9kZSgpOiB2b2lkIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFN0b3Agc2Vuc2l0aXZlIG1vZGUgLT4gU0RLIHJlY29yZHMgdmlkZW8uXHJcbiAgICovXHJcbiAgQENvcmRvdmEoeyBzeW5jOiB0cnVlIH0pXHJcbiAgc3RvcEZ1bGxzY3JlZW5TZW5zaXRpdmVNb2RlKCk6IHZvaWQge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2hlY2sgaWYgZnVsbHNjcmVlbiBzZW5zaXRpdmUgbW9kZSBpcyBhY3RpdmUuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn0gUmV0dXJucyBhIHByb21pc2Ugd2l0aCBpc0Z1bGxzY3JlZW5TZW5zaXRpdmVNb2RlQWN0aXZlIGJvb2xlYW4uXHJcbiAgICovXHJcbiAgQENvcmRvdmEoKVxyXG4gIGlzRnVsbHNjcmVlblNlbnNpdGl2ZU1vZGVBY3RpdmUoKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJZGVudGlmeSB1c2VyLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGlkZW50aWZpZXIgU21hcnRsb29rVXNlcklkZW50aWZpZXIgb2JqZWN0LlxyXG4gICAqIEBwYXJhbSBpZGVudGlmaWVyLmlkZW5maWVyIChyZXF1aXJlZCkgaWQgdGhhdCBjYW4gYmUgdXNlZCB0byBpZGVudGlmeSB1c2VyIGFuZCBoaXMgcmVjb3Jkcy5cclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBZb3Ugd2lsbCBzZWUgdGhpcyBJZCBpbiBTbWFydGxvb2sgZGFzaGJvYXJkIHNvIHlvdSBjYW4gcGFpciByZWNvcmRzIHdpdGggY29uY3JldGUgdXNlci5cclxuICAgKiBAcGFyYW0gaWRlbnRpZmllci5zZXNzaW9uUHJvcGVydGllcyAob3B0aW9uYWwpIGN1c3RvbSBzZXNzaW9uIHByb3BlcnRpZXMgb2JqZWN0LlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxyXG4gIHNldFVzZXJJZGVudGlmaWVyKGlkZW50aWZpZXI6IFNtYXJ0bG9va1VzZXJJZGVudGlmaWVyKTogdm9pZCB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBZb3UgY2FuIGNvbmZpZ3VyZSB3aGljaCBldmVudHMgYXJlIGJlaW5nIHRyYWNrZWQgYnkgc2V0dGluZyBldmVudFRyYWNraW5nTW9kZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBldmVudFRyYWNraW5nTW9kZSBDYW4gYmUgb24gb2Y6XHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIC0gRXZlbnRUcmFja2luZ01vZGUuRlVMTF9UUkFDS0lORyAuLi4gdHJhY2sgZXZlcnl0aGluZ1xyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAtIEV2ZW50VHJhY2tpbmdNb2RlLklHTk9SRV9VU0VSX0lOVEVSQUNUSU9OIC4uLiB3aWxsIG5vdCB0cmFjayB0b3VjaGVzXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXMsIGtleWJvYXJkLCBzZWxlY3RvciBldmVudHNcclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgLSBFdmVudFRyYWNraW5nTW9kZS5JR05PUkVfTkFWSUdBVElPTl9JTlRFUkFDVElPTiAuLi4gd2lsbCBub3QgdHJhY2sgc2NyZWVuIG5hbWVzXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIC0gRXZlbnRUcmFja2luZ01vZGUuSUdOT1JFX1JBR0VfQ0xJQ0tTIC4uLiB3aWxsIG5vdCB0cmFjayByYWdlIGNsaWNrc1xyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAtIEV2ZW50VHJhY2tpbmdNb2RlLk5PX1RSQUNLSU5HIC4uLiBub3QgZ29ubmEgdHJhY2sgYW55IGV2ZW50c1xyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxyXG4gIHNldEV2ZW50VHJhY2tpbmdNb2RlKGV2ZW50VHJhY2tpbmdNb2RlOiBTbWFydGxvb2tFdmVudFRyYWNraW5nTW9kZSk6IHZvaWQge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogWW91IGNhbiBjb25maWd1cmUgd2hpY2ggZXZlbnRzIGFyZSBiZWluZyB0cmFja2VkIGJ5IHNldHRpbmcgZXZlbnRUcmFja2luZ01vZGUuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gZXZlbnRUcmFja2luZ01vZGVzIEFycmF5IG9mIEV2ZW50VHJhY2tpbmdNb2Rlcy5cclxuICAgKi9cclxuICBAQ29yZG92YSh7IHN5bmM6IHRydWUgfSlcclxuICBzZXRFdmVudFRyYWNraW5nTW9kZXMoZXZlbnRUcmFja2luZ01vZGVzOiBTbWFydGxvb2tFdmVudFRyYWNraW5nTW9kZXMpOiB2b2lkIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFRyYWNrIGN1c3RvbSBuYXZpZ2F0aW9uIGV2ZW50LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIG5hdmlnYXRpb25FdmVudCBTbWFydGxvb2tOYXZpZ2F0aW9uRXZlbnQgb2JqZWN0LlxyXG4gICAqIEBwYXJhbSBuYXZpZ2F0aW9uRXZlbnQubmFtZSBDb250cm9sZXIvQWN0aXZpdHkvUGFnZSBuYW1lLlxyXG4gICAqIEBwYXJhbSBuYXZpZ2F0aW9uRXZlbnQudmlld1N0YXRlIE9uZSBvZiBTbWFydGxvb2tWaWV3U3RhdGUuU1RBUlQgb3IgU21hcnRsb29rVmlld1N0YXRlLlNUT1AuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoeyBzeW5jOiB0cnVlIH0pXHJcbiAgdHJhY2tOYXZpZ2F0aW9uRXZlbnQobmF2aWdhdGlvbkV2ZW50OiBTbWFydGxvb2tOYXZpZ2F0aW9uRXZlbnQpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFRyYWNrIGN1c3RvbSBldmVudC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB0aW1lZEV2ZW50IFNtYXJ0bG9va1RpbWVkQ3VzdG9tRXZlbnRTdGFydCBvYmplY3QuXHJcbiAgICogQHBhcmFtIHRpbWVkRXZlbnQubmFtZSAocmVxdWlyZWQpIHN0cmluZyB1c2VkIHRvIGlkZW50aWZ5IGV2ZW50IGluIGRhc2hib2FyZC5cclxuICAgKiBAcGFyYW0gdGltZWRFdmVudC5ldmVudFByb3BlcnRpZXMgKG9wdGlvbmFsKSB0aW1lZCBldmVudCBwcm9wZXJ0aWVzIG9iamVjdC4gVGhlc2UgcHJvcGVydGllc1xyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJlIGdvaW5nIHRvIGJlIG1lcmdlZCB3aXRoIHByb3BlcnRpZXMgcGFzc2VkIGluIHN0b3AvY2FuY2VsLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IFJldHVybnMgYSBwcm9taXNlIHdpdGggZXZlbnRJZCBzdHJpbmcgKEBzZWUgc3RvcFRpbWVkQ3VzdG9tRXZlbnQoKSwgQHNlZSBjYW5jZWxUaW1lZEN1c3RvbUV2ZW50KCkpLlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKClcclxuICBzdGFydFRpbWVkQ3VzdG9tRXZlbnQodGltZWRFdmVudDogU21hcnRsb29rVGltZWRDdXN0b21FdmVudFN0YXJ0KTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFN0b3BzIHRpbWVkIGV2ZW50LiBEdXJhdGlvbiBmcm9tIGFjY29yZGluZyBzdGFydCBpcyBjYWxjdWxhdGVkIGFuZCBzZW5kIHdpdGggdGhlIGV2ZW50LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHRpbWVkRXZlbnQgU21hcnRsb29rVGltZWRDdXN0b21FdmVudFN0b3Agb2JqZWN0LlxyXG4gICAqIEBwYXJhbSB0aW1lZEV2ZW50LmV2ZW50SWQgKHJlcXVpcmVkKSBVbmlxdWUgZXZlbnQgaWQgdGhhdCBpcyB1c2VkIHRvIGlkZW50aWZ5IHRoaXMgZXZlbnQuXHJcbiAgICogQHBhcmFtIHRpbWVkRXZlbnQuZXZlbnRQcm9wZXJ0aWVzIChvcHRpb25hbCkgdGltZWQgZXZlbnQgcHJvcGVydGllcyBvYmplY3QuIFRoZXNlIHByb3BlcnRpZXNcclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZSBnb2luZyB0byBiZSBtZXJnZWQgd2l0aCBwcm9wZXJ0aWVzIHBhc3NlZCBpbiBzdGFydC5cclxuICAgKi9cclxuICBAQ29yZG92YSh7IHN5bmM6IHRydWUgfSlcclxuICBzdG9wVGltZWRDdXN0b21FdmVudCh0aW1lZEV2ZW50OiBTbWFydGxvb2tUaW1lZEN1c3RvbUV2ZW50U3RvcCk6IHZvaWQge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2FuY2VscyB0aW1lZCBldmVudC4gSXQgY2FsY3VsYXRlcyBldmVudCBkdXJhdGlvbiBhbmQgbm90ZXMgdGhhdCB0aGlzIGV2ZW50IGhhcyBmYWlsZWQuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gdGltZWRFdmVudCBTbWFydGxvb2tUaW1lZEN1c3RvbUV2ZW50Q2FuY2VsIG9iamVjdC5cclxuICAgKiBAcGFyYW0gdGltZWRFdmVudC5ldmVudElkIChyZXF1aXJlZCkgVW5pcXVlIGV2ZW50IGlkIHRoYXQgaXMgdXNlZCB0byBpZGVudGlmeSB0aGlzIGV2ZW50LlxyXG4gICAqIEBwYXJhbSB0aW1lZEV2ZW50LnJlYXNvbiAocmVxdWlyZWQpIFNob3J0IHN0cmluZyBkZXNjcmlwdGlvbiBleHBsYWluaW5nIHdoeSB0aGUgZXZlbnQgd2FzIGNhbmNlbGVkLlxyXG4gICAqIEBwYXJhbSB0aW1lZEV2ZW50LmV2ZW50UHJvcGVydGllcyAob3B0aW9uYWwpIHRpbWVkIGV2ZW50IHByb3BlcnRpZXMgb2JqZWN0LiBUaGVzZSBwcm9wZXJ0aWVzXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmUgZ29pbmcgdG8gYmUgbWVyZ2VkIHdpdGggcHJvcGVydGllcyBwYXNzZWQgaW4gc3RhcnQuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoeyBzeW5jOiB0cnVlIH0pXHJcbiAgY2FuY2VsVGltZWRDdXN0b21FdmVudCh0aW1lZEV2ZW50OiBTbWFydGxvb2tUaW1lZEN1c3RvbUV2ZW50Q2FuY2VsKTogdm9pZCB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBUcmFjayBjdXN0b20gZXZlbnQuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gZXZlbnQgU21hcnRsb29rQ3VzdG9tRXZlbnQgb2JqZWN0LlxyXG4gICAqIEBwYXJhbSBldmVudC5uYW1lIChyZXF1aXJlZCkgc3RyaW5nIHVzZWQgdG8gaWRlbnRpZnkgZXZlbnQuXHJcbiAgICogQHBhcmFtIGV2ZW50LmV2ZW50UHJvcGVydGllcyAob3B0aW9uYWwpIGV2ZW50IHByb3BlcnRpZXMgb2JqZWN0LlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxyXG4gIHRyYWNrQ3VzdG9tRXZlbnQoZXZlbnQ6IFNtYXJ0bG9va0N1c3RvbUV2ZW50KTogdm9pZCB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgZ2xvYmFsIGV2ZW50IHByb3BlcnRpZXMgdGhhdCB3aWxsIGJlIGFkZGVkIHRvIGV2ZXJ5IHRyYWNrZWQgZXZlbnQuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gcHJvcGVydGllcyBTbWFydGxvb2tHbG9iYWxFdmVudFByb3BlcnRpZXMgb2JqZWN0LlxyXG4gICAqIEBwYXJhbSBwcm9wZXJ0aWVzLmdsb2JhbEV2ZW50UHJvcGVydGllcyAocmVxdWlyZWQpIGdsb2JhbCBldmVudCBwcm9wZXJ0aWVzIG9iamVjdC5cclxuICAgKiBAcGFyYW0gcHJvcGVydGllcy5pbW11dGFibGUgKHJlcXVpcmVkKSBJZiBzZXQgdG8gVFJVRSB0aGVzZSBwcm9wZXJ0aWVzIGhhdmUgaGlnaGVyIHByaW9yaXR5XHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGFuIG11dGFibGUgb25lcyBhbmQgYWxzbyB0aGV5IGNhbm5vdCBiZSBjaGFuZ2VkIChvbmx5IHJlbW92ZWQpLlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxyXG4gIHNldEdsb2JhbEV2ZW50UHJvcGVydGllcyhwcm9wZXJ0aWVzOiBTbWFydGxvb2tHbG9iYWxFdmVudFByb3BlcnRpZXMpOiB2b2lkIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENoZWNrIGlmIFNESyBpcyBjdXJyZW50bHkgcmVjb3JkaW5nLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHByb3BlcnR5IFNtYXJ0bG9va0dsb2JhbEV2ZW50UHJvcGVydHkgb2JqZWN0LlxyXG4gICAqIEBwYXJhbSBwcm9wZXJ0eS5rZXkgKHJlcXVpcmVkKSBnbG9iYWwgcHJvcGVydHkga2V5LlxyXG4gICAqIEBwYXJhbSBwcm9wZXJ0eS52YWx1ZSAocmVxdWlyZWQpIGdsb2JhbCBwcm9wZXJ0eSB2YWx1ZS5cclxuICAgKiBAcGFyYW0gcHJvcGVydHkuaW1tdXRhYmxlIChyZXF1aXJlZCkgSWYgc2V0IHRvIFRSVUUgdGhlc2UgcHJvcGVydGllcyBoYXZlIGhpZ2hlciBwcmlvcml0eVxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhbiBtdXRhYmxlIG9uZXMgYW5kIGFsc28gdGhleSBjYW5ub3QgYmUgY2hhbmdlZCAob25seSByZW1vdmVkKS5cclxuICAgKi9cclxuICBAQ29yZG92YSh7IHN5bmM6IHRydWUgfSlcclxuICBzZXRHbG9iYWxFdmVudFByb3BlcnR5KHByb3BlcnR5OiBTbWFydGxvb2tHbG9iYWxFdmVudFByb3BlcnR5KTogdm9pZCB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZW1vdmUgcHJvcGVydHkgZnJvbSBnbG9iYWwgZXZlbnQgcHJvcGVydGllcy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBwcm9wZXJ0eSBTbWFydGxvb2tHbG9iYWxFdmVudFByb3BlcnR5S2V5IG9iamVjdC5cclxuICAgKiBAcGFyYW0gcHJvcGVydHkua2V5IChyZXF1aXJlZCkgR2xvYmFsIHByb3BlcnR5IGtleS5cclxuICAgKi9cclxuICBAQ29yZG92YSh7IHN5bmM6IHRydWUgfSlcclxuICByZW1vdmVHbG9iYWxFdmVudFByb3BlcnR5KHByb3BlcnR5OiBTbWFydGxvb2tHbG9iYWxFdmVudFByb3BlcnR5S2V5KTogdm9pZCB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZW1vdmUgYWxsIHByb3BlcnRpZXMgZnJvbSBnbG9iYWwgZXZlbnQgcHJvcGVydGllcy5cclxuICAgKi9cclxuICBAQ29yZG92YSh7IHN5bmM6IHRydWUgfSlcclxuICByZW1vdmVBbGxHbG9iYWxFdmVudFByb3BlcnRpZXMoKTogdm9pZCB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBQb3NzaWJpbGl0eSB0byBtYW51YWxseSBzZXQgcmVmZXJyZXIgYW5kIHNvdXJjZSBvZiB0aGUgaW5zdGFsbGF0aW9uIHZpc2libGUgaW4gZGFzaGJvYXJkXHJcbiAgICogYW5kIGFjY2Vzc2libGUgdmlhIGZpbHRlcnMuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gcmVmZXJyZXIgU21hcnRsb29rUmVmZXJyZXIgb2JqZWN0LlxyXG4gICAqIEBwYXJhbSByZWZlcnJlci5yZWZlcnJlciAocmVxdWlyZWQpIERlc2lyZWQgcmVmZXJyZXIgdmFsdWUuXHJcbiAgICogQHBhcmFtIHJlZmVycmVyLnNvdXJjZSAocmVxdWlyZWQpIERlc2lyZWQgc291cmNlLCBpLmUuIGNvbS5hbmRyb2lkLnZlbmRpbmcgb3IgY29tLmFtYXpvbi52ZW5lemlhLlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxyXG4gIHNldFJlZmVycmVyKHJlZmVycmVyOiBTbWFydGxvb2tSZWZlcnJlcik6IHZvaWQge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogT2J0YWluIHNlc3Npb24gVVJMIGxlYWRpbmcgdG8gb3VyIGRhc2hib2FyZC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBzbWFydGxvb2tEYXNoYm9hcmRTZXNzaW9uVXJsIFNtYXJ0bG9va0Rhc2hib2FyZFNlc3Npb25Vcmwgb2JqZWN0LlxyXG4gICAqIEBwYXJhbSBzbWFydGxvb2tEYXNoYm9hcmRTZXNzaW9uVXJsLndpdGhDdXJyZW50VGltZXN0YW1wIElmIHNldCB0byBUUlVFIHJlY29yZCB3aWxsIHN0YXJ0IGF0IGN1cnJlbnQgdGltZXN0YW1wLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IFJldHVybnMgYSBwcm9taXNlIHdpdGggZGFzaGJvYXJkIHNlc3Npb24gVVJMIHN0cmluZy5cclxuICAgKi9cclxuICBAQ29yZG92YSgpXHJcbiAgZ2V0RGFzaGJvYXJkU2Vzc2lvblVybChzbWFydGxvb2tEYXNoYm9hcmRTZXNzaW9uVXJsOiBTbWFydGxvb2tEYXNoYm9hcmRTZXNzaW9uVXJsKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE9idGFpbiB2aXNpdG9yIFVSTCBsZWFkaW5nIHRvIG91ciBkYXNoYm9hcmQuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aXRoIGRhc2hib2FyZCB2aXNpdG9yIFVSTCBzdHJpbmcuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoKVxyXG4gIGdldERhc2hib2FyZFZpc2l0b3JVcmwoKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEludGVncmF0aW9uIGxpc3RlbmVyIGNhbiBiZSB1c2VkIHRvIG9idGFpbiBkYXNoYm9hcmQgVVJMIGZvciBjdXJyZW50IHNlc3Npb24gYW5kIHZpc2l0b3IuXHJcbiAgICogVGhlc2UgVVJMcyBjYW4gYmUgcHJvcGFnYXRlZCB0byB2YXJpb3VzIGFuYWx5dGljIHRvb2xzL1NES3MuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gaW50ZWdyYXRpb25MaXN0ZW5lciBTbWFydGxvb2tJbnRlZ3JhdGlvbkxpc3RlbmVyIG9iamVjdC5cclxuICAgKiBAcGFyYW0gaW50ZWdyYXRpb25MaXN0ZW5lci5vblNlc3Npb25SZWFkeSBDYWxsZWQgd2hlbiBkYXNoYm9hcmQgc2Vzc2lvbiBVUkwgaXMgcmVhZHkuIE5vdGUgdGhhdCB0aGlzIFVSTCBjYW4gYmUgYWNjZXNlZCBvbmx5IGJ5IHVzZXJcclxuICAgKiB0aGF0IGhhcyBhY2Nlc3MgdG8gU21hcnRsb29rIGRhc2hib2FyZCAoaXQgaXMgbm90IHB1YmxpYyBzaGFyZSBsaW5rKS5cclxuICAgKiBAcGFyYW0gaW50ZWdyYXRpb25MaXN0ZW5lci5vblZpc2l0b3JSZWFkeSBDYWxsZWQgd2hlbiBkYXNoYm9hcmQgdmlzaXRvciBVUkwgaXMgcmVhZHkuIE5vdGUgdGhhdCB0aGlzIFVSTCBjYW4gYmUgYWNjZXNlZCBvbmx5IGJ5IHVzZXJcclxuICAgKiB0aGF0IGhhcyBhY2Nlc3MgdG8gU21hcnRsb29rIGRhc2hib2FyZCAoaXQgaXMgbm90IHB1YmxpYyBzaGFyZSBsaW5rKS5cclxuICAgKi9cclxuICBAQ29yZG92YSh7IHN5bmM6IHRydWUgfSlcclxuICByZWdpc3RlckludGVncmF0aW9uTGlzdGVuZXIoaW50ZWdyYXRpb25MaXN0ZW5lcjogU21hcnRsb29rSW50ZWdyYXRpb25MaXN0ZW5lcik6IHZvaWQge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQnkgY2hhbmdpbmcgcmVuZGVyaW5nIG1vZGUgeW91IGNhbiBhZGp1c3QgdGhlIHdheSB3ZSByZW5kZXIgdGhlIGFwcGxpY2F0aW9uIGZvciByZWNvcmRpbmdzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIG9wdGlvbnMucmVuZGVyaW5nTW9kZSBNb2RlIGRlZmluaW5nIHRoZSB2aWRlbyBvdXRwdXQgb2YgcmVjb3JkaW5nLiBDdXJlbnRseSBvbmx5XHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTbWFydGxvb2tSZW5kZXJpbmdNb2RlLk5PX1JFTkRFUklORygpIGFuZCBTbWFydGxvb2tSZW5kZXJpbmdNb2RlLk5BVElWRSgpIGF2YWlsYWJsZS5cclxuICAgKiBAcGFyYW0gcmVuZGVyaW5nTW9kZVxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxyXG4gIHNldFJlbmRlcmluZ01vZGUocmVuZGVyaW5nTW9kZTogU21hcnRsb29rUmVuZGVyaW5nTW9kZSk6IHZvaWQge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVW5yZWdpc3RlciBJbnRlZ3JhdGlvbiBsaXN0ZW5lciAoQHNlZSByZWdpc3RlckludGVncmF0aW9uTGlzdGVuZXIoKSlcclxuICAgKi9cclxuICBAQ29yZG92YSh7IHN5bmM6IHRydWUgfSlcclxuICB1bnJlZ2lzdGVySW50ZWdyYXRpb25MaXN0ZW5lcigpOiB2b2lkIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcbn1cclxuIl19